import './polyfills.server.mjs';
import{C as TI,D as xo,E as NI,F as Wl,Fa as tN,Ia as LI,J as $T,Ja as OI,R as Gt,U as kI,V as Rs,W as Ts,Y as XT,_ as FI,a as Gl,c as JT,d as zT,da as MI,e as _I,f as SI,g as bI,h as DI,j as lA,k as jT,m as KT,n as Af,o as Hl,p as cf,q as ai,qa as Jl,r as Yn,s as lf,u as Wn,ua as xI,v as Yl,va as ZT,x as Ai,y as xr,z as RI,za as eN}from"./chunk-OIPSUF4K.mjs";import{a as k,b as j,c as B,d as WT,e as Xt,f as m,h as ql,i as p,j as cA,k as oi,l as Mo,m as Nn}from"./chunk-3CVZQN5Z.mjs";var ze=m((yBe,RN)=>{"use strict";RN.exports={kClose:Symbol("close"),kDestroy:Symbol("destroy"),kDispatch:Symbol("dispatch"),kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kConnecting:Symbol("connecting"),kHeadersList:Symbol("headers list"),kKeepAliveDefaultTimeout:Symbol("default keep alive timeout"),kKeepAliveMaxTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeout threshold"),kKeepAliveTimeoutValue:Symbol("keep alive timeout"),kKeepAlive:Symbol("keep alive"),kHeadersTimeout:Symbol("headers timeout"),kBodyTimeout:Symbol("body timeout"),kServerName:Symbol("server name"),kLocalAddress:Symbol("local address"),kHost:Symbol("host"),kNoRef:Symbol("no ref"),kBodyUsed:Symbol("used"),kRunning:Symbol("running"),kBlocking:Symbol("blocking"),kPending:Symbol("pending"),kSize:Symbol("size"),kBusy:Symbol("busy"),kQueued:Symbol("queued"),kFree:Symbol("free"),kConnected:Symbol("connected"),kClosed:Symbol("closed"),kNeedDrain:Symbol("need drain"),kReset:Symbol("reset"),kDestroyed:Symbol.for("nodejs.stream.destroyed"),kMaxHeadersSize:Symbol("max headers size"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClients:Symbol("clients"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelining"),kSocket:Symbol("socket"),kHostHeader:Symbol("host header"),kConnector:Symbol("connector"),kStrictContentLength:Symbol("strict content length"),kMaxRedirections:Symbol("maxRedirections"),kMaxRequests:Symbol("maxRequestsPerClient"),kProxy:Symbol("proxy agent options"),kCounter:Symbol("socket request counter"),kInterceptors:Symbol("dispatch interceptors"),kMaxResponseSize:Symbol("max response size"),kHTTP2Session:Symbol("http2Session"),kHTTP2SessionState:Symbol("http2Session state"),kHTTP2BuildRequest:Symbol("http2 build request"),kHTTP1BuildRequest:Symbol("http1 build request"),kHTTP2CopyHeaders:Symbol("http2 copy headers"),kHTTPConnVersion:Symbol("http connection version"),kRetryHandlerDefaultRetry:Symbol("retry agent default retry"),kConstruct:Symbol("constructable")}});var He=m((BBe,TN)=>{"use strict";var Ct=class extends Error{constructor(e){super(e),this.name="UndiciError",this.code="UND_ERR"}},Ay=class t extends Ct{constructor(e){super(e),Error.captureStackTrace(this,t),this.name="ConnectTimeoutError",this.message=e||"Connect Timeout Error",this.code="UND_ERR_CONNECT_TIMEOUT"}},cy=class t extends Ct{constructor(e){super(e),Error.captureStackTrace(this,t),this.name="HeadersTimeoutError",this.message=e||"Headers Timeout Error",this.code="UND_ERR_HEADERS_TIMEOUT"}},ly=class t extends Ct{constructor(e){super(e),Error.captureStackTrace(this,t),this.name="HeadersOverflowError",this.message=e||"Headers Overflow Error",this.code="UND_ERR_HEADERS_OVERFLOW"}},uy=class t extends Ct{constructor(e){super(e),Error.captureStackTrace(this,t),this.name="BodyTimeoutError",this.message=e||"Body Timeout Error",this.code="UND_ERR_BODY_TIMEOUT"}},hy=class t extends Ct{constructor(e,n,r,i){super(e),Error.captureStackTrace(this,t),this.name="ResponseStatusCodeError",this.message=e||"Response Status Code Error",this.code="UND_ERR_RESPONSE_STATUS_CODE",this.body=i,this.status=n,this.statusCode=n,this.headers=r}},dy=class t extends Ct{constructor(e){super(e),Error.captureStackTrace(this,t),this.name="InvalidArgumentError",this.message=e||"Invalid Argument Error",this.code="UND_ERR_INVALID_ARG"}},fy=class t extends Ct{constructor(e){super(e),Error.captureStackTrace(this,t),this.name="InvalidReturnValueError",this.message=e||"Invalid Return Value Error",this.code="UND_ERR_INVALID_RETURN_VALUE"}},gy=class t extends Ct{constructor(e){super(e),Error.captureStackTrace(this,t),this.name="AbortError",this.message=e||"Request aborted",this.code="UND_ERR_ABORTED"}},py=class t extends Ct{constructor(e){super(e),Error.captureStackTrace(this,t),this.name="InformationalError",this.message=e||"Request information",this.code="UND_ERR_INFO"}},Ey=class t extends Ct{constructor(e){super(e),Error.captureStackTrace(this,t),this.name="RequestContentLengthMismatchError",this.message=e||"Request body length does not match content-length header",this.code="UND_ERR_REQ_CONTENT_LENGTH_MISMATCH"}},my=class t extends Ct{constructor(e){super(e),Error.captureStackTrace(this,t),this.name="ResponseContentLengthMismatchError",this.message=e||"Response body length does not match content-length header",this.code="UND_ERR_RES_CONTENT_LENGTH_MISMATCH"}},Cy=class t extends Ct{constructor(e){super(e),Error.captureStackTrace(this,t),this.name="ClientDestroyedError",this.message=e||"The client is destroyed",this.code="UND_ERR_DESTROYED"}},Iy=class t extends Ct{constructor(e){super(e),Error.captureStackTrace(this,t),this.name="ClientClosedError",this.message=e||"The client is closed",this.code="UND_ERR_CLOSED"}},yy=class t extends Ct{constructor(e,n){super(e),Error.captureStackTrace(this,t),this.name="SocketError",this.message=e||"Socket error",this.code="UND_ERR_SOCKET",this.socket=n}},wf=class t extends Ct{constructor(e){super(e),Error.captureStackTrace(this,t),this.name="NotSupportedError",this.message=e||"Not supported error",this.code="UND_ERR_NOT_SUPPORTED"}},By=class extends Ct{constructor(e){super(e),Error.captureStackTrace(this,wf),this.name="MissingUpstreamError",this.message=e||"No upstream has been added to the BalancedPool",this.code="UND_ERR_BPL_MISSING_UPSTREAM"}},Qy=class t extends Error{constructor(e,n,r){super(e),Error.captureStackTrace(this,t),this.name="HTTPParserError",this.code=n?`HPE_${n}`:void 0,this.data=r?r.toString():void 0}},wy=class t extends Ct{constructor(e){super(e),Error.captureStackTrace(this,t),this.name="ResponseExceededMaxSizeError",this.message=e||"Response content exceeded max size",this.code="UND_ERR_RES_EXCEEDED_MAX_SIZE"}},vy=class t extends Ct{constructor(e,n,{headers:r,data:i}){super(e),Error.captureStackTrace(this,t),this.name="RequestRetryError",this.message=e||"Request retry error",this.code="UND_ERR_REQ_RETRY",this.statusCode=n,this.data=i,this.headers=r}};TN.exports={HTTPParserError:Qy,UndiciError:Ct,HeadersTimeoutError:cy,HeadersOverflowError:ly,BodyTimeoutError:uy,RequestContentLengthMismatchError:Ey,ConnectTimeoutError:Ay,ResponseStatusCodeError:hy,InvalidArgumentError:dy,InvalidReturnValueError:fy,RequestAbortedError:gy,ClientDestroyedError:Cy,ClientClosedError:Iy,InformationalError:py,SocketError:yy,NotSupportedError:wf,ResponseContentLengthMismatchError:my,BalancedPoolMissingUpstreamError:By,ResponseExceededMaxSizeError:wy,RequestRetryError:vy}});var kN=m((QBe,NN)=>{"use strict";var vf={},_y=["Accept","Accept-Encoding","Accept-Language","Accept-Ranges","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Age","Allow","Alt-Svc","Alt-Used","Authorization","Cache-Control","Clear-Site-Data","Connection","Content-Disposition","Content-Encoding","Content-Language","Content-Length","Content-Location","Content-Range","Content-Security-Policy","Content-Security-Policy-Report-Only","Content-Type","Cookie","Cross-Origin-Embedder-Policy","Cross-Origin-Opener-Policy","Cross-Origin-Resource-Policy","Date","Device-Memory","Downlink","ECT","ETag","Expect","Expect-CT","Expires","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Keep-Alive","Last-Modified","Link","Location","Max-Forwards","Origin","Permissions-Policy","Pragma","Proxy-Authenticate","Proxy-Authorization","RTT","Range","Referer","Referrer-Policy","Refresh","Retry-After","Sec-WebSocket-Accept","Sec-WebSocket-Extensions","Sec-WebSocket-Key","Sec-WebSocket-Protocol","Sec-WebSocket-Version","Server","Server-Timing","Service-Worker-Allowed","Service-Worker-Navigation-Preload","Set-Cookie","SourceMap","Strict-Transport-Security","Supports-Loading-Mode","TE","Timing-Allow-Origin","Trailer","Transfer-Encoding","Upgrade","Upgrade-Insecure-Requests","User-Agent","Vary","Via","WWW-Authenticate","X-Content-Type-Options","X-DNS-Prefetch-Control","X-Frame-Options","X-Permitted-Cross-Domain-Policies","X-Powered-By","X-Requested-With","X-XSS-Protection"];for(let t=0;t<_y.length;++t){let e=_y[t],n=e.toLowerCase();vf[e]=vf[n]=n}Object.setPrototypeOf(vf,null);NN.exports={wellknownHeaderNames:_y,headerNameLowerCasedRecord:vf}});var Qe=m((wBe,HN)=>{"use strict";var LN=B("assert"),{kDestroyed:ON,kBodyUsed:FN}=ze(),{IncomingMessage:g9}=B("http"),gA=B("stream"),p9=B("net"),{InvalidArgumentError:Ht}=He(),{Blob:MN}=B("buffer"),_f=B("util"),{stringify:E9}=B("querystring"),{headerNameLowerCasedRecord:m9}=kN(),[Sy,xN]=process.versions.node.split(".").map(t=>Number(t));function C9(){}function by(t){return t&&typeof t=="object"&&typeof t.pipe=="function"&&typeof t.on=="function"}function UN(t){return MN&&t instanceof MN||t&&typeof t=="object"&&(typeof t.stream=="function"||typeof t.arrayBuffer=="function")&&/^(Blob|File)$/.test(t[Symbol.toStringTag])}function I9(t,e){if(t.includes("?")||t.includes("#"))throw new Error('Query params cannot be passed when url already contains "?" or "#".');let n=E9(e);return n&&(t+="?"+n),t}function PN(t){if(typeof t=="string"){if(t=new URL(t),!/^https?:/.test(t.origin||t.protocol))throw new Ht("Invalid URL protocol: the URL must start with `http:` or `https:`.");return t}if(!t||typeof t!="object")throw new Ht("Invalid URL: The URL argument must be a non-null object.");if(!/^https?:/.test(t.origin||t.protocol))throw new Ht("Invalid URL protocol: the URL must start with `http:` or `https:`.");if(!(t instanceof URL)){if(t.port!=null&&t.port!==""&&!Number.isFinite(parseInt(t.port)))throw new Ht("Invalid URL: port must be a valid integer or a string representation of an integer.");if(t.path!=null&&typeof t.path!="string")throw new Ht("Invalid URL path: the path must be a string or null/undefined.");if(t.pathname!=null&&typeof t.pathname!="string")throw new Ht("Invalid URL pathname: the pathname must be a string or null/undefined.");if(t.hostname!=null&&typeof t.hostname!="string")throw new Ht("Invalid URL hostname: the hostname must be a string or null/undefined.");if(t.origin!=null&&typeof t.origin!="string")throw new Ht("Invalid URL origin: the origin must be a string or null/undefined.");let e=t.port!=null?t.port:t.protocol==="https:"?443:80,n=t.origin!=null?t.origin:`${t.protocol}//${t.hostname}:${e}`,r=t.path!=null?t.path:`${t.pathname||""}${t.search||""}`;n.endsWith("/")&&(n=n.substring(0,n.length-1)),r&&!r.startsWith("/")&&(r=`/${r}`),t=new URL(n+r)}return t}function y9(t){if(t=PN(t),t.pathname!=="/"||t.search||t.hash)throw new Ht("invalid url");return t}function B9(t){if(t[0]==="["){let n=t.indexOf("]");return LN(n!==-1),t.substring(1,n)}let e=t.indexOf(":");return e===-1?t:t.substring(0,e)}function Q9(t){if(!t)return null;LN.strictEqual(typeof t,"string");let e=B9(t);return p9.isIP(e)?"":e}function w9(t){return JSON.parse(JSON.stringify(t))}function v9(t){return t!=null&&typeof t[Symbol.asyncIterator]=="function"}function _9(t){return t!=null&&(typeof t[Symbol.iterator]=="function"||typeof t[Symbol.asyncIterator]=="function")}function S9(t){if(t==null)return 0;if(by(t)){let e=t._readableState;return e&&e.objectMode===!1&&e.ended===!0&&Number.isFinite(e.length)?e.length:null}else{if(UN(t))return t.size!=null?t.size:null;if(qN(t))return t.byteLength}return null}function Dy(t){return!t||!!(t.destroyed||t[ON])}function VN(t){let e=t&&t._readableState;return Dy(t)&&e&&!e.endEmitted}function b9(t,e){t==null||!by(t)||Dy(t)||(typeof t.destroy=="function"?(Object.getPrototypeOf(t).constructor===g9&&(t.socket=null),t.destroy(e)):e&&process.nextTick((n,r)=>{n.emit("error",r)},t,e),t.destroyed!==!0&&(t[ON]=!0))}var D9=/timeout=(\d+)/;function R9(t){let e=t.toString().match(D9);return e?parseInt(e[1],10)*1e3:null}function T9(t){return m9[t]||t.toLowerCase()}function N9(t,e={}){if(!Array.isArray(t))return t;for(let n=0;n<t.length;n+=2){let r=t[n].toString().toLowerCase(),i=e[r];i?(Array.isArray(i)||(i=[i],e[r]=i),i.push(t[n+1].toString("utf8"))):Array.isArray(t[n+1])?e[r]=t[n+1].map(s=>s.toString("utf8")):e[r]=t[n+1].toString("utf8")}return"content-length"in e&&"content-disposition"in e&&(e["content-disposition"]=Buffer.from(e["content-disposition"]).toString("latin1")),e}function k9(t){let e=[],n=!1,r=-1;for(let i=0;i<t.length;i+=2){let s=t[i+0].toString(),o=t[i+1].toString("utf8");s.length===14&&(s==="content-length"||s.toLowerCase()==="content-length")?(e.push(s,o),n=!0):s.length===19&&(s==="content-disposition"||s.toLowerCase()==="content-disposition")?r=e.push(s,o)-1:e.push(s,o)}return n&&r!==-1&&(e[r]=Buffer.from(e[r]).toString("latin1")),e}function qN(t){return t instanceof Uint8Array||Buffer.isBuffer(t)}function F9(t,e,n){if(!t||typeof t!="object")throw new Ht("handler must be an object");if(typeof t.onConnect!="function")throw new Ht("invalid onConnect method");if(typeof t.onError!="function")throw new Ht("invalid onError method");if(typeof t.onBodySent!="function"&&t.onBodySent!==void 0)throw new Ht("invalid onBodySent method");if(n||e==="CONNECT"){if(typeof t.onUpgrade!="function")throw new Ht("invalid onUpgrade method")}else{if(typeof t.onHeaders!="function")throw new Ht("invalid onHeaders method");if(typeof t.onData!="function")throw new Ht("invalid onData method");if(typeof t.onComplete!="function")throw new Ht("invalid onComplete method")}}function M9(t){return!!(t&&(gA.isDisturbed?gA.isDisturbed(t)||t[FN]:t[FN]||t.readableDidRead||t._readableState&&t._readableState.dataEmitted||VN(t)))}function x9(t){return!!(t&&(gA.isErrored?gA.isErrored(t):/state: 'errored'/.test(_f.inspect(t))))}function L9(t){return!!(t&&(gA.isReadable?gA.isReadable(t):/state: 'readable'/.test(_f.inspect(t))))}function O9(t){return{localAddress:t.localAddress,localPort:t.localPort,remoteAddress:t.remoteAddress,remotePort:t.remotePort,remoteFamily:t.remoteFamily,timeout:t.timeout,bytesWritten:t.bytesWritten,bytesRead:t.bytesRead}}function U9(t){return oi(this,null,function*(){try{for(var e=Nn(t),n,r,i;n=!(r=yield new cA(e.next())).done;n=!1){let s=r.value;yield Buffer.isBuffer(s)?s:Buffer.from(s)}}catch{i=[r]}finally{try{n&&(r=e.return)&&(yield new cA(r.call(e)))}finally{if(i)throw i[0]}}})}var su;function P9(t){if(su||(su=B("stream/web").ReadableStream),su.from)return su.from(U9(t));let e;return new su({start(){return p(this,null,function*(){e=t[Symbol.asyncIterator]()})},pull(r){return p(this,null,function*(){let{done:i,value:s}=yield e.next();if(i)queueMicrotask(()=>{r.close()});else{let o=Buffer.isBuffer(s)?s:Buffer.from(s);r.enqueue(new Uint8Array(o))}return r.desiredSize>0})},cancel(r){return p(this,null,function*(){yield e.return()})}},0)}function V9(t){return t&&typeof t=="object"&&typeof t.append=="function"&&typeof t.delete=="function"&&typeof t.get=="function"&&typeof t.getAll=="function"&&typeof t.has=="function"&&typeof t.set=="function"&&t[Symbol.toStringTag]==="FormData"}function q9(t){if(t){if(typeof t.throwIfAborted=="function")t.throwIfAborted();else if(t.aborted){let e=new Error("The operation was aborted");throw e.name="AbortError",e}}}function G9(t,e){return"addEventListener"in t?(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)):(t.addListener("abort",e),()=>t.removeListener("abort",e))}var H9=!!String.prototype.toWellFormed;function Y9(t){return H9?`${t}`.toWellFormed():_f.toUSVString?_f.toUSVString(t):`${t}`}function W9(t){if(t==null||t==="")return{start:0,end:null,size:null};let e=t?t.match(/^bytes (\d+)-(\d+)\/(\d+)?$/):null;return e?{start:parseInt(e[1]),end:e[2]?parseInt(e[2]):null,size:e[3]?parseInt(e[3]):null}:null}var GN=Object.create(null);GN.enumerable=!0;HN.exports={kEnumerableProperty:GN,nop:C9,isDisturbed:M9,isErrored:x9,isReadable:L9,toUSVString:Y9,isReadableAborted:VN,isBlobLike:UN,parseOrigin:y9,parseURL:PN,getServerName:Q9,isStream:by,isIterable:_9,isAsyncIterable:v9,isDestroyed:Dy,headerNameToString:T9,parseRawHeaders:k9,parseHeaders:N9,parseKeepAliveTimeout:R9,destroy:b9,bodyLength:S9,deepClone:w9,ReadableStreamFrom:P9,isBuffer:qN,validateHandler:F9,getSocketInfo:O9,isFormDataLike:V9,buildURL:I9,throwIfAborted:q9,addAbortListener:G9,parseRangeHeader:W9,nodeMajor:Sy,nodeMinor:xN,nodeHasAutoSelectFamily:Sy>18||Sy===18&&xN>=13,safeHTTPMethods:["GET","HEAD","OPTIONS","TRACE"]}});var JN=m((_Be,WN)=>{"use strict";var Ry=Date.now(),Ms,xs=[];function J9(){Ry=Date.now();let t=xs.length,e=0;for(;e<t;){let n=xs[e];n.state===0?n.state=Ry+n.delay:n.state>0&&Ry>=n.state&&(n.state=-1,n.callback(n.opaque)),n.state===-1?(n.state=-2,e!==t-1?xs[e]=xs.pop():xs.pop(),t-=1):e+=1}xs.length>0&&YN()}function YN(){Ms&&Ms.refresh?Ms.refresh():(clearTimeout(Ms),Ms=setTimeout(J9,1e3),Ms.unref&&Ms.unref())}var Sf=class{constructor(e,n,r){this.callback=e,this.delay=n,this.opaque=r,this.state=-2,this.refresh()}refresh(){this.state===-2&&(xs.push(this),(!Ms||xs.length===1)&&YN()),this.state=0}clear(){this.state=-1}};WN.exports={setTimeout(t,e,n){return e<1e3?setTimeout(t,e,n):new Sf(t,e,n)},clearTimeout(t){t instanceof Sf?t.clear():clearTimeout(t)}}});var Ty=m((SBe,zN)=>{"use strict";var z9=B("events").EventEmitter,j9=B("util").inherits;function zo(t){if(typeof t=="string"&&(t=Buffer.from(t)),!Buffer.isBuffer(t))throw new TypeError("The needle has to be a String or a Buffer.");let e=t.length;if(e===0)throw new Error("The needle cannot be an empty String/Buffer.");if(e>256)throw new Error("The needle cannot have a length bigger than 256.");this.maxMatches=1/0,this.matches=0,this._occ=new Array(256).fill(e),this._lookbehind_size=0,this._needle=t,this._bufpos=0,this._lookbehind=Buffer.alloc(e);for(var n=0;n<e-1;++n)this._occ[t[n]]=e-1-n}j9(zo,z9);zo.prototype.reset=function(){this._lookbehind_size=0,this.matches=0,this._bufpos=0};zo.prototype.push=function(t,e){Buffer.isBuffer(t)||(t=Buffer.from(t,"binary"));let n=t.length;this._bufpos=e||0;let r;for(;r!==n&&this.matches<this.maxMatches;)r=this._sbmh_feed(t);return r};zo.prototype._sbmh_feed=function(t){let e=t.length,n=this._needle,r=n.length,i=n[r-1],s=-this._lookbehind_size,o;if(s<0){for(;s<0&&s<=e-r;){if(o=this._sbmh_lookup_char(t,s+r-1),o===i&&this._sbmh_memcmp(t,s,r-1))return this._lookbehind_size=0,++this.matches,this.emit("info",!0),this._bufpos=s+r;s+=this._occ[o]}if(s<0)for(;s<0&&!this._sbmh_memcmp(t,s,e-s);)++s;if(s>=0)this.emit("info",!1,this._lookbehind,0,this._lookbehind_size),this._lookbehind_size=0;else{let a=this._lookbehind_size+s;return a>0&&this.emit("info",!1,this._lookbehind,0,a),this._lookbehind.copy(this._lookbehind,0,a,this._lookbehind_size-a),this._lookbehind_size-=a,t.copy(this._lookbehind,this._lookbehind_size),this._lookbehind_size+=e,this._bufpos=e,e}}if(s+=(s>=0)*this._bufpos,t.indexOf(n,s)!==-1)return s=t.indexOf(n,s),++this.matches,s>0?this.emit("info",!0,t,this._bufpos,s):this.emit("info",!0),this._bufpos=s+r;for(s=e-r;s<e&&(t[s]!==n[0]||Buffer.compare(t.subarray(s,s+e-s),n.subarray(0,e-s))!==0);)++s;return s<e&&(t.copy(this._lookbehind,0,s,s+(e-s)),this._lookbehind_size=e-s),s>0&&this.emit("info",!1,t,this._bufpos,s<e?s:e),this._bufpos=e,e};zo.prototype._sbmh_lookup_char=function(t,e){return e<0?this._lookbehind[this._lookbehind_size+e]:t[e]};zo.prototype._sbmh_memcmp=function(t,e,n){for(var r=0;r<n;++r)if(this._sbmh_lookup_char(t,e+r)!==this._needle[r])return!1;return!0};zN.exports=zo});var $N=m((bBe,KN)=>{"use strict";var K9=B("util").inherits,jN=B("stream").Readable;function Ny(t){jN.call(this,t)}K9(Ny,jN);Ny.prototype._read=function(t){};KN.exports=Ny});var bf=m((DBe,XN)=>{"use strict";XN.exports=function(e,n,r){if(!e||e[n]===void 0||e[n]===null)return r;if(typeof e[n]!="number"||isNaN(e[n]))throw new TypeError("Limit "+n+" is not a valid number");return e[n]}});var nk=m((RBe,tk)=>{"use strict";var ek=B("events").EventEmitter,$9=B("util").inherits,ZN=bf(),X9=Ty(),Z9=Buffer.from(`\r
\r
`),ej=/\r\n/g,tj=/^([^:]+):[ \t]?([\x00-\xFF]+)?$/;function pA(t){ek.call(this),t=t||{};let e=this;this.nread=0,this.maxed=!1,this.npairs=0,this.maxHeaderPairs=ZN(t,"maxHeaderPairs",2e3),this.maxHeaderSize=ZN(t,"maxHeaderSize",80*1024),this.buffer="",this.header={},this.finished=!1,this.ss=new X9(Z9),this.ss.on("info",function(n,r,i,s){r&&!e.maxed&&(e.nread+s-i>=e.maxHeaderSize?(s=e.maxHeaderSize-e.nread+i,e.nread=e.maxHeaderSize,e.maxed=!0):e.nread+=s-i,e.buffer+=r.toString("binary",i,s)),n&&e._finish()})}$9(pA,ek);pA.prototype.push=function(t){let e=this.ss.push(t);if(this.finished)return e};pA.prototype.reset=function(){this.finished=!1,this.buffer="",this.header={},this.ss.reset()};pA.prototype._finish=function(){this.buffer&&this._parseHeader(),this.ss.matches=this.ss.maxMatches;let t=this.header;this.header={},this.buffer="",this.finished=!0,this.nread=this.npairs=0,this.maxed=!1,this.emit("header",t)};pA.prototype._parseHeader=function(){if(this.npairs===this.maxHeaderPairs)return;let t=this.buffer.split(ej),e=t.length,n,r;for(var i=0;i<e;++i){if(t[i].length===0)continue;if((t[i][0]==="	"||t[i][0]===" ")&&r){this.header[r][this.header[r].length-1]+=t[i];continue}let s=t[i].indexOf(":");if(s===-1||s===0)return;if(n=tj.exec(t[i]),r=n[1].toLowerCase(),this.header[r]=this.header[r]||[],this.header[r].push(n[2]||""),++this.npairs===this.maxHeaderPairs)break}};tk.exports=pA});var Fy=m((TBe,ik)=>{"use strict";var ky=B("stream").Writable,nj=B("util").inherits,rj=Ty(),rk=$N(),ij=nk(),sj=45,oj=Buffer.from("-"),aj=Buffer.from(`\r
`),Aj=function(){};function Lr(t){if(!(this instanceof Lr))return new Lr(t);if(ky.call(this,t),!t||!t.headerFirst&&typeof t.boundary!="string")throw new TypeError("Boundary required");typeof t.boundary=="string"?this.setBoundary(t.boundary):this._bparser=void 0,this._headerFirst=t.headerFirst,this._dashes=0,this._parts=0,this._finished=!1,this._realFinish=!1,this._isPreamble=!0,this._justMatched=!1,this._firstWrite=!0,this._inHeader=!0,this._part=void 0,this._cb=void 0,this._ignoreData=!1,this._partOpts={highWaterMark:t.partHwm},this._pause=!1;let e=this;this._hparser=new ij(t),this._hparser.on("header",function(n){e._inHeader=!1,e._part.emit("header",n)})}nj(Lr,ky);Lr.prototype.emit=function(t){if(t==="finish"&&!this._realFinish){if(!this._finished){let e=this;process.nextTick(function(){if(e.emit("error",new Error("Unexpected end of multipart data")),e._part&&!e._ignoreData){let n=e._isPreamble?"Preamble":"Part";e._part.emit("error",new Error(n+" terminated early due to unexpected end of multipart data")),e._part.push(null),process.nextTick(function(){e._realFinish=!0,e.emit("finish"),e._realFinish=!1});return}e._realFinish=!0,e.emit("finish"),e._realFinish=!1})}}else ky.prototype.emit.apply(this,arguments)};Lr.prototype._write=function(t,e,n){if(!this._hparser&&!this._bparser)return n();if(this._headerFirst&&this._isPreamble){this._part||(this._part=new rk(this._partOpts),this.listenerCount("preamble")!==0?this.emit("preamble",this._part):this._ignore());let r=this._hparser.push(t);if(!this._inHeader&&r!==void 0&&r<t.length)t=t.slice(r);else return n()}this._firstWrite&&(this._bparser.push(aj),this._firstWrite=!1),this._bparser.push(t),this._pause?this._cb=n:n()};Lr.prototype.reset=function(){this._part=void 0,this._bparser=void 0,this._hparser=void 0};Lr.prototype.setBoundary=function(t){let e=this;this._bparser=new rj(`\r
--`+t),this._bparser.on("info",function(n,r,i,s){e._oninfo(n,r,i,s)})};Lr.prototype._ignore=function(){this._part&&!this._ignoreData&&(this._ignoreData=!0,this._part.on("error",Aj),this._part.resume())};Lr.prototype._oninfo=function(t,e,n,r){let i,s=this,o=0,a,A=!0;if(!this._part&&this._justMatched&&e){for(;this._dashes<2&&n+o<r;)if(e[n+o]===sj)++o,++this._dashes;else{this._dashes&&(i=oj),this._dashes=0;break}if(this._dashes===2&&(n+o<r&&this.listenerCount("trailer")!==0&&this.emit("trailer",e.slice(n+o,r)),this.reset(),this._finished=!0,s._parts===0&&(s._realFinish=!0,s.emit("finish"),s._realFinish=!1)),this._dashes)return}this._justMatched&&(this._justMatched=!1),this._part||(this._part=new rk(this._partOpts),this._part._read=function(c){s._unpause()},this._isPreamble&&this.listenerCount("preamble")!==0?this.emit("preamble",this._part):this._isPreamble!==!0&&this.listenerCount("part")!==0?this.emit("part",this._part):this._ignore(),this._isPreamble||(this._inHeader=!0)),e&&n<r&&!this._ignoreData&&(this._isPreamble||!this._inHeader?(i&&(A=this._part.push(i)),A=this._part.push(e.slice(n,r)),A||(this._pause=!0)):!this._isPreamble&&this._inHeader&&(i&&this._hparser.push(i),a=this._hparser.push(e.slice(n,r)),!this._inHeader&&a!==void 0&&a<r&&this._oninfo(!1,e,n+a,r))),t&&(this._hparser.reset(),this._isPreamble?this._isPreamble=!1:n!==r&&(++this._parts,this._part.on("end",function(){--s._parts===0&&(s._finished?(s._realFinish=!0,s.emit("finish"),s._realFinish=!1):s._unpause())})),this._part.push(null),this._part=void 0,this._ignoreData=!1,this._justMatched=!0,this._dashes=0)};Lr.prototype._unpause=function(){if(this._pause&&(this._pause=!1,this._cb)){let t=this._cb;this._cb=void 0,t()}};ik.exports=Lr});var Df=m((My,ak)=>{"use strict";var sk=new TextDecoder("utf-8"),ok=new Map([["utf-8",sk],["utf8",sk]]);function cj(t){let e;for(;;)switch(t){case"utf-8":case"utf8":return ou.utf8;case"latin1":case"ascii":case"us-ascii":case"iso-8859-1":case"iso8859-1":case"iso88591":case"iso_8859-1":case"windows-1252":case"iso_8859-1:1987":case"cp1252":case"x-cp1252":return ou.latin1;case"utf16le":case"utf-16le":case"ucs2":case"ucs-2":return ou.utf16le;case"base64":return ou.base64;default:if(e===void 0){e=!0,t=t.toLowerCase();continue}return ou.other.bind(t)}}var ou={utf8:(t,e)=>t.length===0?"":(typeof t=="string"&&(t=Buffer.from(t,e)),t.utf8Slice(0,t.length)),latin1:(t,e)=>t.length===0?"":typeof t=="string"?t:t.latin1Slice(0,t.length),utf16le:(t,e)=>t.length===0?"":(typeof t=="string"&&(t=Buffer.from(t,e)),t.ucs2Slice(0,t.length)),base64:(t,e)=>t.length===0?"":(typeof t=="string"&&(t=Buffer.from(t,e)),t.base64Slice(0,t.length)),other:(t,e)=>{if(t.length===0)return"";if(typeof t=="string"&&(t=Buffer.from(t,e)),ok.has(My.toString()))try{return ok.get(My).decode(t)}catch{}return typeof t=="string"?t:t.toString()}};function lj(t,e,n){return t&&cj(n)(t,e)}ak.exports=lj});var Ly=m((NBe,hk)=>{"use strict";var Rf=Df(),Ak=/%[a-fA-F0-9][a-fA-F0-9]/g,uj={"%00":"\0","%01":"","%02":"","%03":"","%04":"","%05":"","%06":"","%07":"\x07","%08":"\b","%09":"	","%0a":`
`,"%0A":`
`,"%0b":"\v","%0B":"\v","%0c":"\f","%0C":"\f","%0d":"\r","%0D":"\r","%0e":"","%0E":"","%0f":"","%0F":"","%10":"","%11":"","%12":"","%13":"","%14":"","%15":"","%16":"","%17":"","%18":"","%19":"","%1a":"","%1A":"","%1b":"\x1B","%1B":"\x1B","%1c":"","%1C":"","%1d":"","%1D":"","%1e":"","%1E":"","%1f":"","%1F":"","%20":" ","%21":"!","%22":'"',"%23":"#","%24":"$","%25":"%","%26":"&","%27":"'","%28":"(","%29":")","%2a":"*","%2A":"*","%2b":"+","%2B":"+","%2c":",","%2C":",","%2d":"-","%2D":"-","%2e":".","%2E":".","%2f":"/","%2F":"/","%30":"0","%31":"1","%32":"2","%33":"3","%34":"4","%35":"5","%36":"6","%37":"7","%38":"8","%39":"9","%3a":":","%3A":":","%3b":";","%3B":";","%3c":"<","%3C":"<","%3d":"=","%3D":"=","%3e":">","%3E":">","%3f":"?","%3F":"?","%40":"@","%41":"A","%42":"B","%43":"C","%44":"D","%45":"E","%46":"F","%47":"G","%48":"H","%49":"I","%4a":"J","%4A":"J","%4b":"K","%4B":"K","%4c":"L","%4C":"L","%4d":"M","%4D":"M","%4e":"N","%4E":"N","%4f":"O","%4F":"O","%50":"P","%51":"Q","%52":"R","%53":"S","%54":"T","%55":"U","%56":"V","%57":"W","%58":"X","%59":"Y","%5a":"Z","%5A":"Z","%5b":"[","%5B":"[","%5c":"\\","%5C":"\\","%5d":"]","%5D":"]","%5e":"^","%5E":"^","%5f":"_","%5F":"_","%60":"`","%61":"a","%62":"b","%63":"c","%64":"d","%65":"e","%66":"f","%67":"g","%68":"h","%69":"i","%6a":"j","%6A":"j","%6b":"k","%6B":"k","%6c":"l","%6C":"l","%6d":"m","%6D":"m","%6e":"n","%6E":"n","%6f":"o","%6F":"o","%70":"p","%71":"q","%72":"r","%73":"s","%74":"t","%75":"u","%76":"v","%77":"w","%78":"x","%79":"y","%7a":"z","%7A":"z","%7b":"{","%7B":"{","%7c":"|","%7C":"|","%7d":"}","%7D":"}","%7e":"~","%7E":"~","%7f":"\x7F","%7F":"\x7F","%80":"\x80","%81":"\x81","%82":"\x82","%83":"\x83","%84":"\x84","%85":"\x85","%86":"\x86","%87":"\x87","%88":"\x88","%89":"\x89","%8a":"\x8A","%8A":"\x8A","%8b":"\x8B","%8B":"\x8B","%8c":"\x8C","%8C":"\x8C","%8d":"\x8D","%8D":"\x8D","%8e":"\x8E","%8E":"\x8E","%8f":"\x8F","%8F":"\x8F","%90":"\x90","%91":"\x91","%92":"\x92","%93":"\x93","%94":"\x94","%95":"\x95","%96":"\x96","%97":"\x97","%98":"\x98","%99":"\x99","%9a":"\x9A","%9A":"\x9A","%9b":"\x9B","%9B":"\x9B","%9c":"\x9C","%9C":"\x9C","%9d":"\x9D","%9D":"\x9D","%9e":"\x9E","%9E":"\x9E","%9f":"\x9F","%9F":"\x9F","%a0":"\xA0","%A0":"\xA0","%a1":"\xA1","%A1":"\xA1","%a2":"\xA2","%A2":"\xA2","%a3":"\xA3","%A3":"\xA3","%a4":"\xA4","%A4":"\xA4","%a5":"\xA5","%A5":"\xA5","%a6":"\xA6","%A6":"\xA6","%a7":"\xA7","%A7":"\xA7","%a8":"\xA8","%A8":"\xA8","%a9":"\xA9","%A9":"\xA9","%aa":"\xAA","%Aa":"\xAA","%aA":"\xAA","%AA":"\xAA","%ab":"\xAB","%Ab":"\xAB","%aB":"\xAB","%AB":"\xAB","%ac":"\xAC","%Ac":"\xAC","%aC":"\xAC","%AC":"\xAC","%ad":"\xAD","%Ad":"\xAD","%aD":"\xAD","%AD":"\xAD","%ae":"\xAE","%Ae":"\xAE","%aE":"\xAE","%AE":"\xAE","%af":"\xAF","%Af":"\xAF","%aF":"\xAF","%AF":"\xAF","%b0":"\xB0","%B0":"\xB0","%b1":"\xB1","%B1":"\xB1","%b2":"\xB2","%B2":"\xB2","%b3":"\xB3","%B3":"\xB3","%b4":"\xB4","%B4":"\xB4","%b5":"\xB5","%B5":"\xB5","%b6":"\xB6","%B6":"\xB6","%b7":"\xB7","%B7":"\xB7","%b8":"\xB8","%B8":"\xB8","%b9":"\xB9","%B9":"\xB9","%ba":"\xBA","%Ba":"\xBA","%bA":"\xBA","%BA":"\xBA","%bb":"\xBB","%Bb":"\xBB","%bB":"\xBB","%BB":"\xBB","%bc":"\xBC","%Bc":"\xBC","%bC":"\xBC","%BC":"\xBC","%bd":"\xBD","%Bd":"\xBD","%bD":"\xBD","%BD":"\xBD","%be":"\xBE","%Be":"\xBE","%bE":"\xBE","%BE":"\xBE","%bf":"\xBF","%Bf":"\xBF","%bF":"\xBF","%BF":"\xBF","%c0":"\xC0","%C0":"\xC0","%c1":"\xC1","%C1":"\xC1","%c2":"\xC2","%C2":"\xC2","%c3":"\xC3","%C3":"\xC3","%c4":"\xC4","%C4":"\xC4","%c5":"\xC5","%C5":"\xC5","%c6":"\xC6","%C6":"\xC6","%c7":"\xC7","%C7":"\xC7","%c8":"\xC8","%C8":"\xC8","%c9":"\xC9","%C9":"\xC9","%ca":"\xCA","%Ca":"\xCA","%cA":"\xCA","%CA":"\xCA","%cb":"\xCB","%Cb":"\xCB","%cB":"\xCB","%CB":"\xCB","%cc":"\xCC","%Cc":"\xCC","%cC":"\xCC","%CC":"\xCC","%cd":"\xCD","%Cd":"\xCD","%cD":"\xCD","%CD":"\xCD","%ce":"\xCE","%Ce":"\xCE","%cE":"\xCE","%CE":"\xCE","%cf":"\xCF","%Cf":"\xCF","%cF":"\xCF","%CF":"\xCF","%d0":"\xD0","%D0":"\xD0","%d1":"\xD1","%D1":"\xD1","%d2":"\xD2","%D2":"\xD2","%d3":"\xD3","%D3":"\xD3","%d4":"\xD4","%D4":"\xD4","%d5":"\xD5","%D5":"\xD5","%d6":"\xD6","%D6":"\xD6","%d7":"\xD7","%D7":"\xD7","%d8":"\xD8","%D8":"\xD8","%d9":"\xD9","%D9":"\xD9","%da":"\xDA","%Da":"\xDA","%dA":"\xDA","%DA":"\xDA","%db":"\xDB","%Db":"\xDB","%dB":"\xDB","%DB":"\xDB","%dc":"\xDC","%Dc":"\xDC","%dC":"\xDC","%DC":"\xDC","%dd":"\xDD","%Dd":"\xDD","%dD":"\xDD","%DD":"\xDD","%de":"\xDE","%De":"\xDE","%dE":"\xDE","%DE":"\xDE","%df":"\xDF","%Df":"\xDF","%dF":"\xDF","%DF":"\xDF","%e0":"\xE0","%E0":"\xE0","%e1":"\xE1","%E1":"\xE1","%e2":"\xE2","%E2":"\xE2","%e3":"\xE3","%E3":"\xE3","%e4":"\xE4","%E4":"\xE4","%e5":"\xE5","%E5":"\xE5","%e6":"\xE6","%E6":"\xE6","%e7":"\xE7","%E7":"\xE7","%e8":"\xE8","%E8":"\xE8","%e9":"\xE9","%E9":"\xE9","%ea":"\xEA","%Ea":"\xEA","%eA":"\xEA","%EA":"\xEA","%eb":"\xEB","%Eb":"\xEB","%eB":"\xEB","%EB":"\xEB","%ec":"\xEC","%Ec":"\xEC","%eC":"\xEC","%EC":"\xEC","%ed":"\xED","%Ed":"\xED","%eD":"\xED","%ED":"\xED","%ee":"\xEE","%Ee":"\xEE","%eE":"\xEE","%EE":"\xEE","%ef":"\xEF","%Ef":"\xEF","%eF":"\xEF","%EF":"\xEF","%f0":"\xF0","%F0":"\xF0","%f1":"\xF1","%F1":"\xF1","%f2":"\xF2","%F2":"\xF2","%f3":"\xF3","%F3":"\xF3","%f4":"\xF4","%F4":"\xF4","%f5":"\xF5","%F5":"\xF5","%f6":"\xF6","%F6":"\xF6","%f7":"\xF7","%F7":"\xF7","%f8":"\xF8","%F8":"\xF8","%f9":"\xF9","%F9":"\xF9","%fa":"\xFA","%Fa":"\xFA","%fA":"\xFA","%FA":"\xFA","%fb":"\xFB","%Fb":"\xFB","%fB":"\xFB","%FB":"\xFB","%fc":"\xFC","%Fc":"\xFC","%fC":"\xFC","%FC":"\xFC","%fd":"\xFD","%Fd":"\xFD","%fD":"\xFD","%FD":"\xFD","%fe":"\xFE","%Fe":"\xFE","%fE":"\xFE","%FE":"\xFE","%ff":"\xFF","%Ff":"\xFF","%fF":"\xFF","%FF":"\xFF"};function ck(t){return uj[t]}var Tf=0,lk=1,xy=2,uk=3;function hj(t){let e=[],n=Tf,r="",i=!1,s=!1,o=0,a="",A=t.length;for(var c=0;c<A;++c){let l=t[c];if(l==="\\"&&i)if(s)s=!1;else{s=!0;continue}else if(l==='"')if(s)s=!1;else{i?(i=!1,n=Tf):i=!0;continue}else if(s&&i&&(a+="\\"),s=!1,(n===xy||n===uk)&&l==="'"){n===xy?(n=uk,r=a.substring(1)):n=lk,a="";continue}else if(n===Tf&&(l==="*"||l==="=")&&e.length){n=l==="*"?xy:lk,e[o]=[a,void 0],a="";continue}else if(!i&&l===";"){n=Tf,r?(a.length&&(a=Rf(a.replace(Ak,ck),"binary",r)),r=""):a.length&&(a=Rf(a,"binary","utf8")),e[o]===void 0?e[o]=a:e[o][1]=a,a="",++o;continue}else if(!i&&(l===" "||l==="	"))continue;a+=l}return r&&a.length?a=Rf(a.replace(Ak,ck),"binary",r):a&&(a=Rf(a,"binary","utf8")),e[o]===void 0?a&&(e[o]=a):e[o][1]=a,e}hk.exports=hj});var fk=m((kBe,dk)=>{"use strict";dk.exports=function(e){if(typeof e!="string")return"";for(var n=e.length-1;n>=0;--n)switch(e.charCodeAt(n)){case 47:case 92:return e=e.slice(n+1),e===".."||e==="."?"":e}return e===".."||e==="."?"":e}});var mk=m((FBe,Ek)=>{"use strict";var{Readable:pk}=B("stream"),{inherits:dj}=B("util"),fj=Fy(),gk=Ly(),gj=Df(),pj=fk(),jo=bf(),Ej=/^boundary$/i,mj=/^form-data$/i,Cj=/^charset$/i,Ij=/^filename$/i,yj=/^name$/i;Nf.detect=/^multipart\/form-data/i;function Nf(t,e){let n,r,i=this,s,o=e.limits,a=e.isPartAFile||((Q,ne,w)=>ne==="application/octet-stream"||w!==void 0),A=e.parsedConType||[],c=e.defCharset||"utf8",l=e.preservePath,u={highWaterMark:e.fileHwm};for(n=0,r=A.length;n<r;++n)if(Array.isArray(A[n])&&Ej.test(A[n][0])){s=A[n][1];break}function h(){D===0&&Ce&&!t._done&&(Ce=!1,i.end())}if(typeof s!="string")throw new Error("Multipart: Boundary not found");let d=jo(o,"fieldSize",1*1024*1024),f=jo(o,"fileSize",1/0),E=jo(o,"files",1/0),C=jo(o,"fields",1/0),y=jo(o,"parts",1/0),I=jo(o,"headerPairs",2e3),S=jo(o,"headerSize",80*1024),v=0,_=0,D=0,W,de,Ce=!1;this._needDrain=!1,this._pause=!1,this._cb=void 0,this._nparts=0,this._boy=t;let le={boundary:s,maxHeaderPairs:I,maxHeaderSize:S,partHwm:u.highWaterMark,highWaterMark:e.highWaterMark};this.parser=new fj(le),this.parser.on("drain",function(){if(i._needDrain=!1,i._cb&&!i._pause){let Q=i._cb;i._cb=void 0,Q()}}).on("part",function Q(ne){if(++i._nparts>y)return i.parser.removeListener("part",Q),i.parser.on("part",EA),t.hitPartsLimit=!0,t.emit("partsLimit"),EA(ne);if(de){let w=de;w.emit("end"),w.removeAllListeners("end")}ne.on("header",function(w){let g,F,J,Se,be,qe,Ne=0;if(w["content-type"]&&(J=gk(w["content-type"][0]),J[0])){for(g=J[0].toLowerCase(),n=0,r=J.length;n<r;++n)if(Cj.test(J[n][0])){Se=J[n][1].toLowerCase();break}}if(g===void 0&&(g="text/plain"),Se===void 0&&(Se=c),w["content-disposition"]){if(J=gk(w["content-disposition"][0]),!mj.test(J[0]))return EA(ne);for(n=0,r=J.length;n<r;++n)yj.test(J[n][0])?F=J[n][1]:Ij.test(J[n][0])&&(qe=J[n][1],l||(qe=pj(qe)))}else return EA(ne);w["content-transfer-encoding"]?be=w["content-transfer-encoding"][0].toLowerCase():be="7bit";let bt,it;if(a(F,g,qe)){if(v===E)return t.hitFilesLimit||(t.hitFilesLimit=!0,t.emit("filesLimit")),EA(ne);if(++v,t.listenerCount("file")===0){i.parser._ignore();return}++D;let ue=new Oy(u);W=ue,ue.on("end",function(){if(--D,i._pause=!1,h(),i._cb&&!i._needDrain){let Ge=i._cb;i._cb=void 0,Ge()}}),ue._read=function(Ge){if(i._pause&&(i._pause=!1,i._cb&&!i._needDrain)){let xe=i._cb;i._cb=void 0,xe()}},t.emit("file",F,ue,qe,be,g),bt=function(Ge){if((Ne+=Ge.length)>f){let xe=f-Ne+Ge.length;xe>0&&ue.push(Ge.slice(0,xe)),ue.truncated=!0,ue.bytesRead=f,ne.removeAllListeners("data"),ue.emit("limit");return}else ue.push(Ge)||(i._pause=!0);ue.bytesRead=Ne},it=function(){W=void 0,ue.push(null)}}else{if(_===C)return t.hitFieldsLimit||(t.hitFieldsLimit=!0,t.emit("fieldsLimit")),EA(ne);++_,++D;let ue="",Ge=!1;de=ne,bt=function(xe){if((Ne+=xe.length)>d){let Vt=d-(Ne-xe.length);ue+=xe.toString("binary",0,Vt),Ge=!0,ne.removeAllListeners("data")}else ue+=xe.toString("binary")},it=function(){de=void 0,ue.length&&(ue=gj(ue,"binary",Se)),t.emit("field",F,ue,!1,Ge,be,g),--D,h()}}ne._readableState.sync=!1,ne.on("data",bt),ne.on("end",it)}).on("error",function(w){W&&W.emit("error",w)})}).on("error",function(Q){t.emit("error",Q)}).on("finish",function(){Ce=!0,h()})}Nf.prototype.write=function(t,e){let n=this.parser.write(t);n&&!this._pause?e():(this._needDrain=!n,this._cb=e)};Nf.prototype.end=function(){let t=this;t.parser.writable?t.parser.end():t._boy._done||process.nextTick(function(){t._boy._done=!0,t._boy.emit("finish")})};function EA(t){t.resume()}function Oy(t){pk.call(this,t),this.bytesRead=0,this.truncated=!1}dj(Oy,pk);Oy.prototype._read=function(t){};Ek.exports=Nf});var Ik=m((MBe,Ck)=>{"use strict";var Bj=/\+/g,Qj=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function Uy(){this.buffer=void 0}Uy.prototype.write=function(t){t=t.replace(Bj," ");let e="",n=0,r=0,i=t.length;for(;n<i;++n)this.buffer!==void 0?Qj[t.charCodeAt(n)]?(this.buffer+=t[n],++r,this.buffer.length===2&&(e+=String.fromCharCode(parseInt(this.buffer,16)),this.buffer=void 0)):(e+="%"+this.buffer,this.buffer=void 0,--n):t[n]==="%"&&(n>r&&(e+=t.substring(r,n),r=n),this.buffer="",++r);return r<i&&this.buffer===void 0&&(e+=t.substring(r)),e};Uy.prototype.reset=function(){this.buffer=void 0};Ck.exports=Uy});var Bk=m((xBe,yk)=>{"use strict";var wj=Ik(),mA=Df(),Py=bf(),vj=/^charset$/i;kf.detect=/^application\/x-www-form-urlencoded/i;function kf(t,e){let n=e.limits,r=e.parsedConType;this.boy=t,this.fieldSizeLimit=Py(n,"fieldSize",1*1024*1024),this.fieldNameSizeLimit=Py(n,"fieldNameSize",100),this.fieldsLimit=Py(n,"fields",1/0);let i;for(var s=0,o=r.length;s<o;++s)if(Array.isArray(r[s])&&vj.test(r[s][0])){i=r[s][1].toLowerCase();break}i===void 0&&(i=e.defCharset||"utf8"),this.decoder=new wj,this.charset=i,this._fields=0,this._state="key",this._checkingBytes=!0,this._bytesKey=0,this._bytesVal=0,this._key="",this._val="",this._keyTrunc=!1,this._valTrunc=!1,this._hitLimit=!1}kf.prototype.write=function(t,e){if(this._fields===this.fieldsLimit)return this.boy.hitFieldsLimit||(this.boy.hitFieldsLimit=!0,this.boy.emit("fieldsLimit")),e();let n,r,i,s=0,o=t.length;for(;s<o;)if(this._state==="key"){for(n=r=void 0,i=s;i<o;++i){if(this._checkingBytes||++s,t[i]===61){n=i;break}else if(t[i]===38){r=i;break}if(this._checkingBytes&&this._bytesKey===this.fieldNameSizeLimit){this._hitLimit=!0;break}else this._checkingBytes&&++this._bytesKey}if(n!==void 0)n>s&&(this._key+=this.decoder.write(t.toString("binary",s,n))),this._state="val",this._hitLimit=!1,this._checkingBytes=!0,this._val="",this._bytesVal=0,this._valTrunc=!1,this.decoder.reset(),s=n+1;else if(r!==void 0){++this._fields;let a,A=this._keyTrunc;if(r>s?a=this._key+=this.decoder.write(t.toString("binary",s,r)):a=this._key,this._hitLimit=!1,this._checkingBytes=!0,this._key="",this._bytesKey=0,this._keyTrunc=!1,this.decoder.reset(),a.length&&this.boy.emit("field",mA(a,"binary",this.charset),"",A,!1),s=r+1,this._fields===this.fieldsLimit)return e()}else this._hitLimit?(i>s&&(this._key+=this.decoder.write(t.toString("binary",s,i))),s=i,(this._bytesKey=this._key.length)===this.fieldNameSizeLimit&&(this._checkingBytes=!1,this._keyTrunc=!0)):(s<o&&(this._key+=this.decoder.write(t.toString("binary",s))),s=o)}else{for(r=void 0,i=s;i<o;++i){if(this._checkingBytes||++s,t[i]===38){r=i;break}if(this._checkingBytes&&this._bytesVal===this.fieldSizeLimit){this._hitLimit=!0;break}else this._checkingBytes&&++this._bytesVal}if(r!==void 0){if(++this._fields,r>s&&(this._val+=this.decoder.write(t.toString("binary",s,r))),this.boy.emit("field",mA(this._key,"binary",this.charset),mA(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc),this._state="key",this._hitLimit=!1,this._checkingBytes=!0,this._key="",this._bytesKey=0,this._keyTrunc=!1,this.decoder.reset(),s=r+1,this._fields===this.fieldsLimit)return e()}else this._hitLimit?(i>s&&(this._val+=this.decoder.write(t.toString("binary",s,i))),s=i,(this._val===""&&this.fieldSizeLimit===0||(this._bytesVal=this._val.length)===this.fieldSizeLimit)&&(this._checkingBytes=!1,this._valTrunc=!0)):(s<o&&(this._val+=this.decoder.write(t.toString("binary",s))),s=o)}e()};kf.prototype.end=function(){this.boy._done||(this._state==="key"&&this._key.length>0?this.boy.emit("field",mA(this._key,"binary",this.charset),"",this._keyTrunc,!1):this._state==="val"&&this.boy.emit("field",mA(this._key,"binary",this.charset),mA(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc),this.boy._done=!0,this.boy.emit("finish"))};yk.exports=kf});var vk=m((LBe,au)=>{"use strict";var Vy=B("stream").Writable,{inherits:_j}=B("util"),Sj=Fy(),Qk=mk(),wk=Bk(),bj=Ly();function ts(t){if(!(this instanceof ts))return new ts(t);if(typeof t!="object")throw new TypeError("Busboy expected an options-Object.");if(typeof t.headers!="object")throw new TypeError("Busboy expected an options-Object with headers-attribute.");if(typeof t.headers["content-type"]!="string")throw new TypeError("Missing Content-Type-header.");let r=t,{headers:e}=r,n=Xt(r,["headers"]);this.opts=k({autoDestroy:!1},n),Vy.call(this,this.opts),this._done=!1,this._parser=this.getParserByHeaders(e),this._finished=!1}_j(ts,Vy);ts.prototype.emit=function(t){if(t==="finish"){if(this._done){if(this._finished)return}else{this._parser?.end();return}this._finished=!0}Vy.prototype.emit.apply(this,arguments)};ts.prototype.getParserByHeaders=function(t){let e=bj(t["content-type"]),n={defCharset:this.opts.defCharset,fileHwm:this.opts.fileHwm,headers:t,highWaterMark:this.opts.highWaterMark,isPartAFile:this.opts.isPartAFile,limits:this.opts.limits,parsedConType:e,preservePath:this.opts.preservePath};if(Qk.detect.test(e[0]))return new Qk(this,n);if(wk.detect.test(e[0]))return new wk(this,n);throw new Error("Unsupported Content-Type.")};ts.prototype._write=function(t,e,n){this._parser.write(t,n)};au.exports=ts;au.exports.default=ts;au.exports.Busboy=ts;au.exports.Dicer=Sj});var Ls=m((UBe,kk)=>{"use strict";var{MessageChannel:Dj,receiveMessageOnPort:Rj}=B("worker_threads"),_k=["GET","HEAD","POST"],Tj=new Set(_k),Nj=[101,204,205,304],Sk=[301,302,303,307,308],kj=new Set(Sk),bk=["1","7","9","11","13","15","17","19","20","21","22","23","25","37","42","43","53","69","77","79","87","95","101","102","103","104","109","110","111","113","115","117","119","123","135","137","139","143","161","179","389","427","465","512","513","514","515","526","530","531","532","540","548","554","556","563","587","601","636","989","990","993","995","1719","1720","1723","2049","3659","4045","5060","5061","6000","6566","6665","6666","6667","6668","6669","6697","10080"],Fj=new Set(bk),Dk=["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"],Mj=new Set(Dk),xj=["follow","manual","error"],Rk=["GET","HEAD","OPTIONS","TRACE"],Lj=new Set(Rk),Oj=["navigate","same-origin","no-cors","cors"],Uj=["omit","same-origin","include"],Pj=["default","no-store","reload","no-cache","force-cache","only-if-cached"],Vj=["content-encoding","content-language","content-location","content-type","content-length"],qj=["half"],Tk=["CONNECT","TRACE","TRACK"],Gj=new Set(Tk),Nk=["audio","audioworklet","font","image","manifest","paintworklet","script","style","track","video","xslt",""],Hj=new Set(Nk),Yj=globalThis.DOMException??(()=>{try{atob("~")}catch(t){return Object.getPrototypeOf(t).constructor}})(),CA,Wj=globalThis.structuredClone??function(e,n=void 0){if(arguments.length===0)throw new TypeError("missing argument");return CA||(CA=new Dj),CA.port1.unref(),CA.port2.unref(),CA.port1.postMessage(e,n?.transfer),Rj(CA.port2).message};kk.exports={DOMException:Yj,structuredClone:Wj,subresource:Nk,forbiddenMethods:Tk,requestBodyHeader:Vj,referrerPolicy:Dk,requestRedirect:xj,requestMode:Oj,requestCredentials:Uj,requestCache:Pj,redirectStatus:Sk,corsSafeListedMethods:_k,nullBodyStatus:Nj,safeMethods:Rk,badPorts:bk,requestDuplex:qj,subresourceSet:Hj,badPortsSet:Fj,redirectStatusSet:kj,corsSafeListedMethodsSet:Tj,safeMethodsSet:Lj,forbiddenMethodsSet:Gj,referrerPolicySet:Mj}});var IA=m((PBe,Fk)=>{"use strict";var qy=Symbol.for("undici.globalOrigin.1");function Jj(){return globalThis[qy]}function zj(t){if(t===void 0){Object.defineProperty(globalThis,qy,{value:void 0,writable:!0,enumerable:!1,configurable:!1});return}let e=new URL(t);if(e.protocol!=="http:"&&e.protocol!=="https:")throw new TypeError(`Only http & https urls are allowed, received ${e.protocol}`);Object.defineProperty(globalThis,qy,{value:e,writable:!0,enumerable:!1,configurable:!1})}Fk.exports={getGlobalOrigin:Jj,setGlobalOrigin:zj}});var dr=m((VBe,qk)=>{"use strict";var{redirectStatusSet:jj,referrerPolicySet:Kj,badPortsSet:$j}=Ls(),{getGlobalOrigin:Xj}=IA(),{performance:Zj}=B("perf_hooks"),{isBlobLike:eK,toUSVString:tK,ReadableStreamFrom:nK}=Qe(),yA=B("assert"),{isUint8Array:rK}=B("util/types"),Mk=[],Ff;try{Ff=B("crypto");let t=["sha256","sha384","sha512"];Mk=Ff.getHashes().filter(e=>t.includes(e))}catch{}function xk(t){let e=t.urlList,n=e.length;return n===0?null:e[n-1].toString()}function iK(t,e){if(!jj.has(t.status))return null;let n=t.headersList.get("location");return n!==null&&Ok(n)&&(n=new URL(n,xk(t))),n&&!n.hash&&(n.hash=e),n}function cu(t){return t.urlList[t.urlList.length-1]}function sK(t){let e=cu(t);return Vk(e)&&$j.has(e.port)?"blocked":"allowed"}function oK(t){return t instanceof Error||t?.constructor?.name==="Error"||t?.constructor?.name==="DOMException"}function aK(t){for(let e=0;e<t.length;++e){let n=t.charCodeAt(e);if(!(n===9||n>=32&&n<=126||n>=128&&n<=255))return!1}return!0}function AK(t){switch(t){case 34:case 40:case 41:case 44:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 123:case 125:return!1;default:return t>=33&&t<=126}}function Lk(t){if(t.length===0)return!1;for(let e=0;e<t.length;++e)if(!AK(t.charCodeAt(e)))return!1;return!0}function cK(t){return Lk(t)}function Ok(t){return!(t.startsWith("	")||t.startsWith(" ")||t.endsWith("	")||t.endsWith(" ")||t.includes("\0")||t.includes("\r")||t.includes(`
`))}function lK(t,e){let{headersList:n}=e,r=(n.get("referrer-policy")??"").split(","),i="";if(r.length>0)for(let s=r.length;s!==0;s--){let o=r[s-1].trim();if(Kj.has(o)){i=o;break}}i!==""&&(t.referrerPolicy=i)}function uK(){return"allowed"}function hK(){return"success"}function dK(){return"success"}function fK(t){let e=null;e=t.mode,t.headersList.set("sec-fetch-mode",e)}function gK(t){let e=t.origin;if(t.responseTainting==="cors"||t.mode==="websocket")e&&t.headersList.append("origin",e);else if(t.method!=="GET"&&t.method!=="HEAD"){switch(t.referrerPolicy){case"no-referrer":e=null;break;case"no-referrer-when-downgrade":case"strict-origin":case"strict-origin-when-cross-origin":t.origin&&Yy(t.origin)&&!Yy(cu(t))&&(e=null);break;case"same-origin":Mf(t,cu(t))||(e=null);break;default:}e&&t.headersList.append("origin",e)}}function pK(t){return Zj.now()}function EK(t){return{startTime:t.startTime??0,redirectStartTime:0,redirectEndTime:0,postRedirectStartTime:t.startTime??0,finalServiceWorkerStartTime:0,finalNetworkResponseStartTime:0,finalNetworkRequestStartTime:0,endTime:0,encodedBodySize:0,decodedBodySize:0,finalConnectionTimingInfo:null}}function mK(){return{referrerPolicy:"strict-origin-when-cross-origin"}}function CK(t){return{referrerPolicy:t.referrerPolicy}}function IK(t){let e=t.referrerPolicy;yA(e);let n=null;if(t.referrer==="client"){let a=Xj();if(!a||a.origin==="null")return"no-referrer";n=new URL(a)}else t.referrer instanceof URL&&(n=t.referrer);let r=Gy(n),i=Gy(n,!0);r.toString().length>4096&&(r=i);let s=Mf(t,r),o=Au(r)&&!Au(t.url);switch(e){case"origin":return i??Gy(n,!0);case"unsafe-url":return r;case"same-origin":return s?i:"no-referrer";case"origin-when-cross-origin":return s?r:i;case"strict-origin-when-cross-origin":{let a=cu(t);return Mf(r,a)?r:Au(r)&&!Au(a)?"no-referrer":i}case"strict-origin":case"no-referrer-when-downgrade":default:return o?"no-referrer":i}}function Gy(t,e){return yA(t instanceof URL),t.protocol==="file:"||t.protocol==="about:"||t.protocol==="blank:"?"no-referrer":(t.username="",t.password="",t.hash="",e&&(t.pathname="",t.search=""),t)}function Au(t){if(!(t instanceof URL))return!1;if(t.href==="about:blank"||t.href==="about:srcdoc"||t.protocol==="data:"||t.protocol==="file:")return!0;return e(t.origin);function e(n){if(n==null||n==="null")return!1;let r=new URL(n);return!!(r.protocol==="https:"||r.protocol==="wss:"||/^127(?:\.[0-9]+){0,2}\.[0-9]+$|^\[(?:0*:)*?:?0*1\]$/.test(r.hostname)||r.hostname==="localhost"||r.hostname.includes("localhost.")||r.hostname.endsWith(".localhost"))}}function yK(t,e){if(Ff===void 0)return!0;let n=Uk(e);if(n==="no metadata"||n.length===0)return!0;let r=QK(n),i=wK(n,r);for(let s of i){let o=s.algo,a=s.hash,A=Ff.createHash(o).update(t).digest("base64");if(A[A.length-1]==="="&&(A[A.length-2]==="="?A=A.slice(0,-2):A=A.slice(0,-1)),vK(A,a))return!0}return!1}var BK=/(?<algo>sha256|sha384|sha512)-((?<hash>[A-Za-z0-9+/]+|[A-Za-z0-9_-]+)={0,2}(?:\s|$)( +[!-~]*)?)?/i;function Uk(t){let e=[],n=!0;for(let r of t.split(" ")){n=!1;let i=BK.exec(r);if(i===null||i.groups===void 0||i.groups.algo===void 0)continue;let s=i.groups.algo.toLowerCase();Mk.includes(s)&&e.push(i.groups)}return n===!0?"no metadata":e}function QK(t){let e=t[0].algo;if(e[3]==="5")return e;for(let n=1;n<t.length;++n){let r=t[n];if(r.algo[3]==="5"){e="sha512";break}else{if(e[3]==="3")continue;r.algo[3]==="3"&&(e="sha384")}}return e}function wK(t,e){if(t.length===1)return t;let n=0;for(let r=0;r<t.length;++r)t[r].algo===e&&(t[n++]=t[r]);return t.length=n,t}function vK(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n]){if(t[n]==="+"&&e[n]==="-"||t[n]==="/"&&e[n]==="_")continue;return!1}return!0}function _K(t){}function Mf(t,e){return t.origin===e.origin&&t.origin==="null"||t.protocol===e.protocol&&t.hostname===e.hostname&&t.port===e.port}function SK(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}function bK(t){return t.controller.state==="aborted"}function DK(t){return t.controller.state==="aborted"||t.controller.state==="terminated"}var Wy={delete:"DELETE",DELETE:"DELETE",get:"GET",GET:"GET",head:"HEAD",HEAD:"HEAD",options:"OPTIONS",OPTIONS:"OPTIONS",post:"POST",POST:"POST",put:"PUT",PUT:"PUT"};Object.setPrototypeOf(Wy,null);function RK(t){return Wy[t.toLowerCase()]??t}function TK(t){let e=JSON.stringify(t);if(e===void 0)throw new TypeError("Value is not JSON serializable");return yA(typeof e=="string"),e}var NK=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));function kK(t,e,n){let r={index:0,kind:n,target:t},i={next(){if(Object.getPrototypeOf(this)!==i)throw new TypeError(`'next' called on an object that does not implement interface ${e} Iterator.`);let{index:s,kind:o,target:a}=r,A=a(),c=A.length;if(s>=c)return{value:void 0,done:!0};let l=A[s];return r.index=s+1,FK(l,o)},[Symbol.toStringTag]:`${e} Iterator`};return Object.setPrototypeOf(i,NK),Object.setPrototypeOf({},i)}function FK(t,e){let n;switch(e){case"key":{n=t[0];break}case"value":{n=t[1];break}case"key+value":{n=t;break}}return{value:n,done:!1}}function MK(t,e,n){return p(this,null,function*(){let r=e,i=n,s;try{s=t.stream.getReader()}catch(o){i(o);return}try{let o=yield Pk(s);r(o)}catch(o){i(o)}})}var Hy=globalThis.ReadableStream;function xK(t){return Hy||(Hy=B("stream/web").ReadableStream),t instanceof Hy||t[Symbol.toStringTag]==="ReadableStream"&&typeof t.tee=="function"}var LK=65535;function OK(t){return t.length<LK?String.fromCharCode(...t):t.reduce((e,n)=>e+String.fromCharCode(n),"")}function UK(t){try{t.close()}catch(e){if(!e.message.includes("Controller is already closed"))throw e}}function PK(t){for(let e=0;e<t.length;e++)yA(t.charCodeAt(e)<=255);return t}function Pk(t){return p(this,null,function*(){let e=[],n=0;for(;;){let{done:r,value:i}=yield t.read();if(r)return Buffer.concat(e,n);if(!rK(i))throw new TypeError("Received non-Uint8Array chunk");e.push(i),n+=i.length}})}function VK(t){yA("protocol"in t);let e=t.protocol;return e==="about:"||e==="blob:"||e==="data:"}function Yy(t){return typeof t=="string"?t.startsWith("https:"):t.protocol==="https:"}function Vk(t){yA("protocol"in t);let e=t.protocol;return e==="http:"||e==="https:"}var qK=Object.hasOwn||((t,e)=>Object.prototype.hasOwnProperty.call(t,e));qk.exports={isAborted:bK,isCancelled:DK,createDeferredPromise:SK,ReadableStreamFrom:nK,toUSVString:tK,tryUpgradeRequestToAPotentiallyTrustworthyURL:_K,coarsenedSharedCurrentTime:pK,determineRequestsReferrer:IK,makePolicyContainer:mK,clonePolicyContainer:CK,appendFetchMetadata:fK,appendRequestOriginHeader:gK,TAOCheck:dK,corsCheck:hK,crossOriginResourcePolicyCheck:uK,createOpaqueTimingInfo:EK,setRequestReferrerPolicyOnRedirect:lK,isValidHTTPToken:Lk,requestBadPort:sK,requestCurrentURL:cu,responseURL:xk,responseLocationURL:iK,isBlobLike:eK,isURLPotentiallyTrustworthy:Au,isValidReasonPhrase:aK,sameOrigin:Mf,normalizeMethod:RK,serializeJavascriptValueToJSONString:TK,makeIterator:kK,isValidHeaderName:cK,isValidHeaderValue:Ok,hasOwn:qK,isErrorLike:oK,fullyReadBody:MK,bytesMatch:yK,isReadableStreamLike:xK,readableStreamClose:UK,isomorphicEncode:PK,isomorphicDecode:OK,urlIsLocal:VK,urlHasHttpsScheme:Yy,urlIsHttpHttpsScheme:Vk,readAllBytes:Pk,normalizeMethodRecord:Wy,parseMetadata:Uk}});var ns=m((GBe,Gk)=>{"use strict";Gk.exports={kUrl:Symbol("url"),kHeaders:Symbol("headers"),kSignal:Symbol("signal"),kState:Symbol("state"),kGuard:Symbol("guard"),kRealm:Symbol("realm")}});var pn=m((HBe,Yk)=>{"use strict";var{types:fi}=B("util"),{hasOwn:Hk,toUSVString:GK}=dr(),L={};L.converters={};L.util={};L.errors={};L.errors.exception=function(t){return new TypeError(`${t.header}: ${t.message}`)};L.errors.conversionFailed=function(t){let e=t.types.length===1?"":" one of",n=`${t.argument} could not be converted to${e}: ${t.types.join(", ")}.`;return L.errors.exception({header:t.prefix,message:n})};L.errors.invalidArgument=function(t){return L.errors.exception({header:t.prefix,message:`"${t.value}" is an invalid ${t.type}.`})};L.brandCheck=function(t,e,n=void 0){if(n?.strict!==!1&&!(t instanceof e))throw new TypeError("Illegal invocation");return t?.[Symbol.toStringTag]===e.prototype[Symbol.toStringTag]};L.argumentLengthCheck=function({length:t},e,n){if(t<e)throw L.errors.exception(k({message:`${e} argument${e!==1?"s":""} required, but${t?" only":""} ${t} found.`},n))};L.illegalConstructor=function(){throw L.errors.exception({header:"TypeError",message:"Illegal constructor"})};L.util.Type=function(t){switch(typeof t){case"undefined":return"Undefined";case"boolean":return"Boolean";case"string":return"String";case"symbol":return"Symbol";case"number":return"Number";case"bigint":return"BigInt";case"function":case"object":return t===null?"Null":"Object"}};L.util.ConvertToInt=function(t,e,n,r={}){let i,s;e===64?(i=Math.pow(2,53)-1,n==="unsigned"?s=0:s=Math.pow(-2,53)+1):n==="unsigned"?(s=0,i=Math.pow(2,e)-1):(s=Math.pow(-2,e)-1,i=Math.pow(2,e-1)-1);let o=Number(t);if(o===0&&(o=0),r.enforceRange===!0){if(Number.isNaN(o)||o===Number.POSITIVE_INFINITY||o===Number.NEGATIVE_INFINITY)throw L.errors.exception({header:"Integer conversion",message:`Could not convert ${t} to an integer.`});if(o=L.util.IntegerPart(o),o<s||o>i)throw L.errors.exception({header:"Integer conversion",message:`Value must be between ${s}-${i}, got ${o}.`});return o}return!Number.isNaN(o)&&r.clamp===!0?(o=Math.min(Math.max(o,s),i),Math.floor(o)%2===0?o=Math.floor(o):o=Math.ceil(o),o):Number.isNaN(o)||o===0&&Object.is(0,o)||o===Number.POSITIVE_INFINITY||o===Number.NEGATIVE_INFINITY?0:(o=L.util.IntegerPart(o),o=o%Math.pow(2,e),n==="signed"&&o>=Math.pow(2,e)-1?o-Math.pow(2,e):o)};L.util.IntegerPart=function(t){let e=Math.floor(Math.abs(t));return t<0?-1*e:e};L.sequenceConverter=function(t){return e=>{if(L.util.Type(e)!=="Object")throw L.errors.exception({header:"Sequence",message:`Value of type ${L.util.Type(e)} is not an Object.`});let n=e?.[Symbol.iterator]?.(),r=[];if(n===void 0||typeof n.next!="function")throw L.errors.exception({header:"Sequence",message:"Object is not an iterator."});for(;;){let{done:i,value:s}=n.next();if(i)break;r.push(t(s))}return r}};L.recordConverter=function(t,e){return n=>{if(L.util.Type(n)!=="Object")throw L.errors.exception({header:"Record",message:`Value of type ${L.util.Type(n)} is not an Object.`});let r={};if(!fi.isProxy(n)){let s=Object.keys(n);for(let o of s){let a=t(o),A=e(n[o]);r[a]=A}return r}let i=Reflect.ownKeys(n);for(let s of i)if(Reflect.getOwnPropertyDescriptor(n,s)?.enumerable){let a=t(s),A=e(n[s]);r[a]=A}return r}};L.interfaceConverter=function(t){return(e,n={})=>{if(n.strict!==!1&&!(e instanceof t))throw L.errors.exception({header:t.name,message:`Expected ${e} to be an instance of ${t.name}.`});return e}};L.dictionaryConverter=function(t){return e=>{let n=L.util.Type(e),r={};if(n==="Null"||n==="Undefined")return r;if(n!=="Object")throw L.errors.exception({header:"Dictionary",message:`Expected ${e} to be one of: Null, Undefined, Object.`});for(let i of t){let{key:s,defaultValue:o,required:a,converter:A}=i;if(a===!0&&!Hk(e,s))throw L.errors.exception({header:"Dictionary",message:`Missing required key "${s}".`});let c=e[s],l=Hk(i,"defaultValue");if(l&&c!==null&&(c=c??o),a||l||c!==void 0){if(c=A(c),i.allowedValues&&!i.allowedValues.includes(c))throw L.errors.exception({header:"Dictionary",message:`${c} is not an accepted type. Expected one of ${i.allowedValues.join(", ")}.`});r[s]=c}}return r}};L.nullableConverter=function(t){return e=>e===null?e:t(e)};L.converters.DOMString=function(t,e={}){if(t===null&&e.legacyNullToEmptyString)return"";if(typeof t=="symbol")throw new TypeError("Could not convert argument of type symbol to string.");return String(t)};L.converters.ByteString=function(t){let e=L.converters.DOMString(t);for(let n=0;n<e.length;n++)if(e.charCodeAt(n)>255)throw new TypeError(`Cannot convert argument to a ByteString because the character at index ${n} has a value of ${e.charCodeAt(n)} which is greater than 255.`);return e};L.converters.USVString=GK;L.converters.boolean=function(t){return!!t};L.converters.any=function(t){return t};L.converters["long long"]=function(t){return L.util.ConvertToInt(t,64,"signed")};L.converters["unsigned long long"]=function(t){return L.util.ConvertToInt(t,64,"unsigned")};L.converters["unsigned long"]=function(t){return L.util.ConvertToInt(t,32,"unsigned")};L.converters["unsigned short"]=function(t,e){return L.util.ConvertToInt(t,16,"unsigned",e)};L.converters.ArrayBuffer=function(t,e={}){if(L.util.Type(t)!=="Object"||!fi.isAnyArrayBuffer(t))throw L.errors.conversionFailed({prefix:`${t}`,argument:`${t}`,types:["ArrayBuffer"]});if(e.allowShared===!1&&fi.isSharedArrayBuffer(t))throw L.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});return t};L.converters.TypedArray=function(t,e,n={}){if(L.util.Type(t)!=="Object"||!fi.isTypedArray(t)||t.constructor.name!==e.name)throw L.errors.conversionFailed({prefix:`${e.name}`,argument:`${t}`,types:[e.name]});if(n.allowShared===!1&&fi.isSharedArrayBuffer(t.buffer))throw L.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});return t};L.converters.DataView=function(t,e={}){if(L.util.Type(t)!=="Object"||!fi.isDataView(t))throw L.errors.exception({header:"DataView",message:"Object is not a DataView."});if(e.allowShared===!1&&fi.isSharedArrayBuffer(t.buffer))throw L.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});return t};L.converters.BufferSource=function(t,e={}){if(fi.isAnyArrayBuffer(t))return L.converters.ArrayBuffer(t,e);if(fi.isTypedArray(t))return L.converters.TypedArray(t,t.constructor);if(fi.isDataView(t))return L.converters.DataView(t,e);throw new TypeError(`Could not convert ${t} to a BufferSource.`)};L.converters["sequence<ByteString>"]=L.sequenceConverter(L.converters.ByteString);L.converters["sequence<sequence<ByteString>>"]=L.sequenceConverter(L.converters["sequence<ByteString>"]);L.converters["record<ByteString, ByteString>"]=L.recordConverter(L.converters.ByteString,L.converters.ByteString);Yk.exports={webidl:L}});var Or=m((WBe,$k)=>{"use strict";var Lf=B("assert"),{atob:HK}=B("buffer"),{isomorphicDecode:YK}=dr(),WK=new TextEncoder,xf=/^[!#$%&'*+-.^_|~A-Za-z0-9]+$/,JK=/(\u000A|\u000D|\u0009|\u0020)/,zK=/[\u0009|\u0020-\u007E|\u0080-\u00FF]/;function jK(t){Lf(t.protocol==="data:");let e=zk(t,!0);e=e.slice(5);let n={position:0},r=BA(",",e,n),i=r.length;if(r=ZK(r,!0,!0),n.position>=e.length)return"failure";n.position++;let s=e.slice(i+1),o=jk(s);if(/;(\u0020){0,}base64$/i.test(r)){let A=YK(o);if(o=$K(A),o==="failure")return"failure";r=r.slice(0,-6),r=r.replace(/(\u0020)+$/,""),r=r.slice(0,-1)}r.startsWith(";")&&(r="text/plain"+r);let a=zy(r);return a==="failure"&&(a=zy("text/plain;charset=US-ASCII")),{mimeType:a,body:o}}function zk(t,e=!1){if(!e)return t.href;let n=t.href,r=t.hash.length;return r===0?n:n.substring(0,n.length-r)}function Of(t,e,n){let r="";for(;n.position<e.length&&t(e[n.position]);)r+=e[n.position],n.position++;return r}function BA(t,e,n){let r=e.indexOf(t,n.position),i=n.position;return r===-1?(n.position=e.length,e.slice(i)):(n.position=r,e.slice(i,n.position))}function jk(t){let e=WK.encode(t);return KK(e)}function KK(t){let e=[];for(let n=0;n<t.length;n++){let r=t[n];if(r!==37)e.push(r);else if(r===37&&!/^[0-9A-Fa-f]{2}$/i.test(String.fromCharCode(t[n+1],t[n+2])))e.push(37);else{let i=String.fromCharCode(t[n+1],t[n+2]),s=Number.parseInt(i,16);e.push(s),n+=2}}return Uint8Array.from(e)}function zy(t){t=Jy(t,!0,!0);let e={position:0},n=BA("/",t,e);if(n.length===0||!xf.test(n)||e.position>t.length)return"failure";e.position++;let r=BA(";",t,e);if(r=Jy(r,!1,!0),r.length===0||!xf.test(r))return"failure";let i=n.toLowerCase(),s=r.toLowerCase(),o={type:i,subtype:s,parameters:new Map,essence:`${i}/${s}`};for(;e.position<t.length;){e.position++,Of(c=>JK.test(c),t,e);let a=Of(c=>c!==";"&&c!=="=",t,e);if(a=a.toLowerCase(),e.position<t.length){if(t[e.position]===";")continue;e.position++}if(e.position>t.length)break;let A=null;if(t[e.position]==='"')A=Kk(t,e,!0),BA(";",t,e);else if(A=BA(";",t,e),A=Jy(A,!1,!0),A.length===0)continue;a.length!==0&&xf.test(a)&&(A.length===0||zK.test(A))&&!o.parameters.has(a)&&o.parameters.set(a,A)}return o}function $K(t){if(t=t.replace(/[\u0009\u000A\u000C\u000D\u0020]/g,""),t.length%4===0&&(t=t.replace(/=?=$/,"")),t.length%4===1||/[^+/0-9A-Za-z]/.test(t))return"failure";let e=HK(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}function Kk(t,e,n){let r=e.position,i="";for(Lf(t[e.position]==='"'),e.position++;i+=Of(o=>o!=='"'&&o!=="\\",t,e),!(e.position>=t.length);){let s=t[e.position];if(e.position++,s==="\\"){if(e.position>=t.length){i+="\\";break}i+=t[e.position],e.position++}else{Lf(s==='"');break}}return n?i:t.slice(r,e.position)}function XK(t){Lf(t!=="failure");let{parameters:e,essence:n}=t,r=n;for(let[i,s]of e.entries())r+=";",r+=i,r+="=",xf.test(s)||(s=s.replace(/(\\|")/g,"\\$1"),s='"'+s,s+='"'),r+=s;return r}function Wk(t){return t==="\r"||t===`
`||t==="	"||t===" "}function Jy(t,e=!0,n=!0){let r=0,i=t.length-1;if(e)for(;r<t.length&&Wk(t[r]);r++);if(n)for(;i>0&&Wk(t[i]);i--);return t.slice(r,i+1)}function Jk(t){return t==="\r"||t===`
`||t==="	"||t==="\f"||t===" "}function ZK(t,e=!0,n=!0){let r=0,i=t.length-1;if(e)for(;r<t.length&&Jk(t[r]);r++);if(n)for(;i>0&&Jk(t[i]);i--);return t.slice(r,i+1)}$k.exports={dataURLProcessor:jK,URLSerializer:zk,collectASequenceOfCodePoints:Of,collectASequenceOfCodePointsFast:BA,stringPercentDecode:jk,parseMIMEType:zy,collectAnHTTPQuotedString:Kk,serializeAMimeType:XK}});var Uf=m((JBe,nF)=>{"use strict";var{Blob:eF,File:Xk}=B("buffer"),{types:jy}=B("util"),{kState:Jn}=ns(),{isBlobLike:tF}=dr(),{webidl:Le}=pn(),{parseMIMEType:e5,serializeAMimeType:t5}=Or(),{kEnumerableProperty:Zk}=Qe(),n5=new TextEncoder,lu=class t extends eF{constructor(e,n,r={}){Le.argumentLengthCheck(arguments,2,{header:"File constructor"}),e=Le.converters["sequence<BlobPart>"](e),n=Le.converters.USVString(n),r=Le.converters.FilePropertyBag(r);let i=n,s=r.type,o;e:{if(s){if(s=e5(s),s==="failure"){s="";break e}s=t5(s).toLowerCase()}o=r.lastModified}super(r5(e,r),{type:s}),this[Jn]={name:i,lastModified:o,type:s}}get name(){return Le.brandCheck(this,t),this[Jn].name}get lastModified(){return Le.brandCheck(this,t),this[Jn].lastModified}get type(){return Le.brandCheck(this,t),this[Jn].type}},Ky=class t{constructor(e,n,r={}){let i=n,s=r.type,o=r.lastModified??Date.now();this[Jn]={blobLike:e,name:i,type:s,lastModified:o}}stream(...e){return Le.brandCheck(this,t),this[Jn].blobLike.stream(...e)}arrayBuffer(...e){return Le.brandCheck(this,t),this[Jn].blobLike.arrayBuffer(...e)}slice(...e){return Le.brandCheck(this,t),this[Jn].blobLike.slice(...e)}text(...e){return Le.brandCheck(this,t),this[Jn].blobLike.text(...e)}get size(){return Le.brandCheck(this,t),this[Jn].blobLike.size}get type(){return Le.brandCheck(this,t),this[Jn].blobLike.type}get name(){return Le.brandCheck(this,t),this[Jn].name}get lastModified(){return Le.brandCheck(this,t),this[Jn].lastModified}get[Symbol.toStringTag](){return"File"}};Object.defineProperties(lu.prototype,{[Symbol.toStringTag]:{value:"File",configurable:!0},name:Zk,lastModified:Zk});Le.converters.Blob=Le.interfaceConverter(eF);Le.converters.BlobPart=function(t,e){if(Le.util.Type(t)==="Object"){if(tF(t))return Le.converters.Blob(t,{strict:!1});if(ArrayBuffer.isView(t)||jy.isAnyArrayBuffer(t))return Le.converters.BufferSource(t,e)}return Le.converters.USVString(t,e)};Le.converters["sequence<BlobPart>"]=Le.sequenceConverter(Le.converters.BlobPart);Le.converters.FilePropertyBag=Le.dictionaryConverter([{key:"lastModified",converter:Le.converters["long long"],get defaultValue(){return Date.now()}},{key:"type",converter:Le.converters.DOMString,defaultValue:""},{key:"endings",converter:t=>(t=Le.converters.DOMString(t),t=t.toLowerCase(),t!=="native"&&(t="transparent"),t),defaultValue:"transparent"}]);function r5(t,e){let n=[];for(let r of t)if(typeof r=="string"){let i=r;e.endings==="native"&&(i=i5(i)),n.push(n5.encode(i))}else jy.isAnyArrayBuffer(r)||jy.isTypedArray(r)?r.buffer?n.push(new Uint8Array(r.buffer,r.byteOffset,r.byteLength)):n.push(new Uint8Array(r)):tF(r)&&n.push(r);return n}function i5(t){let e=`
`;return process.platform==="win32"&&(e=`\r
`),t.replace(/\r?\n/g,e)}function s5(t){return Xk&&t instanceof Xk||t instanceof lu||t&&(typeof t.stream=="function"||typeof t.arrayBuffer=="function")&&t[Symbol.toStringTag]==="File"}nF.exports={File:lu,FileLike:Ky,isFileLike:s5}});var Vf=m((zBe,aF)=>{"use strict";var{isBlobLike:Pf,toUSVString:o5,makeIterator:$y}=dr(),{kState:tn}=ns(),{File:oF,FileLike:rF,isFileLike:a5}=Uf(),{webidl:Oe}=pn(),{Blob:A5,File:Xy}=B("buffer"),iF=Xy??oF,QA=class t{constructor(e){if(e!==void 0)throw Oe.errors.conversionFailed({prefix:"FormData constructor",argument:"Argument 1",types:["undefined"]});this[tn]=[]}append(e,n,r=void 0){if(Oe.brandCheck(this,t),Oe.argumentLengthCheck(arguments,2,{header:"FormData.append"}),arguments.length===3&&!Pf(n))throw new TypeError("Failed to execute 'append' on 'FormData': parameter 2 is not of type 'Blob'");e=Oe.converters.USVString(e),n=Pf(n)?Oe.converters.Blob(n,{strict:!1}):Oe.converters.USVString(n),r=arguments.length===3?Oe.converters.USVString(r):void 0;let i=sF(e,n,r);this[tn].push(i)}delete(e){Oe.brandCheck(this,t),Oe.argumentLengthCheck(arguments,1,{header:"FormData.delete"}),e=Oe.converters.USVString(e),this[tn]=this[tn].filter(n=>n.name!==e)}get(e){Oe.brandCheck(this,t),Oe.argumentLengthCheck(arguments,1,{header:"FormData.get"}),e=Oe.converters.USVString(e);let n=this[tn].findIndex(r=>r.name===e);return n===-1?null:this[tn][n].value}getAll(e){return Oe.brandCheck(this,t),Oe.argumentLengthCheck(arguments,1,{header:"FormData.getAll"}),e=Oe.converters.USVString(e),this[tn].filter(n=>n.name===e).map(n=>n.value)}has(e){return Oe.brandCheck(this,t),Oe.argumentLengthCheck(arguments,1,{header:"FormData.has"}),e=Oe.converters.USVString(e),this[tn].findIndex(n=>n.name===e)!==-1}set(e,n,r=void 0){if(Oe.brandCheck(this,t),Oe.argumentLengthCheck(arguments,2,{header:"FormData.set"}),arguments.length===3&&!Pf(n))throw new TypeError("Failed to execute 'set' on 'FormData': parameter 2 is not of type 'Blob'");e=Oe.converters.USVString(e),n=Pf(n)?Oe.converters.Blob(n,{strict:!1}):Oe.converters.USVString(n),r=arguments.length===3?o5(r):void 0;let i=sF(e,n,r),s=this[tn].findIndex(o=>o.name===e);s!==-1?this[tn]=[...this[tn].slice(0,s),i,...this[tn].slice(s+1).filter(o=>o.name!==e)]:this[tn].push(i)}entries(){return Oe.brandCheck(this,t),$y(()=>this[tn].map(e=>[e.name,e.value]),"FormData","key+value")}keys(){return Oe.brandCheck(this,t),$y(()=>this[tn].map(e=>[e.name,e.value]),"FormData","key")}values(){return Oe.brandCheck(this,t),$y(()=>this[tn].map(e=>[e.name,e.value]),"FormData","value")}forEach(e,n=globalThis){if(Oe.brandCheck(this,t),Oe.argumentLengthCheck(arguments,1,{header:"FormData.forEach"}),typeof e!="function")throw new TypeError("Failed to execute 'forEach' on 'FormData': parameter 1 is not of type 'Function'.");for(let[r,i]of this)e.apply(n,[i,r,this])}};QA.prototype[Symbol.iterator]=QA.prototype.entries;Object.defineProperties(QA.prototype,{[Symbol.toStringTag]:{value:"FormData",configurable:!0}});function sF(t,e,n){if(t=Buffer.from(t).toString("utf8"),typeof e=="string")e=Buffer.from(e).toString("utf8");else if(a5(e)||(e=e instanceof A5?new iF([e],"blob",{type:e.type}):new rF(e,"blob",{type:e.type})),n!==void 0){let r={type:e.type,lastModified:e.lastModified};e=Xy&&e instanceof Xy||e instanceof oF?new iF([e],n,r):new rF(e,n,r)}return{name:t,value:e}}aF.exports={FormData:QA}});var uu=m((jBe,pF)=>{"use strict";var c5=vk(),wA=Qe(),{ReadableStreamFrom:l5,isBlobLike:AF,isReadableStreamLike:u5,readableStreamClose:h5,createDeferredPromise:d5,fullyReadBody:f5}=dr(),{FormData:cF}=Vf(),{kState:is}=ns(),{webidl:Zy}=pn(),{DOMException:hF,structuredClone:g5}=Ls(),{Blob:p5,File:E5}=B("buffer"),{kBodyUsed:m5}=ze(),eB=B("assert"),{isErrored:C5}=Qe(),{isUint8Array:dF,isArrayBuffer:I5}=B("util/types"),{File:y5}=Uf(),{parseMIMEType:B5,serializeAMimeType:Q5}=Or(),rs=globalThis.ReadableStream,lF=E5??y5,qf=new TextEncoder,w5=new TextDecoder;function fF(t,e=!1){rs||(rs=B("stream/web").ReadableStream);let n=null;if(t instanceof rs)n=t;else if(AF(t))n=t.stream();else{let A;n=new rs({pull(c){return p(this,null,function*(){c.enqueue(typeof i=="string"?qf.encode(i):i),queueMicrotask(()=>h5(c))})},start(){},type:void 0})}eB(u5(n));let r=null,i=null,s=null,o=null;if(typeof t=="string")i=t,o="text/plain;charset=UTF-8";else if(t instanceof URLSearchParams)i=t.toString(),o="application/x-www-form-urlencoded;charset=UTF-8";else if(I5(t))i=new Uint8Array(t.slice());else if(ArrayBuffer.isView(t))i=new Uint8Array(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength));else if(wA.isFormDataLike(t)){let A=`----formdata-undici-0${`${Math.floor(Math.random()*1e11)}`.padStart(11,"0")}`,c=`--${A}\r
Content-Disposition: form-data`;let l=C=>C.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),u=C=>C.replace(/\r?\n|\r/g,`\r
`),h=[],d=new Uint8Array([13,10]);s=0;let f=!1;for(let[C,y]of t)if(typeof y=="string"){let I=qf.encode(c+`; name="${l(u(C))}"\r
\r
${u(y)}\r
`);h.push(I),s+=I.byteLength}else{let I=qf.encode(`${c}; name="${l(u(C))}"`+(y.name?`; filename="${l(y.name)}"`:"")+`\r
Content-Type: ${y.type||"application/octet-stream"}\r
\r
`);h.push(I,y,d),typeof y.size=="number"?s+=I.byteLength+y.size+d.byteLength:f=!0}let E=qf.encode(`--${A}--`);h.push(E),s+=E.byteLength,f&&(s=null),i=t,r=function(){return oi(this,null,function*(){for(let C of h)C.stream?yield*Mo(C.stream()):yield C})},o="multipart/form-data; boundary="+A}else if(AF(t))i=t,s=t.size,t.type&&(o=t.type);else if(typeof t[Symbol.asyncIterator]=="function"){if(e)throw new TypeError("keepalive");if(wA.isDisturbed(t)||t.locked)throw new TypeError("Response body object should not be disturbed or locked");n=t instanceof rs?t:l5(t)}if((typeof i=="string"||wA.isBuffer(i))&&(s=Buffer.byteLength(i)),r!=null){let c,A;n=new rs({start(){return p(this,null,function*(){A=r(t)[Symbol.asyncIterator]()})},pull(l){return p(this,null,function*(){let{value:u,done:h}=yield A.next();return h?queueMicrotask(()=>{l.close()}):C5(n)||l.enqueue(new Uint8Array(u)),l.desiredSize>0})},cancel(l){return p(this,null,function*(){yield A.return()})},type:void 0})}return[{stream:n,source:i,length:s},o]}function v5(t,e=!1){return rs||(rs=B("stream/web").ReadableStream),t instanceof rs&&(eB(!wA.isDisturbed(t),"The body has already been consumed."),eB(!t.locked,"The stream is locked.")),fF(t,e)}function _5(t){let[e,n]=t.stream.tee(),r=g5(n,{transfer:[n]}),[,i]=r.tee();return t.stream=e,{stream:i,length:t.length,source:t.source}}function uF(t){return oi(this,null,function*(){if(t)if(dF(t))yield t;else{let e=t.stream;if(wA.isDisturbed(e))throw new TypeError("The body has already been consumed.");if(e.locked)throw new TypeError("The stream is locked.");e[m5]=!0,yield*Mo(e)}})}function tB(t){if(t.aborted)throw new hF("The operation was aborted.","AbortError")}function S5(t){return{blob(){return Gf(this,r=>{let i=T5(this);return i==="failure"?i="":i&&(i=Q5(i)),new p5([r],{type:i})},t)},arrayBuffer(){return Gf(this,r=>new Uint8Array(r).buffer,t)},text(){return Gf(this,gF,t)},json(){return Gf(this,R5,t)},formData(){return p(this,null,function*(){Zy.brandCheck(this,t),tB(this[is]);let r=this.headers.get("Content-Type");if(/multipart\/form-data/.test(r)){let h={};for(let[C,y]of this.headers)h[C.toLowerCase()]=y;let d=new cF,f;try{f=new c5({headers:h,preservePath:!0})}catch(C){throw new hF(`${C}`,"AbortError")}f.on("field",(C,y)=>{d.append(C,y)}),f.on("file",(C,y,I,S,v)=>{let _=[];if(S==="base64"||S.toLowerCase()==="base64"){let D="";y.on("data",W=>{D+=W.toString().replace(/[\r\n]/gm,"");let de=D.length-D.length%4;_.push(Buffer.from(D.slice(0,de),"base64")),D=D.slice(de)}),y.on("end",()=>{_.push(Buffer.from(D,"base64")),d.append(C,new lF(_,I,{type:v}))})}else y.on("data",D=>{_.push(D)}),y.on("end",()=>{d.append(C,new lF(_,I,{type:v}))})});let E=new Promise((C,y)=>{f.on("finish",C),f.on("error",I=>y(new TypeError(I)))});if(this.body!==null)try{for(var i=Nn(uF(this[is].body)),s,o,a;s=!(o=yield i.next()).done;s=!1){let C=o.value;f.write(C)}}catch{a=[o]}finally{try{s&&(o=i.return)&&(yield o.call(i))}finally{if(a)throw a[0]}}return f.end(),yield E,d}else if(/application\/x-www-form-urlencoded/.test(r)){let h;try{let f="",E=new TextDecoder("utf-8",{ignoreBOM:!0});try{for(var A=Nn(uF(this[is].body)),c,l,u;c=!(l=yield A.next()).done;c=!1){let C=l.value;if(!dF(C))throw new TypeError("Expected Uint8Array chunk");f+=E.decode(C,{stream:!0})}}catch{u=[l]}finally{try{c&&(l=A.return)&&(yield l.call(A))}finally{if(u)throw u[0]}}f+=E.decode(),h=new URLSearchParams(f)}catch(f){throw Object.assign(new TypeError,{cause:f})}let d=new cF;for(let[f,E]of h)d.append(f,E);return d}else throw yield Promise.resolve(),tB(this[is]),Zy.errors.exception({header:`${t.name}.formData`,message:"Could not parse content as FormData."})})}}}function b5(t){Object.assign(t.prototype,S5(t))}function Gf(t,e,n){return p(this,null,function*(){if(Zy.brandCheck(t,n),tB(t[is]),D5(t[is].body))throw new TypeError("Body is unusable");let r=d5(),i=o=>r.reject(o),s=o=>{try{r.resolve(e(o))}catch(a){i(a)}};return t[is].body==null?(s(new Uint8Array),r.promise):(yield f5(t[is].body,s,i),r.promise)})}function D5(t){return t!=null&&(t.stream.locked||wA.isDisturbed(t.stream))}function gF(t){return t.length===0?"":(t[0]===239&&t[1]===187&&t[2]===191&&(t=t.subarray(3)),w5.decode(t))}function R5(t){return JSON.parse(gF(t))}function T5(t){let{headersList:e}=t[is],n=e.get("content-type");return n===null?"failure":B5(n)}pF.exports={extractBody:fF,safelyExtractBody:v5,cloneBody:_5,mixinBody:b5}});var IF=m(($Be,CF)=>{"use strict";var{InvalidArgumentError:je,NotSupportedError:N5}=He(),ss=B("assert"),{kHTTP2BuildRequest:k5,kHTTP2CopyHeaders:F5,kHTTP1BuildRequest:M5}=ze(),Fn=Qe(),EF=/^[\^_`a-zA-Z\-0-9!#$%&'*+.|~]+$/,mF=/[^\t\x20-\x7e\x80-\xff]/,x5=/[^\u0021-\u00ff]/,Ur=Symbol("handler"),Qt={},nB;try{let t=B("diagnostics_channel");Qt.create=t.channel("undici:request:create"),Qt.bodySent=t.channel("undici:request:bodySent"),Qt.headers=t.channel("undici:request:headers"),Qt.trailers=t.channel("undici:request:trailers"),Qt.error=t.channel("undici:request:error")}catch{Qt.create={hasSubscribers:!1},Qt.bodySent={hasSubscribers:!1},Qt.headers={hasSubscribers:!1},Qt.trailers={hasSubscribers:!1},Qt.error={hasSubscribers:!1}}var rB=class t{constructor(e,{path:n,method:r,body:i,headers:s,query:o,idempotent:a,blocking:A,upgrade:c,headersTimeout:l,bodyTimeout:u,reset:h,throwOnError:d,expectContinue:f},E){if(typeof n!="string")throw new je("path must be a string");if(n[0]!=="/"&&!(n.startsWith("http://")||n.startsWith("https://"))&&r!=="CONNECT")throw new je("path must be an absolute URL or start with a slash");if(x5.exec(n)!==null)throw new je("invalid request path");if(typeof r!="string")throw new je("method must be a string");if(EF.exec(r)===null)throw new je("invalid request method");if(c&&typeof c!="string")throw new je("upgrade must be a string");if(l!=null&&(!Number.isFinite(l)||l<0))throw new je("invalid headersTimeout");if(u!=null&&(!Number.isFinite(u)||u<0))throw new je("invalid bodyTimeout");if(h!=null&&typeof h!="boolean")throw new je("invalid reset");if(f!=null&&typeof f!="boolean")throw new je("invalid expectContinue");if(this.headersTimeout=l,this.bodyTimeout=u,this.throwOnError=d===!0,this.method=r,this.abort=null,i==null)this.body=null;else if(Fn.isStream(i)){this.body=i;let C=this.body._readableState;(!C||!C.autoDestroy)&&(this.endHandler=function(){Fn.destroy(this)},this.body.on("end",this.endHandler)),this.errorHandler=y=>{this.abort?this.abort(y):this.error=y},this.body.on("error",this.errorHandler)}else if(Fn.isBuffer(i))this.body=i.byteLength?i:null;else if(ArrayBuffer.isView(i))this.body=i.buffer.byteLength?Buffer.from(i.buffer,i.byteOffset,i.byteLength):null;else if(i instanceof ArrayBuffer)this.body=i.byteLength?Buffer.from(i):null;else if(typeof i=="string")this.body=i.length?Buffer.from(i):null;else if(Fn.isFormDataLike(i)||Fn.isIterable(i)||Fn.isBlobLike(i))this.body=i;else throw new je("body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable");if(this.completed=!1,this.aborted=!1,this.upgrade=c||null,this.path=o?Fn.buildURL(n,o):n,this.origin=e,this.idempotent=a??(r==="HEAD"||r==="GET"),this.blocking=A??!1,this.reset=h??null,this.host=null,this.contentLength=null,this.contentType=null,this.headers="",this.expectContinue=f??!1,Array.isArray(s)){if(s.length%2!==0)throw new je("headers array must be even");for(let C=0;C<s.length;C+=2)hu(this,s[C],s[C+1])}else if(s&&typeof s=="object"){let C=Object.keys(s);for(let y=0;y<C.length;y++){let I=C[y];hu(this,I,s[I])}}else if(s!=null)throw new je("headers must be an object or an array");if(Fn.isFormDataLike(this.body)){if(Fn.nodeMajor<16||Fn.nodeMajor===16&&Fn.nodeMinor<8)throw new je("Form-Data bodies are only supported in node v16.8 and newer.");nB||(nB=uu().extractBody);let[C,y]=nB(i);this.contentType==null&&(this.contentType=y,this.headers+=`content-type: ${y}\r
`),this.body=C.stream,this.contentLength=C.length}else Fn.isBlobLike(i)&&this.contentType==null&&i.type&&(this.contentType=i.type,this.headers+=`content-type: ${i.type}\r
`);Fn.validateHandler(E,r,c),this.servername=Fn.getServerName(this.host),this[Ur]=E,Qt.create.hasSubscribers&&Qt.create.publish({request:this})}onBodySent(e){if(this[Ur].onBodySent)try{return this[Ur].onBodySent(e)}catch(n){this.abort(n)}}onRequestSent(){if(Qt.bodySent.hasSubscribers&&Qt.bodySent.publish({request:this}),this[Ur].onRequestSent)try{return this[Ur].onRequestSent()}catch(e){this.abort(e)}}onConnect(e){if(ss(!this.aborted),ss(!this.completed),this.error)e(this.error);else return this.abort=e,this[Ur].onConnect(e)}onHeaders(e,n,r,i){ss(!this.aborted),ss(!this.completed),Qt.headers.hasSubscribers&&Qt.headers.publish({request:this,response:{statusCode:e,headers:n,statusText:i}});try{return this[Ur].onHeaders(e,n,r,i)}catch(s){this.abort(s)}}onData(e){ss(!this.aborted),ss(!this.completed);try{return this[Ur].onData(e)}catch(n){return this.abort(n),!1}}onUpgrade(e,n,r){return ss(!this.aborted),ss(!this.completed),this[Ur].onUpgrade(e,n,r)}onComplete(e){this.onFinally(),ss(!this.aborted),this.completed=!0,Qt.trailers.hasSubscribers&&Qt.trailers.publish({request:this,trailers:e});try{return this[Ur].onComplete(e)}catch(n){this.onError(n)}}onError(e){if(this.onFinally(),Qt.error.hasSubscribers&&Qt.error.publish({request:this,error:e}),!this.aborted)return this.aborted=!0,this[Ur].onError(e)}onFinally(){this.errorHandler&&(this.body.off("error",this.errorHandler),this.errorHandler=null),this.endHandler&&(this.body.off("end",this.endHandler),this.endHandler=null)}addHeader(e,n){return hu(this,e,n),this}static[M5](e,n,r){return new t(e,n,r)}static[k5](e,n,r){let i=n.headers;n=j(k({},n),{headers:null});let s=new t(e,n,r);if(s.headers={},Array.isArray(i)){if(i.length%2!==0)throw new je("headers array must be even");for(let o=0;o<i.length;o+=2)hu(s,i[o],i[o+1],!0)}else if(i&&typeof i=="object"){let o=Object.keys(i);for(let a=0;a<o.length;a++){let A=o[a];hu(s,A,i[A],!0)}}else if(i!=null)throw new je("headers must be an object or an array");return s}static[F5](e){let n=e.split(`\r
`),r={};for(let i of n){let[s,o]=i.split(": ");o==null||o.length===0||(r[s]?r[s]+=`,${o}`:r[s]=o)}return r}};function Ko(t,e,n){if(e&&typeof e=="object")throw new je(`invalid ${t} header`);if(e=e!=null?`${e}`:"",mF.exec(e)!==null)throw new je(`invalid ${t} header`);return n?e:`${t}: ${e}\r
`}function hu(t,e,n,r=!1){if(n&&typeof n=="object"&&!Array.isArray(n))throw new je(`invalid ${e} header`);if(n===void 0)return;if(t.host===null&&e.length===4&&e.toLowerCase()==="host"){if(mF.exec(n)!==null)throw new je(`invalid ${e} header`);t.host=n}else if(t.contentLength===null&&e.length===14&&e.toLowerCase()==="content-length"){if(t.contentLength=parseInt(n,10),!Number.isFinite(t.contentLength))throw new je("invalid content-length header")}else if(t.contentType===null&&e.length===12&&e.toLowerCase()==="content-type")t.contentType=n,r?t.headers[e]=Ko(e,n,r):t.headers+=Ko(e,n);else{if(e.length===17&&e.toLowerCase()==="transfer-encoding")throw new je("invalid transfer-encoding header");if(e.length===10&&e.toLowerCase()==="connection"){let i=typeof n=="string"?n.toLowerCase():null;if(i!=="close"&&i!=="keep-alive")throw new je("invalid connection header");i==="close"&&(t.reset=!0)}else{if(e.length===10&&e.toLowerCase()==="keep-alive")throw new je("invalid keep-alive header");if(e.length===7&&e.toLowerCase()==="upgrade")throw new je("invalid upgrade header");if(e.length===6&&e.toLowerCase()==="expect")throw new N5("expect header not supported");if(EF.exec(e)===null)throw new je("invalid header key");if(Array.isArray(n))for(let i=0;i<n.length;i++)r?t.headers[e]?t.headers[e]+=`,${Ko(e,n[i],r)}`:t.headers[e]=Ko(e,n[i],r):t.headers+=Ko(e,n[i]);else r?t.headers[e]=Ko(e,n,r):t.headers+=Ko(e,n)}}}CF.exports=rB});var Hf=m((ZBe,yF)=>{"use strict";var L5=B("events"),iB=class extends L5{dispatch(){throw new Error("not implemented")}close(){throw new Error("not implemented")}destroy(){throw new Error("not implemented")}};yF.exports=iB});var fu=m((eQe,BF)=>{"use strict";var O5=Hf(),{ClientDestroyedError:sB,ClientClosedError:U5,InvalidArgumentError:vA}=He(),{kDestroy:P5,kClose:V5,kDispatch:oB,kInterceptors:$o}=ze(),_A=Symbol("destroyed"),du=Symbol("closed"),os=Symbol("onDestroyed"),SA=Symbol("onClosed"),Yf=Symbol("Intercepted Dispatch"),aB=class extends O5{constructor(){super(),this[_A]=!1,this[os]=null,this[du]=!1,this[SA]=[]}get destroyed(){return this[_A]}get closed(){return this[du]}get interceptors(){return this[$o]}set interceptors(e){if(e){for(let n=e.length-1;n>=0;n--)if(typeof this[$o][n]!="function")throw new vA("interceptor must be an function")}this[$o]=e}close(e){if(e===void 0)return new Promise((r,i)=>{this.close((s,o)=>s?i(s):r(o))});if(typeof e!="function")throw new vA("invalid callback");if(this[_A]){queueMicrotask(()=>e(new sB,null));return}if(this[du]){this[SA]?this[SA].push(e):queueMicrotask(()=>e(null,null));return}this[du]=!0,this[SA].push(e);let n=()=>{let r=this[SA];this[SA]=null;for(let i=0;i<r.length;i++)r[i](null,null)};this[V5]().then(()=>this.destroy()).then(()=>{queueMicrotask(n)})}destroy(e,n){if(typeof e=="function"&&(n=e,e=null),n===void 0)return new Promise((i,s)=>{this.destroy(e,(o,a)=>o?s(o):i(a))});if(typeof n!="function")throw new vA("invalid callback");if(this[_A]){this[os]?this[os].push(n):queueMicrotask(()=>n(null,null));return}e||(e=new sB),this[_A]=!0,this[os]=this[os]||[],this[os].push(n);let r=()=>{let i=this[os];this[os]=null;for(let s=0;s<i.length;s++)i[s](null,null)};this[P5](e).then(()=>{queueMicrotask(r)})}[Yf](e,n){if(!this[$o]||this[$o].length===0)return this[Yf]=this[oB],this[oB](e,n);let r=this[oB].bind(this);for(let i=this[$o].length-1;i>=0;i--)r=this[$o][i](r);return this[Yf]=r,r(e,n)}dispatch(e,n){if(!n||typeof n!="object")throw new vA("handler must be an object");try{if(!e||typeof e!="object")throw new vA("opts must be an object.");if(this[_A]||this[os])throw new sB;if(this[du])throw new U5;return this[Yf](e,n)}catch(r){if(typeof n.onError!="function")throw new vA("invalid onError method");return n.onError(r),!1}}};BF.exports=aB});var gu=m((rQe,vF)=>{"use strict";var q5=B("net"),QF=B("assert"),wF=Qe(),{InvalidArgumentError:G5,ConnectTimeoutError:H5}=He(),AB,cB;global.FinalizationRegistry&&!process.env.NODE_V8_COVERAGE?cB=class{constructor(e){this._maxCachedSessions=e,this._sessionCache=new Map,this._sessionRegistry=new global.FinalizationRegistry(n=>{if(this._sessionCache.size<this._maxCachedSessions)return;let r=this._sessionCache.get(n);r!==void 0&&r.deref()===void 0&&this._sessionCache.delete(n)})}get(e){let n=this._sessionCache.get(e);return n?n.deref():null}set(e,n){this._maxCachedSessions!==0&&(this._sessionCache.set(e,new WeakRef(n)),this._sessionRegistry.register(n,e))}}:cB=class{constructor(e){this._maxCachedSessions=e,this._sessionCache=new Map}get(e){return this._sessionCache.get(e)}set(e,n){if(this._maxCachedSessions!==0){if(this._sessionCache.size>=this._maxCachedSessions){let{value:r}=this._sessionCache.keys().next();this._sessionCache.delete(r)}this._sessionCache.set(e,n)}}};function Y5(s){var o=s,{allowH2:t,maxCachedSessions:e,socketPath:n,timeout:r}=o,i=Xt(o,["allowH2","maxCachedSessions","socketPath","timeout"]);if(e!=null&&(!Number.isInteger(e)||e<0))throw new G5("maxCachedSessions must be a positive integer or zero");let a=k({path:n},i),A=new cB(e??100);return r=r??1e4,t=t??!1,function({hostname:l,host:u,protocol:h,port:d,servername:f,localAddress:E,httpSocket:C},y){let I;if(h==="https:"){AB||(AB=B("tls")),f=f||a.servername||wF.getServerName(u)||null;let v=f||l,_=A.get(v)||null;QF(v),I=AB.connect(j(k({highWaterMark:16384},a),{servername:f,session:_,localAddress:E,ALPNProtocols:t?["http/1.1","h2"]:["http/1.1"],socket:C,port:d||443,host:l})),I.on("session",function(D){A.set(v,D)})}else QF(!C,"httpSocket can only be sent on TLS update"),I=q5.connect(j(k({highWaterMark:64*1024},a),{localAddress:E,port:d||80,host:l}));if(a.keepAlive==null||a.keepAlive){let v=a.keepAliveInitialDelay===void 0?6e4:a.keepAliveInitialDelay;I.setKeepAlive(!0,v)}let S=W5(()=>J5(I),r);return I.setNoDelay(!0).once(h==="https:"?"secureConnect":"connect",function(){if(S(),y){let v=y;y=null,v(null,this)}}).on("error",function(v){if(S(),y){let _=y;y=null,_(v)}}),I}}function W5(t,e){if(!e)return()=>{};let n=null,r=null,i=setTimeout(()=>{n=setImmediate(()=>{process.platform==="win32"?r=setImmediate(()=>t()):t()})},e);return()=>{clearTimeout(i),clearImmediate(n),clearImmediate(r)}}function J5(t){wF.destroy(t,new H5)}vF.exports=Y5});var _F=m(Wf=>{"use strict";Object.defineProperty(Wf,"__esModule",{value:!0});Wf.enumToMap=void 0;function z5(t){let e={};return Object.keys(t).forEach(n=>{let r=t[n];typeof r=="number"&&(e[n]=r)}),e}Wf.enumToMap=z5});var SF=m(M=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});M.SPECIAL_HEADERS=M.HEADER_STATE=M.MINOR=M.MAJOR=M.CONNECTION_TOKEN_CHARS=M.HEADER_CHARS=M.TOKEN=M.STRICT_TOKEN=M.HEX=M.URL_CHAR=M.STRICT_URL_CHAR=M.USERINFO_CHARS=M.MARK=M.ALPHANUM=M.NUM=M.HEX_MAP=M.NUM_MAP=M.ALPHA=M.FINISH=M.H_METHOD_MAP=M.METHOD_MAP=M.METHODS_RTSP=M.METHODS_ICE=M.METHODS_HTTP=M.METHODS=M.LENIENT_FLAGS=M.FLAGS=M.TYPE=M.ERROR=void 0;var j5=_F(),K5;(function(t){t[t.OK=0]="OK",t[t.INTERNAL=1]="INTERNAL",t[t.STRICT=2]="STRICT",t[t.LF_EXPECTED=3]="LF_EXPECTED",t[t.UNEXPECTED_CONTENT_LENGTH=4]="UNEXPECTED_CONTENT_LENGTH",t[t.CLOSED_CONNECTION=5]="CLOSED_CONNECTION",t[t.INVALID_METHOD=6]="INVALID_METHOD",t[t.INVALID_URL=7]="INVALID_URL",t[t.INVALID_CONSTANT=8]="INVALID_CONSTANT",t[t.INVALID_VERSION=9]="INVALID_VERSION",t[t.INVALID_HEADER_TOKEN=10]="INVALID_HEADER_TOKEN",t[t.INVALID_CONTENT_LENGTH=11]="INVALID_CONTENT_LENGTH",t[t.INVALID_CHUNK_SIZE=12]="INVALID_CHUNK_SIZE",t[t.INVALID_STATUS=13]="INVALID_STATUS",t[t.INVALID_EOF_STATE=14]="INVALID_EOF_STATE",t[t.INVALID_TRANSFER_ENCODING=15]="INVALID_TRANSFER_ENCODING",t[t.CB_MESSAGE_BEGIN=16]="CB_MESSAGE_BEGIN",t[t.CB_HEADERS_COMPLETE=17]="CB_HEADERS_COMPLETE",t[t.CB_MESSAGE_COMPLETE=18]="CB_MESSAGE_COMPLETE",t[t.CB_CHUNK_HEADER=19]="CB_CHUNK_HEADER",t[t.CB_CHUNK_COMPLETE=20]="CB_CHUNK_COMPLETE",t[t.PAUSED=21]="PAUSED",t[t.PAUSED_UPGRADE=22]="PAUSED_UPGRADE",t[t.PAUSED_H2_UPGRADE=23]="PAUSED_H2_UPGRADE",t[t.USER=24]="USER"})(K5=M.ERROR||(M.ERROR={}));var $5;(function(t){t[t.BOTH=0]="BOTH",t[t.REQUEST=1]="REQUEST",t[t.RESPONSE=2]="RESPONSE"})($5=M.TYPE||(M.TYPE={}));var X5;(function(t){t[t.CONNECTION_KEEP_ALIVE=1]="CONNECTION_KEEP_ALIVE",t[t.CONNECTION_CLOSE=2]="CONNECTION_CLOSE",t[t.CONNECTION_UPGRADE=4]="CONNECTION_UPGRADE",t[t.CHUNKED=8]="CHUNKED",t[t.UPGRADE=16]="UPGRADE",t[t.CONTENT_LENGTH=32]="CONTENT_LENGTH",t[t.SKIPBODY=64]="SKIPBODY",t[t.TRAILING=128]="TRAILING",t[t.TRANSFER_ENCODING=512]="TRANSFER_ENCODING"})(X5=M.FLAGS||(M.FLAGS={}));var Z5;(function(t){t[t.HEADERS=1]="HEADERS",t[t.CHUNKED_LENGTH=2]="CHUNKED_LENGTH",t[t.KEEP_ALIVE=4]="KEEP_ALIVE"})(Z5=M.LENIENT_FLAGS||(M.LENIENT_FLAGS={}));var X;(function(t){t[t.DELETE=0]="DELETE",t[t.GET=1]="GET",t[t.HEAD=2]="HEAD",t[t.POST=3]="POST",t[t.PUT=4]="PUT",t[t.CONNECT=5]="CONNECT",t[t.OPTIONS=6]="OPTIONS",t[t.TRACE=7]="TRACE",t[t.COPY=8]="COPY",t[t.LOCK=9]="LOCK",t[t.MKCOL=10]="MKCOL",t[t.MOVE=11]="MOVE",t[t.PROPFIND=12]="PROPFIND",t[t.PROPPATCH=13]="PROPPATCH",t[t.SEARCH=14]="SEARCH",t[t.UNLOCK=15]="UNLOCK",t[t.BIND=16]="BIND",t[t.REBIND=17]="REBIND",t[t.UNBIND=18]="UNBIND",t[t.ACL=19]="ACL",t[t.REPORT=20]="REPORT",t[t.MKACTIVITY=21]="MKACTIVITY",t[t.CHECKOUT=22]="CHECKOUT",t[t.MERGE=23]="MERGE",t[t["M-SEARCH"]=24]="M-SEARCH",t[t.NOTIFY=25]="NOTIFY",t[t.SUBSCRIBE=26]="SUBSCRIBE",t[t.UNSUBSCRIBE=27]="UNSUBSCRIBE",t[t.PATCH=28]="PATCH",t[t.PURGE=29]="PURGE",t[t.MKCALENDAR=30]="MKCALENDAR",t[t.LINK=31]="LINK",t[t.UNLINK=32]="UNLINK",t[t.SOURCE=33]="SOURCE",t[t.PRI=34]="PRI",t[t.DESCRIBE=35]="DESCRIBE",t[t.ANNOUNCE=36]="ANNOUNCE",t[t.SETUP=37]="SETUP",t[t.PLAY=38]="PLAY",t[t.PAUSE=39]="PAUSE",t[t.TEARDOWN=40]="TEARDOWN",t[t.GET_PARAMETER=41]="GET_PARAMETER",t[t.SET_PARAMETER=42]="SET_PARAMETER",t[t.REDIRECT=43]="REDIRECT",t[t.RECORD=44]="RECORD",t[t.FLUSH=45]="FLUSH"})(X=M.METHODS||(M.METHODS={}));M.METHODS_HTTP=[X.DELETE,X.GET,X.HEAD,X.POST,X.PUT,X.CONNECT,X.OPTIONS,X.TRACE,X.COPY,X.LOCK,X.MKCOL,X.MOVE,X.PROPFIND,X.PROPPATCH,X.SEARCH,X.UNLOCK,X.BIND,X.REBIND,X.UNBIND,X.ACL,X.REPORT,X.MKACTIVITY,X.CHECKOUT,X.MERGE,X["M-SEARCH"],X.NOTIFY,X.SUBSCRIBE,X.UNSUBSCRIBE,X.PATCH,X.PURGE,X.MKCALENDAR,X.LINK,X.UNLINK,X.PRI,X.SOURCE];M.METHODS_ICE=[X.SOURCE];M.METHODS_RTSP=[X.OPTIONS,X.DESCRIBE,X.ANNOUNCE,X.SETUP,X.PLAY,X.PAUSE,X.TEARDOWN,X.GET_PARAMETER,X.SET_PARAMETER,X.REDIRECT,X.RECORD,X.FLUSH,X.GET,X.POST];M.METHOD_MAP=j5.enumToMap(X);M.H_METHOD_MAP={};Object.keys(M.METHOD_MAP).forEach(t=>{/^H/.test(t)&&(M.H_METHOD_MAP[t]=M.METHOD_MAP[t])});var e8;(function(t){t[t.SAFE=0]="SAFE",t[t.SAFE_WITH_CB=1]="SAFE_WITH_CB",t[t.UNSAFE=2]="UNSAFE"})(e8=M.FINISH||(M.FINISH={}));M.ALPHA=[];for(let t=65;t<=90;t++)M.ALPHA.push(String.fromCharCode(t)),M.ALPHA.push(String.fromCharCode(t+32));M.NUM_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9};M.HEX_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};M.NUM=["0","1","2","3","4","5","6","7","8","9"];M.ALPHANUM=M.ALPHA.concat(M.NUM);M.MARK=["-","_",".","!","~","*","'","(",")"];M.USERINFO_CHARS=M.ALPHANUM.concat(M.MARK).concat(["%",";",":","&","=","+","$",","]);M.STRICT_URL_CHAR=["!",'"',"$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","@","[","\\","]","^","_","`","{","|","}","~"].concat(M.ALPHANUM);M.URL_CHAR=M.STRICT_URL_CHAR.concat(["	","\f"]);for(let t=128;t<=255;t++)M.URL_CHAR.push(t);M.HEX=M.NUM.concat(["a","b","c","d","e","f","A","B","C","D","E","F"]);M.STRICT_TOKEN=["!","#","$","%","&","'","*","+","-",".","^","_","`","|","~"].concat(M.ALPHANUM);M.TOKEN=M.STRICT_TOKEN.concat([" "]);M.HEADER_CHARS=["	"];for(let t=32;t<=255;t++)t!==127&&M.HEADER_CHARS.push(t);M.CONNECTION_TOKEN_CHARS=M.HEADER_CHARS.filter(t=>t!==44);M.MAJOR=M.NUM_MAP;M.MINOR=M.MAJOR;var bA;(function(t){t[t.GENERAL=0]="GENERAL",t[t.CONNECTION=1]="CONNECTION",t[t.CONTENT_LENGTH=2]="CONTENT_LENGTH",t[t.TRANSFER_ENCODING=3]="TRANSFER_ENCODING",t[t.UPGRADE=4]="UPGRADE",t[t.CONNECTION_KEEP_ALIVE=5]="CONNECTION_KEEP_ALIVE",t[t.CONNECTION_CLOSE=6]="CONNECTION_CLOSE",t[t.CONNECTION_UPGRADE=7]="CONNECTION_UPGRADE",t[t.TRANSFER_ENCODING_CHUNKED=8]="TRANSFER_ENCODING_CHUNKED"})(bA=M.HEADER_STATE||(M.HEADER_STATE={}));M.SPECIAL_HEADERS={connection:bA.CONNECTION,"content-length":bA.CONTENT_LENGTH,"proxy-connection":bA.CONNECTION,"transfer-encoding":bA.TRANSFER_ENCODING,upgrade:bA.UPGRADE}});var hB=m((aQe,RF)=>{"use strict";var as=Qe(),{kBodyUsed:pu}=ze(),uB=B("assert"),{InvalidArgumentError:t8}=He(),n8=B("events"),r8=[300,301,302,303,307,308],bF=Symbol("body"),Jf=class{constructor(e){this[bF]=e,this[pu]=!1}[Symbol.asyncIterator](){return oi(this,null,function*(){uB(!this[pu],"disturbed"),this[pu]=!0,yield*Mo(this[bF])})}},lB=class{constructor(e,n,r,i){if(n!=null&&(!Number.isInteger(n)||n<0))throw new t8("maxRedirections must be a positive number");as.validateHandler(i,r.method,r.upgrade),this.dispatch=e,this.location=null,this.abort=null,this.opts=j(k({},r),{maxRedirections:0}),this.maxRedirections=n,this.handler=i,this.history=[],as.isStream(this.opts.body)?(as.bodyLength(this.opts.body)===0&&this.opts.body.on("data",function(){uB(!1)}),typeof this.opts.body.readableDidRead!="boolean"&&(this.opts.body[pu]=!1,n8.prototype.on.call(this.opts.body,"data",function(){this[pu]=!0}))):this.opts.body&&typeof this.opts.body.pipeTo=="function"?this.opts.body=new Jf(this.opts.body):this.opts.body&&typeof this.opts.body!="string"&&!ArrayBuffer.isView(this.opts.body)&&as.isIterable(this.opts.body)&&(this.opts.body=new Jf(this.opts.body))}onConnect(e){this.abort=e,this.handler.onConnect(e,{history:this.history})}onUpgrade(e,n,r){this.handler.onUpgrade(e,n,r)}onError(e){this.handler.onError(e)}onHeaders(e,n,r,i){if(this.location=this.history.length>=this.maxRedirections||as.isDisturbed(this.opts.body)?null:i8(e,n),this.opts.origin&&this.history.push(new URL(this.opts.path,this.opts.origin)),!this.location)return this.handler.onHeaders(e,n,r,i);let{origin:s,pathname:o,search:a}=as.parseURL(new URL(this.location,this.opts.origin&&new URL(this.opts.path,this.opts.origin))),A=a?`${o}${a}`:o;this.opts.headers=s8(this.opts.headers,e===303,this.opts.origin!==s),this.opts.path=A,this.opts.origin=s,this.opts.maxRedirections=0,this.opts.query=null,e===303&&this.opts.method!=="HEAD"&&(this.opts.method="GET",this.opts.body=null)}onData(e){if(!this.location)return this.handler.onData(e)}onComplete(e){this.location?(this.location=null,this.abort=null,this.dispatch(this.opts,this)):this.handler.onComplete(e)}onBodySent(e){this.handler.onBodySent&&this.handler.onBodySent(e)}};function i8(t,e){if(r8.indexOf(t)===-1)return null;for(let n=0;n<e.length;n+=2)if(e[n].toString().toLowerCase()==="location")return e[n+1]}function DF(t,e,n){if(t.length===4)return as.headerNameToString(t)==="host";if(e&&as.headerNameToString(t).startsWith("content-"))return!0;if(n&&(t.length===13||t.length===6||t.length===19)){let r=as.headerNameToString(t);return r==="authorization"||r==="cookie"||r==="proxy-authorization"}return!1}function s8(t,e,n){let r=[];if(Array.isArray(t))for(let i=0;i<t.length;i+=2)DF(t[i],e,n)||r.push(t[i],t[i+1]);else if(t&&typeof t=="object")for(let i of Object.keys(t))DF(i,e,n)||r.push(i,t[i]);else uB(t==null,"headers must be an object or an array");return r}RF.exports=lB});var zf=m((cQe,TF)=>{"use strict";var o8=hB();function a8({maxRedirections:t}){return e=>function(r,i){let{maxRedirections:s=t}=r;if(!s)return e(r,i);let o=new o8(e,s,r,i);return r=j(k({},r),{maxRedirections:0}),e(r,o)}}TF.exports=a8});var dB=m((uQe,NF)=>{"use strict";NF.exports="AGFzbQEAAAABMAhgAX8Bf2ADf39/AX9gBH9/f38Bf2AAAGADf39/AGABfwBgAn9/AGAGf39/f39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQACA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAA0ZFAwMEAAAFAAAAAAAABQEFAAUFBQAABgAAAAAGBgYGAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAABAQcAAAUFAwABBAUBcAESEgUDAQACBggBfwFBgNQECwfRBSIGbWVtb3J5AgALX2luaXRpYWxpemUACRlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALbGxodHRwX2luaXQAChhsbGh0dHBfc2hvdWxkX2tlZXBfYWxpdmUAQQxsbGh0dHBfYWxsb2MADAZtYWxsb2MARgtsbGh0dHBfZnJlZQANBGZyZWUASA9sbGh0dHBfZ2V0X3R5cGUADhVsbGh0dHBfZ2V0X2h0dHBfbWFqb3IADxVsbGh0dHBfZ2V0X2h0dHBfbWlub3IAEBFsbGh0dHBfZ2V0X21ldGhvZAARFmxsaHR0cF9nZXRfc3RhdHVzX2NvZGUAEhJsbGh0dHBfZ2V0X3VwZ3JhZGUAEwxsbGh0dHBfcmVzZXQAFA5sbGh0dHBfZXhlY3V0ZQAVFGxsaHR0cF9zZXR0aW5nc19pbml0ABYNbGxodHRwX2ZpbmlzaAAXDGxsaHR0cF9wYXVzZQAYDWxsaHR0cF9yZXN1bWUAGRtsbGh0dHBfcmVzdW1lX2FmdGVyX3VwZ3JhZGUAGhBsbGh0dHBfZ2V0X2Vycm5vABsXbGxodHRwX2dldF9lcnJvcl9yZWFzb24AHBdsbGh0dHBfc2V0X2Vycm9yX3JlYXNvbgAdFGxsaHR0cF9nZXRfZXJyb3JfcG9zAB4RbGxodHRwX2Vycm5vX25hbWUAHxJsbGh0dHBfbWV0aG9kX25hbWUAIBJs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ADcDACAAQShqQgA3AwAgAEEgakIANwMAIABBEGpCADcDACAAQQhqQgA3AwAgAEHdATYCHEEAC3sBAX8CQCAAKAIMIgMNAAJAIAAoAgRFDQAgACABNgIECwJAIAAgASACEMSAgIAAIgMNACAAKAIMDwsgACADNgIcQQAhAyAAKAIEIgFFDQAgACABIAIgACgCCBGBgICAAAAiAUUNACAAIAI2AhQgACABNgIMIAEhAwsgAwvk8wEDDn8DfgR/I4CAgIAAQRBrIgMkgICAgAAgASEEIAEhBSABIQYgASEHIAEhCCABIQkgASEKIAEhCyABIQwgASENIAEhDiABIQ8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgACgCHCIQQX9qDt0B2gEB2QECAwQFBgcICQoLDA0O2AEPENcBERLWARMUFRYXGBkaG+AB3wEcHR7VAR8gISIjJCXUASYnKCkqKyzTAdIBLS7RAdABLzAxMjM0NTY3ODk6Ozw9Pj9AQUJDREVG2wFHSElKzwHOAUvNAUzMAU1OT1BRUlNUVVZXWFlaW1xdXl9gYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXp7fH1+f4ABgQGCAYMBhAGFAYYBhwGIAYkBigGLAYwBjQGOAY8BkAGRAZIBkwGUAZUBlgGXAZgBmQGaAZsBnAGdAZ4BnwGgAaEBogGjAaQBpQGmAacBqAGpAaoBqwGsAa0BrgGvAbABsQGyAbMBtAG1AbYBtwHLAcoBuAHJAbkByAG6AbsBvAG9Ab4BvwHAAcEBwgHDAcQBxQHGAQDcAQtBACEQDMYBC0EOIRAMxQELQQ0hEAzEAQtBDyEQDMMBC0EQIRAMwgELQRMhEAzBAQtBFCEQDMABC0EVIRAMvwELQRYhEAy+AQtBFyEQDL0BC0EYIRAMvAELQRkhEAy7AQtBGiEQDLoBC0EbIRAMuQELQRwhEAy4AQtBCCEQDLcBC0EdIRAMtgELQSAhEAy1AQtBHyEQDLQBC0EHIRAMswELQSEhEAyyAQtBIiEQDLEBC0EeIRAMsAELQSMhEAyvAQtBEiEQDK4BC0ERIRAMrQELQSQhEAysAQtBJSEQDKsBC0EmIRAMqgELQSchEAypAQtBwwEhEAyoAQtBKSEQDKcBC0ErIRAMpgELQSwhEAylAQtBLSEQDKQBC0EuIRAMowELQS8hEAyiAQtBxAEhEAyhAQtBMCEQDKABC0E0IRAMnwELQQwhEAyeAQtBMSEQDJ0BC0EyIRAMnAELQTMhEAybAQtBOSEQDJoBC0E1IRAMmQELQcUBIRAMmAELQQshEAyXAQtBOiEQDJYBC0E2IRAMlQELQQohEAyUAQtBNyEQDJMBC0E4IRAMkgELQTwhEAyRAQtBOyEQDJABC0E9IRAMjwELQQkhEAyOAQtBKCEQDI0BC0E+IRAMjAELQT8hEAyLAQtBwAAhEAyKAQtBwQAhEAyJAQtBwgAhEAyIAQtBwwAhEAyHAQtBxAAhEAyGAQtBxQAhEAyFAQtBxgAhEAyEAQtBKiEQDIMBC0HHACEQDIIBC0HIACEQDIEBC0HJACEQDIABC0HKACEQDH8LQcsAIRAMfgtBzQAhEAx9C0HMACEQDHwLQc4AIRAMewtBzwAhEAx6C0HQACEQDHkLQdEAIRAMeAtB0gAhEAx3C0HTACEQDHYLQdQAIRAMdQtB1gAhEAx0C0HVACEQDHMLQQYhEAxyC0HXACEQDHELQQUhEAxwC0HYACEQDG8LQQQhEAxuC0HZACEQDG0LQdoAIRAMbAtB2wAhEAxrC0HcACEQDGoLQQMhEAxpC0HdACEQDGgLQd4AIRAMZwtB3wAhEAxmC0HhACEQDGULQeAAIRAMZAtB4gAhEAxjC0HjACEQDGILQQIhEAxhC0HkACEQDGALQeUAIRAMXwtB5gAhEAxeC0HnACEQDF0LQegAIRAMXAtB6QAhEAxbC0HqACEQDFoLQesAIRAMWQtB7AAhEAxYC0HtACEQDFcLQe4AIRAMVgtB7wAhEAxVC0HwACEQDFQLQfEAIRAMUwtB8gAhEAxSC0HzACEQDFELQfQAIRAMUAtB9QAhEAxPC0H2ACEQDE4LQfcAIRAMTQtB+AAhEAxMC0H5ACEQDEsLQfoAIRAMSgtB+wAhEAxJC0H8ACEQDEgLQf0AIRAMRwtB/gAhEAxGC0H/ACEQDEULQYABIRAMRAtBgQEhEAxDC0GCASEQDEILQYMBIRAMQQtBhAEhEAxAC0GFASEQDD8LQYYBIRAMPgtBhwEhEAw9C0GIASEQDDwLQYkBIRAMOwtBigEhEAw6C0GLASEQDDkLQYwBIRAMOAtBjQEhEAw3C0GOASEQDDYLQY8BIRAMNQtBkAEhEAw0C0GRASEQDDMLQZIBIRAMMgtBkwEhEAwxC0GUASEQDDALQZUBIRAMLwtBlgEhEAwuC0GXASEQDC0LQZgBIRAMLAtBmQEhEAwrC0GaASEQDCoLQZsBIRAMKQtBnAEhEAwoC0GdASEQDCcLQZ4BIRAMJgtBnwEhEAwlC0GgASEQDCQLQaEBIRAMIwtBogEhEAwiC0GjASEQDCELQaQBIRAMIAtBpQEhEAwfC0GmASEQDB4LQacBIRAMHQtBqAEhEAwcC0GpASEQDBsLQaoBIRAMGgtBqwEhEAwZC0GsASEQDBgLQa0BIRAMFwtBrgEhEAwWC0EBIRAMFQtBrwEhEAwUC0GwASEQDBMLQbEBIRAMEgtBswEhEAwRC0GyASEQDBALQbQBIRAMDwtBtQEhEAwOC0G2ASEQDA0LQbcBIRAMDAtBuAEhEAwLC0G5ASEQDAoLQboBIRAMCQtBuwEhEAwIC0HGASEQDAcLQbwBIRAMBgtBvQEhEAwFC0G+ASEQDAQLQb8BIRAMAwtBwAEhEAwCC0HCASEQDAELQcEBIRALA0ACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAC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FCAAIBA2AgxBACEQDLIBCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQp4CAgAAiEA0AIAEhAQxNCyAAQdMANgIcIAAgATYCFCAAIBA2AgxBACEQDLEBCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQp4CAgAAiEA0AIAEhAQxRCyAAQeUANgIcIAAgATYCFCAAIBA2AgxBACEQDLABCyAAQQA2AhwgACABNgIUIABBxoqAgAA2AhAgAEEHNgIMQQAhEAyvAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMSQsgAEHSADYCHCAAIAE2AhQgACAQNgIMQQAhEAyuAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMSQsgAEHTADYCHCAAIAE2AhQgACAQNgIMQQAhEAytAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMTQsgAEHlADYCHCAAIAE2AhQgACAQNgIMQQAhEAysAQsgAEEANgIcIAAgATYCFCAAQdyIgIAANgIQIABBBzYCDEEAIRAMqwELIBBBP0cNASABQQFqIQELQQUhEAyQAQtBACEQIABBADYCHCAAIAE2AhQgAEH9koCAADYCECAAQQc2AgwMqAELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEILIABB0gA2AhwgACABNgIUIAAgEDYCDEEAIRAMpwELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEILIABB0wA2AhwgACABNgIUIAAgEDYCDEEAIRAMpgELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEYLIABB5QA2AhwgACABNgIUIAAgEDYCDEEAIRAMpQELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDD8LIABB0gA2AhwgACAUNgIUIAAgATYCDEEAIRAMpAELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDD8LIABB0wA2AhwgACAUNgIUIAAgATYCDEEAIRAMowELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDEMLIABB5QA2AhwgACAU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YWdlX2JlZ2luYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlYCBjYWxsYmFjayBlcnJvcgBgb25fc3RhdHVzX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdmVyc2lvbl9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3VybF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX3ZhbHVlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21ldGhvZF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl9maWVsZF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lYCBjYWxsYmFjayBlcnJvcgBVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNlcnZlcgBJbnZhbGlkIGhlYWRlciB2YWx1ZSBjaGFyAEludmFsaWQgaGVhZGVyIGZpZWxkIGNoYXIAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl92ZXJzaW9uAEludmFsaWQgbWlub3IgdmVyc2lvbgBJbnZhbGlkIG1ham9yIHZlcnNpb24ARXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgdmVyc2lvbgBFeHBlY3RlZCBDUkxGIGFmdGVyIHZlcnNpb24ASW52YWxpZCBIVFRQIHZlcnNpb24ASW52YWxpZCBoZWFkZXIgdG9rZW4AU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl91cmwASW52YWxpZCBjaGFyYWN0ZXJzIGluIHVybABVbmV4cGVjdGVkIHN0YXJ0IGNoYXIgaW4gdXJsAERvdWJsZSBAIGluIHVybABFbXB0eSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXJhY3RlciBpbiBDb250ZW50LUxlbmd0aABEdXBsaWNhdGUgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyIGluIHVybCBwYXRoAENvbnRlbnQtTGVuZ3RoIGNhbid0IGJlIHByZXNlbnQgd2l0aCBUcmFuc2Zlci1FbmNvZGluZwBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBzaXplAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25faGVhZGVyX3ZhbHVlAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgdmFsdWUATWlzc2luZyBleHBlY3RlZCBMRiBhZnRlciBoZWFkZXIgdmFsdWUASW52YWxpZCBgVHJhbnNmZXItRW5jb2RpbmdgIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGVkIHZhbHVlAFBhdXNlZCBieSBvbl9oZWFkZXJzX2NvbXBsZXRlAEludmFsaWQgRU9GIHN0YXRlAG9uX3Jlc2V0IHBhdXNlAG9uX2NodW5rX2hlYWRlciBwYXVzZQBvbl9tZXNzYWdlX2JlZ2luIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZSBwYXVzZQBvbl9zdGF0dXNfY29tcGxldGUgcGF1c2UAb25fdmVyc2lvbl9jb21wbGV0ZSBwYXVzZQBvbl91cmxfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX3ZhbHVlX2NvbXBsZXRlIHBhdXNlAG9uX21lc3NhZ2VfY29tcGxldGUgcGF1c2UAb25fbWV0aG9kX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl9maWVsZF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fbmFtZSBwYXVzZQBVbmV4cGVjdGVkIHNwYWNlIGFmdGVyIHN0YXJ0IGxpbmUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fbmFtZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIG5hbWUAUGF1c2Ugb24gQ09OTkVDVC9VcGdyYWRlAFBhdXNlIG9uIFBSSS9VcGdyYWRlAEV4cGVjdGVkIEhUVFAvMiBDb25uZWN0aW9uIFByZWZhY2UAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9tZXRob2QARXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgbWV0aG9kAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25faGVhZGVyX2ZpZWxkAFBhdXNlZABJbnZhbGlkIHdvcmQgZW5jb3VudGVyZWQASW52YWxpZCBtZXRob2QgZW5jb3VudGVyZWQAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzY2hlbWEAUmVxdWVzdCBoYXMgaW52YWxpZCBgVHJhbnNmZXItRW5jb2RpbmdgAFNXSVRDSF9QUk9YWQBVU0VfUFJPWFkATUtBQ1RJVklUWQBVTlBST0NFU1NBQkxFX0VOVElUWQBDT1BZAE1PVkVEX1BFUk1BTkVOVExZAFRPT19FQVJMWQBOT1RJRlkARkFJTEVEX0RFUEVOREVOQ1kAQkFEX0dBVEVXQVkAUExBWQBQVVQAQ0hFQ0tPVVQAR0FURVdBWV9USU1FT1VUAFJFUVVFU1RfVElNRU9VVABORVRXT1JLX0NPTk5FQ1RfVElNRU9VVABDT05ORUNUSU9OX1RJTUVPVVQATE9HSU5fVElNRU9VVABORVRXT1JLX1JFQURfVElNRU9VVABQT1NUAE1JU0RJUkVDVEVEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfTE9BRF9CQUxBTkNFRF9SRVFVRVNUAEJBRF9SRVFVRVNUAEhUVFBfUkVRVUVTVF9TRU5UX1RPX0hUVFBTX1BPUlQAUkVQT1JUAElNX0FfVEVBUE9UAFJFU0VUX0NPTlRFTlQATk9fQ09OVEVOVABQQVJUSUFMX0NPTlRFTlQASFBFX0lOVkFMSURfQ09OU1RBTlQASFBFX0NCX1JFU0VUAEdFVABIUEVfU1RSSUNUAENPTkZMSUNUAFRFTVBPUkFSWV9SRURJUkVDVABQRVJNQU5FTlRfUkVESVJFQ1QAQ09OTkVDVABNVUxUSV9TVEFUVVMASFBFX0lOVkFMSURfU1RBVFVTAFRPT19NQU5ZX1JFUVVFU1RTAEVBUkxZX0hJTlRTAFVOQVZBSUxBQkxFX0ZPUl9MRUdBTF9SRUFTT05TAE9QVElPTlMAU1dJVENISU5HX1BST1RPQ09MUwBWQVJJQU5UX0FMU09fTkVHT1RJQVRFUwBNVUxUSVBMRV9DSE9JQ0VTAElOVEVSTkFMX1NFUlZFUl9FUlJPUgBXRUJfU0VSVkVSX1VOS05PV05fRVJST1IAUkFJTEdVTl9FUlJPUgBJREVOVElUWV9QUk9WSURFUl9BVVRIRU5USUNBVElPTl9FUlJPUgBTU0xfQ0VSVElGSUNBVEVfRVJST1IASU5WQUxJRF9YX0ZPUldBUkRFRF9GT1IAU0VUX1BBUkFNRVRFUgBHRVRfUEFSQU1FVEVSAEhQRV9VU0VSAFNFRV9PVEhFUgBIUEVfQ0JfQ0hVTktfSEVBREVSAE1LQ0FMRU5EQVIAU0VUVVAAV0VCX1NFUlZFUl9JU19ET1dOAFRFQVJET1dOAEhQRV9DTE9TRURfQ09OTkVDVElPTgBIRVVSSVNUSUNfRVhQSVJBVElPTgBESVNDT05ORUNURURfT1BFUkFUSU9OAE5PTl9BVVRIT1JJVEFUSVZFX0lORk9STUFUSU9OAEhQRV9JTlZBTElEX1ZFUlNJT04ASFBFX0NCX01FU1NBR0VfQkVHSU4AU0lURV9JU19GUk9aRU4ASFBFX0lOVkFMSURfSEVBREVSX1RPS0VOAElOVkFMSURfVE9LRU4ARk9SQklEREVOAEVOSEFOQ0VfWU9VUl9DQUxNAEhQRV9JTlZBTElEX1VSTABCTE9DS0VEX0JZX1BBUkVOVEFMX0NPTlRST0wATUtDT0wAQUNMAEhQRV9JTlRFUk5BTABSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFX1VOT0ZGSUNJQUwASFBFX09LAFVOTElOSwBVTkxPQ0sAUFJJAFJFVFJZX1dJVEgASFBFX0lOVkFMSURfQ09OVEVOVF9MRU5HVEgASFBFX1VORVhQRUNURURfQ09OVEVOVF9MRU5HVEgARkxVU0gAUFJPUFBBVENIAE0tU0VBUkNIAFVSSV9UT09fTE9ORwBQUk9DRVNTSU5HAE1JU0NFTExBTkVPVVNfUEVSU0lTVEVOVF9XQVJOSU5HAE1JU0NFTExBTkVPVVNfV0FSTklORwBIUEVfSU5WQUxJRF9UUkFOU0ZFUl9FTkNPRElORwBFeHBlY3RlZCBDUkxGAEhQRV9JTlZBTElEX0NIVU5LX1NJWkUATU9WRQBDT05USU5VRQBIUEVfQ0JfU1RBVFVTX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJTX0NPTVBMRVRFAEhQRV9DQl9WRVJTSU9OX0NPTVBMRVRFAEhQRV9DQl9VUkxfQ09NUExFVEUASFBFX0NCX0NIVU5LX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX05BTUVfQ09NUExFVEUASFBFX0NCX01FU1NBR0VfQ09NUExFVEUASFBFX0NCX01FVEhPRF9DT01QTEVURQBIUEVfQ0JfSEVBREVSX0ZJRUxEX0NPTVBMRVRFAERFTEVURQBIUEVfSU5WQUxJRF9FT0ZfU1RBVEUASU5WQUxJRF9TU0xfQ0VSVElGSUNBVEUAUEFVU0UATk9fUkVTUE9OU0UAVU5TVVBQT1JURURfTUVESUFfVFlQRQBHT05FAE5PVF9BQ0NFUFRBQkxFAFNFUlZJQ0VfVU5BVkFJTEFCTEUAUkFOR0VfTk9UX1NBVElTRklBQkxFAE9SSUdJTl9JU19VTlJFQUNIQUJMRQBSRVNQT05TRV9JU19TVEFMRQBQVVJHRQBNRVJHRQBSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFAFJFUVVFU1RfSEVBREVSX1RPT19MQVJHRQBQQVlMT0FEX1RPT19MQVJHRQBJTlNVRkZJQ0lFTlRfU1RPUkFHRQBIUEVfUEFVU0VEX1VQR1JBREUASFBFX1BBVVNFRF9IMl9VUEdSQURFAFNPVVJDRQBBTk5PVU5DRQBUUkFDRQBIUEVfVU5FWFBFQ1RFRF9TUEFDRQBERVNDUklCRQBVTlNVQlNDUklCRQBSRUNPUkQASFBFX0lOVkFMSURfTUVUSE9EAE5PVF9GT1VORABQUk9QRklORABVTkJJTkQAUkVCSU5EAFVOQVVUSE9SSVpFRABNRVRIT0RfTk9UX0FMTE9XRUQASFRUUF9WRVJTSU9OX05PVF9TVVBQT1JURUQAQUxSRUFEWV9SRVBPUlRFRABBQ0NFUFRFRABOT1RfSU1QTEVNRU5URUQATE9PUF9ERVRFQ1RFRABIUEVfQ1JfRVhQRUNURUQASFBFX0xGX0VYUEVDVEVEAENSRUFURUQASU1fVVNFRABIUEVfUEFVU0VEAFRJTUVPVVRfT0NDVVJFRABQQVlNRU5UX1JFUVVJUkVEAFBSRUNPTkRJVElPTl9SRVFVSVJFRABQUk9YWV9BVVRIRU5USUNBVElPTl9SRVFVSVJFRABORVRXT1JLX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAExFTkdUSF9SRVFVSVJFRABTU0xfQ0VSVElGSUNBVEVfUkVRVUlSRUQAVVBHUkFERV9SRVFVSVJFRABQQUdFX0VYUElSRUQAUFJFQ09ORElUSU9OX0ZBSUxFRABFWFBFQ1RBVElPTl9GQUlMRUQAUkVWQUxJREFUSU9OX0ZBSUxFRABTU0xfSEFORFNIQUtFX0ZBSUxFRABMT0NLRUQAVFJBTlNGT1JNQVRJT05fQVBQTElFRABOT1RfTU9ESUZJRUQATk9UX0VYVEVOREVEAEJBTkRXSURUSF9MSU1JVF9FWENFRURFRABTSVRFX0lTX09WRVJMT0FERUQASEVBRABFeHBlY3RlZCBIVFRQLwAAXhMAACYTAAAwEAAA8BcAAJ0TAAAVEgAAORcAAPASAAAKEAAAdRIAAK0SAACCEwAATxQAAH8QAACgFQAAIxQAAIkSAACLFAAATRUAANQRAADPFAAAEBgAAMkWAADcFgAAwREAAOAXAAC7FAAAdBQAAHwVAADlFAAACBcAAB8QAABlFQAAoxQAACgVAAACFQAAmRUAACwQAACLGQAATw8AANQOAABqEAAAzhAAAAIXAACJDgAAbhMAABwTAABmFAAAVhcAAMETAADNEwAAbBMAAGgXAABmFwAAXxcAACITAADODwAAaQ4AANgOAABjFgAAyxMAAKoOAAAoFwAAJhcAAMUTAABdFgAA6BEAAGcTAABlEwAA8hYAAHMTAAAdFwAA+RYAAPMRAADPDgAAzhUAAAwSAACzEQAApREAAGEQAAAyFwAAuxMAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAIDAgICAgIAAAICAAICAAICAgICAgICAgIABAAAAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAACAAICAgICAAACAgACAgACAgICAgICAgICAAMABAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbG9zZWVlcC1hbGl2ZQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAQEBAQEBAQEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBY2h1bmtlZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEAAQEBAQEAAAEBAAEBAAEBAQEBAQEBAQEAAAAAAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABlY3Rpb25lbnQtbGVuZ3Rob25yb3h5LWNvbm5lY3Rpb24AAAAAAAAAAAAAAAAAAAByYW5zZmVyLWVuY29kaW5ncGdyYWRlDQoNCg0KU00NCg0KVFRQL0NFL1RTUC8AAAAAAAAAAAAAAAABAgABAwAAAAAAAAAAAAAAAAAAAAAAAAQBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAQIAAQMAAAAAAAAAAAAAAAAAAAAAAAAEAQEFAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAAAAQAAAgAAAAAAAAAAAAAAAAAAAAAAAAMEAAAEBAQEBAQEBAQEBAUEBAQEBAQEBAQEBAQABAAGBwQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAABAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAIAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABOT1VOQ0VFQ0tPVVRORUNURVRFQ1JJQkVMVVNIRVRFQURTRUFSQ0hSR0VDVElWSVRZTEVOREFSVkVPVElGWVBUSU9OU0NIU0VBWVNUQVRDSEdFT1JESVJFQ1RPUlRSQ0hQQVJBTUVURVJVUkNFQlNDUklCRUFSRE9XTkFDRUlORE5LQ0tVQlNDUklCRUhUVFAvQURUUC8="});var FF=m((hQe,kF)=>{"use strict";kF.exports="AGFzbQEAAAABMAhgAX8Bf2ADf39/AX9gBH9/f38Bf2AAAGADf39/AGABfwBgAn9/AGAGf39/f39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQACA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAA0ZFAwMEAAAFAAAAAAAABQEFAAUFBQAABgAAAAAGBgYGAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAABAQcAAAUFAwABBAUBcAESEgUDAQACBggBfwFBgNQECwfRBSIGbWVtb3J5AgALX2luaXRpYWxpemUACRlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALbGxodHRwX2luaXQAChhsbGh0dHBfc2hvdWxkX2tlZXBfYWxpdmUAQQxsbGh0dHBfYWxsb2MADAZtYWxsb2MARgtsbGh0dHBfZnJlZQANBGZyZWUASA9sbGh0dHBfZ2V0X3R5cGUADhVsbGh0dHBfZ2V0X2h0dHBfbWFqb3IADxVsbGh0dHBfZ2V0X2h0dHBfbWlub3IAEBFsbGh0dHBfZ2V0X21ldGhvZAARFmxsaHR0cF9nZXRfc3RhdHVzX2NvZGUAEhJsbGh0dHBfZ2V0X3VwZ3JhZGUAEwxsbGh0dHBfcmVzZXQAFA5sbGh0dHBfZXhlY3V0ZQAVFGxsaHR0cF9zZXR0aW5nc19pbml0ABYNbGxodHRwX2ZpbmlzaAAXDGxsaHR0cF9wYXVzZQAYDWxsaHR0cF9yZXN1bWUAGRtsbGh0dHBfcmVzdW1lX2FmdGVyX3VwZ3JhZGUAGhBsbGh0dHBfZ2V0X2Vycm5vABsXbGxodHRwX2dldF9lcnJvcl9yZWFzb24AHBdsbGh0dHBfc2V0X2Vycm9yX3JlYXNvbgAdFGxsaHR0cF9nZXRfZXJyb3JfcG9zAB4RbGxodHRwX2Vycm5vX25hbWUAHxJsbGh0dHBfbWV0aG9kX25hbWUAIBJs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IAH9CwMAIABBMGogAf0LAwAgAEEgaiAB/QsDACAAQd0BNgIcQQALewEBfwJAIAAoAgwiAw0AAkAgACgCBEUNACAAIAE2AgQLAkAgACABIAIQxICAgAAiAw0AIAAoAgwPCyAAIAM2AhxBACEDIAAoAgQiAUUNACAAIAEgAiAAKAIIEYGAgIAAACIBRQ0AIAAgAjYCFCAAIAE2AgwgASEDCyADC+TzAQMOfwN+BH8jgICAgABBEGsiAySAgICAACABIQQgASEFIAEhBiABIQcgASEIIAEhCSABIQogASELIAEhDCABIQ0gASEOIAEhDwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAAKAIcIhBBf2oO3QHaAQHZAQIDBAUGBwgJCgsMDQ7YAQ8Q1wEREtYBExQVFhcYGRob4AHfARwdHtUBHyAhIiMkJdQBJicoKSorLNMB0gEtLtEB0AEvMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUbbAUdISUrPAc4BS80BTMwBTU5PUFFSU1RVVldYWVpbXF1eX2BhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ent8fX5/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEB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QAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIBAOxwEAAQID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YWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fdmFsdWVgIGNhbGxiYWNrIGVycm9yAGBvbl9zdGF0dXNfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl92ZXJzaW9uX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdXJsX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWV0aG9kX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX25hbWVgIGNhbGxiYWNrIGVycm9yAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2VydmVyAEludmFsaWQgaGVhZGVyIHZhbHVlIGNoYXIASW52YWxpZCBoZWFkZXIgZmllbGQgY2hhcgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3ZlcnNpb24ASW52YWxpZCBtaW5vciB2ZXJzaW9uAEludmFsaWQgbWFqb3IgdmVyc2lvbgBFeHBlY3RlZCBzcGFjZSBhZnRlciB2ZXJzaW9uAEV4cGVjdGVkIENSTEYgYWZ0ZXIgdmVyc2lvbgBJbnZhbGlkIEhUVFAgdmVyc2lvbgBJbnZhbGlkIGhlYWRlciB0b2tlbgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3VybABJbnZhbGlkIGNoYXJhY3RlcnMgaW4gdXJsAFVuZXhwZWN0ZWQgc3RhcnQgY2hhciBpbiB1cmwARG91YmxlIEAgaW4gdXJsAEVtcHR5IENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhcmFjdGVyIGluIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIExGIGFmdGVyIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AgaGVhZGVyIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGUgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZWQgdmFsdWUAUGF1c2VkIGJ5IG9uX2hlYWRlcnNfY29tcGxldGUASW52YWxpZCBFT0Ygc3RhdGUAb25fcmVzZXQgcGF1c2UAb25fY2h1bmtfaGVhZGVyIHBhdXNlAG9uX21lc3NhZ2VfYmVnaW4gcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlIHBhdXNlAG9uX3N0YXR1c19jb21wbGV0ZSBwYXVzZQBvbl92ZXJzaW9uX2NvbXBsZXRlIHBhdXNlAG9uX3VybF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGUgcGF1c2UAb25fbWVzc2FnZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXRob2RfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lIHBhdXNlAFVuZXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgc3RhcnQgbGluZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgbmFtZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AAU1dJVENIX1BST1hZAFVTRV9QUk9YWQBNS0FDVElWSVRZAFVOUFJPQ0VTU0FCTEVfRU5USVRZAENPUFkATU9WRURfUEVSTUFORU5UTFkAVE9PX0VBUkxZAE5PVElGWQBGQUlMRURfREVQRU5ERU5DWQBCQURfR0FURVdBWQBQTEFZAFBVVABDSEVDS09VVABHQVRFV0FZX1RJTUVPVVQAUkVRVUVTVF9USU1FT1VUAE5FVFdPUktfQ09OTkVDVF9USU1FT1VUAENPTk5FQ1RJT05fVElNRU9VVABMT0dJTl9USU1FT1VUAE5FVFdPUktfUkVBRF9USU1FT1VUAFBPU1QATUlTRElSRUNURURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9MT0FEX0JBTEFOQ0VEX1JFUVVFU1QAQkFEX1JFUVVFU1QASFRUUF9SRVFVRVNUX1NFTlRfVE9fSFRUUFNfUE9SVABSRVBPUlQASU1fQV9URUFQT1QAUkVTRVRfQ09OVEVOVABOT19DT05URU5UAFBBUlRJQUxfQ09OVEVOVABIUEVfSU5WQUxJRF9DT05TVEFOVABIUEVfQ0JfUkVTRVQAR0VUAEhQRV9TVFJJQ1QAQ09ORkxJQ1QAVEVNUE9SQVJZX1JFRElSRUNUAFBFUk1BTkVOVF9SRURJUkVDVABDT05ORUNUAE1VTFRJX1NUQVRVUwBIUEVfSU5WQUxJRF9TVEFUVVMAVE9PX01BTllfUkVRVUVTVFMARUFSTFlfSElOVFMAVU5BVkFJTEFCTEVfRk9SX0xFR0FMX1JFQVNPTlMAT1BUSU9OUwBTV0lUQ0hJTkdfUFJPVE9DT0xTAFZBUklBTlRfQUxTT19ORUdPVElBVEVTAE1VTFRJUExFX0NIT0lDRVMASU5URVJOQUxfU0VSVkVSX0VSUk9SAFdFQl9TRVJWRVJfVU5LTk9XTl9FUlJPUgBSQUlMR1VOX0VSUk9SAElERU5USVRZX1BST1ZJREVSX0FVVEhFTlRJQ0FUSU9OX0VSUk9SAFNTTF9DRVJUSUZJQ0FURV9FUlJPUgBJTlZBTElEX1hfRk9SV0FSREVEX0ZPUgBTRVRfUEFSQU1FVEVSAEdFVF9QQVJBTUVURVIASFBFX1VTRVIAU0VFX09USEVSAEhQRV9DQl9DSFVOS19IRUFERVIATUtDQUxFTkRBUgBTRVRVUABXRUJfU0VSVkVSX0lTX0RPV04AVEVBUkRPV04ASFBFX0NMT1NFRF9DT05ORUNUSU9OAEhFVVJJU1RJQ19FWFBJUkFUSU9OAERJU0NPTk5FQ1RFRF9PUEVSQVRJT04ATk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT04ASFBFX0lOVkFMSURfVkVSU0lPTgBIUEVfQ0JfTUVTU0FHRV9CRUdJTgBTSVRFX0lTX0ZST1pFTgBIUEVfSU5WQUxJRF9IRUFERVJfVE9LRU4ASU5WQUxJRF9UT0tFTgBGT1JCSURERU4ARU5IQU5DRV9ZT1VSX0NBTE0ASFBFX0lOVkFMSURfVVJMAEJMT0NLRURfQllfUEFSRU5UQUxfQ09OVFJPTABNS0NPTABBQ0wASFBFX0lOVEVSTkFMAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0VfVU5PRkZJQ0lBTABIUEVfT0sAVU5MSU5LAFVOTE9DSwBQUkkAUkVUUllfV0lUSABIUEVfSU5WQUxJRF9DT05URU5UX0xFTkdUSABIUEVfVU5FWFBFQ1RFRF9DT05URU5UX0xFTkdUSABGTFVTSABQUk9QUEFUQ0gATS1TRUFSQ0gAVVJJX1RPT19MT05HAFBST0NFU1NJTkcATUlTQ0VMTEFORU9VU19QRVJTSVNURU5UX1dBUk5JTkcATUlTQ0VMTEFORU9VU19XQVJOSU5HAEhQRV9JTlZBTElEX1RSQU5TRkVSX0VOQ09ESU5HAEV4cGVjdGVkIENSTEYASFBFX0lOVkFMSURfQ0hVTktfU0laRQBNT1ZFAENPTlRJTlVFAEhQRV9DQl9TVEFUVVNfQ09NUExFVEUASFBFX0NCX0hFQURFUlNfQ09NUExFVEUASFBFX0NCX1ZFUlNJT05fQ09NUExFVEUASFBFX0NCX1VSTF9DT01QTEVURQBIUEVfQ0JfQ0hVTktfQ09NUExFVEUASFBFX0NCX0hFQURFUl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fTkFNRV9DT01QTEVURQBIUEVfQ0JfTUVTU0FHRV9DT01QTEVURQBIUEVfQ0JfTUVUSE9EX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfRklFTERfQ09NUExFVEUAREVMRVRFAEhQRV9JTlZBTElEX0VPRl9TVEFURQBJTlZBTElEX1NTTF9DRVJUSUZJQ0FURQBQQVVTRQBOT19SRVNQT05TRQBVTlNVUFBPUlRFRF9NRURJQV9UWVBFAEdPTkUATk9UX0FDQ0VQVEFCTEUAU0VSVklDRV9VTkFWQUlMQUJMRQBSQU5HRV9OT1RfU0FUSVNGSUFCTEUAT1JJR0lOX0lTX1VOUkVBQ0hBQkxFAFJFU1BPTlNFX0lTX1NUQUxFAFBVUkdFAE1FUkdFAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0UAUkVRVUVTVF9IRUFERVJfVE9PX0xBUkdFAFBBWUxPQURfVE9PX0xBUkdFAElOU1VGRklDSUVOVF9TVE9SQUdFAEhQRV9QQVVTRURfVVBHUkFERQBIUEVfUEFVU0VEX0gyX1VQR1JBREUAU09VUkNFAEFOTk9VTkNFAFRSQUNFAEhQRV9VTkVYUEVDVEVEX1NQQUNFAERFU0NSSUJFAFVOU1VCU0NSSUJFAFJFQ09SRABIUEVfSU5WQUxJRF9NRVRIT0QATk9UX0ZPVU5EAFBST1BGSU5EAFVOQklORABSRUJJTkQAVU5BVVRIT1JJWkVEAE1FVEhPRF9OT1RfQUxMT1dFRABIVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRABBTFJFQURZX1JFUE9SVEVEAEFDQ0VQVEVEAE5PVF9JTVBMRU1FTlRFRABMT09QX0RFVEVDVEVEAEhQRV9DUl9FWFBFQ1RFRABIUEVfTEZfRVhQRUNURUQAQ1JFQVRFRABJTV9VU0VEAEhQRV9QQVVTRUQAVElNRU9VVF9PQ0NVUkVEAFBBWU1FTlRfUkVRVUlSRUQAUFJFQ09ORElUSU9OX1JFUVVJUkVEAFBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAE5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATEVOR1RIX1JFUVVJUkVEAFNTTF9DRVJUSUZJQ0FURV9SRVFVSVJFRABVUEdSQURFX1JFUVVJUkVEAFBBR0VfRVhQSVJFRABQUkVDT05ESVRJT05fRkFJTEVEAEVYUEVDVEFUSU9OX0ZBSUxFRABSRVZBTElEQVRJT05fRkFJTEVEAFNTTF9IQU5EU0hBS0VfRkFJTEVEAExPQ0tFRABUUkFOU0ZPUk1BVElPTl9BUFBMSUVEAE5PVF9NT0RJRklFRABOT1RfRVhURU5ERUQAQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEAFNJVEVfSVNfT1ZFUkxPQURFRABIRUFEAEV4cGVjdGVkIEhUVFAvAABeEwAAJhMAADAQAADwFwAAnRMAABUSAAA5FwAA8BIAAAoQAAB1EgAArRIAAIITAABPFAAAfxAAAKAVAAAjFAAAiRIAAIsUAABNFQAA1BEAAM8UAAAQGAAAyRYAANwWAADBEQAA4BcAALsUAAB0FAAAfBUAAOUUAAAIFwAAHxAAAGUVAACjFAAAKBUAAAIVAACZFQAALBAAAIsZAABPDwAA1A4AAGoQAADOEAAAAhcAAIkOAABuEwAAHBMAAGYUAABWFwAAwRMAAM0TAABsEwAAaBcAAGYXAABfFwAAIhMAAM4PAABpDgAA2A4AAGMWAADLEwAAqg4AACgXAAAmFwAAxRMAAF0WAADoEQAAZxMAAGUTAADyFgAAcxMAAB0XAAD5FgAA8xEAAM8OAADOFQAADBIAALMRAAClEQAAYRAAADIXAAC7EwAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAgMCAgICAgAAAgIAAgIAAgICAgICAgICAgAEAAAAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAAIAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAIAAgICAgIAAAICAAICAAICAgICAgICAgIAAwAEAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABsb3NlZWVwLWFsaXZlAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAQEBAQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQFjaHVua2VkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQABAQEBAQAAAQEAAQEAAQEBAQEBAQEBAQAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGVjdGlvbmVudC1sZW5ndGhvbnJveHktY29ubmVjdGlvbgAAAAAAAAAAAAAAAAAAAHJhbnNmZXItZW5jb2RpbmdwZ3JhZGUNCg0KDQpTTQ0KDQpUVFAvQ0UvVFNQLwAAAAAAAAAAAAAAAAECAAEDAAAAAAAAAAAAAAAAAAAAAAAABAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAABAgABAwAAAAAAAAAAAAAAAAAAAAAAAAQBAQUBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAABAAACAAAAAAAAAAAAAAAAAAAAAAAAAwQAAAQEBAQEBAQEBAQEBQQEBAQEBAQEBAQEBAAEAAYHBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAgAAAAACAAAAAAAAAAAAAAAAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE5PVU5DRUVDS09VVE5FQ1RFVEVDUklCRUxVU0hFVEVBRFNFQVJDSFJHRUNUSVZJVFlMRU5EQVJWRU9USUZZUFRJT05TQ0hTRUFZU1RBVENIR0VPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFSFRUUC9BRFRQLw=="});var Qu=m((dQe,eM)=>{"use strict";var V=B("assert"),OF=B("net"),A8=B("http"),{pipeline:c8}=B("stream"),$=Qe(),fB=JN(),pB=IF(),l8=fu(),{RequestContentLengthMismatchError:As,ResponseContentLengthMismatchError:u8,InvalidArgumentError:It,RequestAbortedError:wB,HeadersTimeoutError:h8,HeadersOverflowError:d8,SocketError:RA,InformationalError:mi,BodyTimeoutError:f8,HTTPParserError:g8,ResponseExceededMaxSizeError:p8,ClientDestroyedError:E8}=He(),m8=gu(),{kUrl:Yt,kReset:En,kServerName:Os,kClient:Ci,kBusy:EB,kParser:dt,kConnect:C8,kBlocking:TA,kResuming:Xo,kRunning:lt,kPending:ea,kSize:Zo,kWriting:cs,kQueue:Ze,kConnected:I8,kConnecting:DA,kNeedDrain:Ps,kNoRef:Eu,kKeepAliveDefaultTimeout:mB,kHostHeader:UF,kPendingIdx:zn,kRunningIdx:et,kError:Wt,kPipelining:Vs,kSocket:ft,kKeepAliveTimeoutValue:Iu,kMaxHeadersSize:$f,kKeepAliveMaxTimeout:PF,kKeepAliveTimeoutThreshold:VF,kHeadersTimeout:qF,kBodyTimeout:GF,kStrictContentLength:yu,kConnector:mu,kMaxRedirections:y8,kMaxRequests:Bu,kCounter:HF,kClose:B8,kDestroy:Q8,kDispatch:w8,kInterceptors:v8,kLocalAddress:Cu,kMaxResponseSize:YF,kHTTPConnVersion:Ii,kHost:WF,kHTTP2Session:jn,kHTTP2SessionState:Zf,kHTTP2BuildRequest:_8,kHTTP2CopyHeaders:S8,kHTTP1BuildRequest:b8}=ze(),eg;try{eg=B("http2")}catch{eg={constants:{}}}var{constants:{HTTP2_HEADER_AUTHORITY:D8,HTTP2_HEADER_METHOD:R8,HTTP2_HEADER_PATH:T8,HTTP2_HEADER_SCHEME:N8,HTTP2_HEADER_CONTENT_LENGTH:k8,HTTP2_HEADER_EXPECT:F8,HTTP2_HEADER_STATUS:MF}}=eg,xF=!1,jf=Buffer[Symbol.species],Us=Symbol("kClosedResolve"),nn={};try{let t=B("diagnostics_channel");nn.sendHeaders=t.channel("undici:client:sendHeaders"),nn.beforeConnect=t.channel("undici:client:beforeConnect"),nn.connectError=t.channel("undici:client:connectError"),nn.connected=t.channel("undici:client:connected")}catch{nn.sendHeaders={hasSubscribers:!1},nn.beforeConnect={hasSubscribers:!1},nn.connectError={hasSubscribers:!1},nn.connected={hasSubscribers:!1}}var CB=class extends l8{constructor(e,{interceptors:n,maxHeaderSize:r,headersTimeout:i,socketTimeout:s,requestTimeout:o,connectTimeout:a,bodyTimeout:A,idleTimeout:c,keepAlive:l,keepAliveTimeout:u,maxKeepAliveTimeout:h,keepAliveMaxTimeout:d,keepAliveTimeoutThreshold:f,socketPath:E,pipelining:C,tls:y,strictContentLength:I,maxCachedSessions:S,maxRedirections:v,connect:_,maxRequestsPerClient:D,localAddress:W,maxResponseSize:de,autoSelectFamily:Ce,autoSelectFamilyAttemptTimeout:le,allowH2:Q,maxConcurrentStreams:ne}={}){if(super(),l!==void 0)throw new It("unsupported keepAlive, use pipelining=0 instead");if(s!==void 0)throw new It("unsupported socketTimeout, use headersTimeout & bodyTimeout instead");if(o!==void 0)throw new It("unsupported requestTimeout, use headersTimeout & bodyTimeout instead");if(c!==void 0)throw new It("unsupported idleTimeout, use keepAliveTimeout instead");if(h!==void 0)throw new It("unsupported maxKeepAliveTimeout, use keepAliveMaxTimeout instead");if(r!=null&&!Number.isFinite(r))throw new It("invalid maxHeaderSize");if(E!=null&&typeof E!="string")throw new It("invalid socketPath");if(a!=null&&(!Number.isFinite(a)||a<0))throw new It("invalid connectTimeout");if(u!=null&&(!Number.isFinite(u)||u<=0))throw new It("invalid keepAliveTimeout");if(d!=null&&(!Number.isFinite(d)||d<=0))throw new It("invalid keepAliveMaxTimeout");if(f!=null&&!Number.isFinite(f))throw new It("invalid keepAliveTimeoutThreshold");if(i!=null&&(!Number.isInteger(i)||i<0))throw new It("headersTimeout must be a positive integer or zero");if(A!=null&&(!Number.isInteger(A)||A<0))throw new It("bodyTimeout must be a positive integer or zero");if(_!=null&&typeof _!="function"&&typeof _!="object")throw new It("connect must be a function or an object");if(v!=null&&(!Number.isInteger(v)||v<0))throw new It("maxRedirections must be a positive number");if(D!=null&&(!Number.isInteger(D)||D<0))throw new It("maxRequestsPerClient must be a positive number");if(W!=null&&(typeof W!="string"||OF.isIP(W)===0))throw new It("localAddress must be valid string IP address");if(de!=null&&(!Number.isInteger(de)||de<-1))throw new It("maxResponseSize must be a positive number");if(le!=null&&(!Number.isInteger(le)||le<-1))throw new It("autoSelectFamilyAttemptTimeout must be a positive number");if(Q!=null&&typeof Q!="boolean")throw new It("allowH2 must be a valid boolean value");if(ne!=null&&(typeof ne!="number"||ne<1))throw new It("maxConcurrentStreams must be a possitive integer, greater than 0");typeof _!="function"&&(_=m8(k(k(j(k({},y),{maxCachedSessions:S,allowH2:Q,socketPath:E,timeout:a}),$.nodeHasAutoSelectFamily&&Ce?{autoSelectFamily:Ce,autoSelectFamilyAttemptTimeout:le}:void 0),_))),this[v8]=n&&n.Client&&Array.isArray(n.Client)?n.Client:[U8({maxRedirections:v})],this[Yt]=$.parseOrigin(e),this[mu]=_,this[ft]=null,this[Vs]=C??1,this[$f]=r||A8.maxHeaderSize,this[mB]=u??4e3,this[PF]=d??6e5,this[VF]=f??1e3,this[Iu]=this[mB],this[Os]=null,this[Cu]=W??null,this[Xo]=0,this[Ps]=0,this[UF]=`host: ${this[Yt].hostname}${this[Yt].port?`:${this[Yt].port}`:""}\r
`,this[GF]=A??3e5,this[qF]=i??3e5,this[yu]=I??!0,this[y8]=v,this[Bu]=D,this[Us]=null,this[YF]=de>-1?de:-1,this[Ii]="h1",this[jn]=null,this[Zf]=Q?{openStreams:0,maxConcurrentStreams:ne??100}:null,this[WF]=`${this[Yt].hostname}${this[Yt].port?`:${this[Yt].port}`:""}`,this[Ze]=[],this[et]=0,this[zn]=0}get pipelining(){return this[Vs]}set pipelining(e){this[Vs]=e,Kn(this,!0)}get[ea](){return this[Ze].length-this[zn]}get[lt](){return this[zn]-this[et]}get[Zo](){return this[Ze].length-this[et]}get[I8](){return!!this[ft]&&!this[DA]&&!this[ft].destroyed}get[EB](){let e=this[ft];return e&&(e[En]||e[cs]||e[TA])||this[Zo]>=(this[Vs]||1)||this[ea]>0}[C8](e){KF(this),this.once("connect",e)}[w8](e,n){let r=e.origin||this[Yt].origin,i=this[Ii]==="h2"?pB[_8](r,e,n):pB[b8](r,e,n);return this[Ze].push(i),this[Xo]||($.bodyLength(i.body)==null&&$.isIterable(i.body)?(this[Xo]=1,process.nextTick(Kn,this)):Kn(this,!0)),this[Xo]&&this[Ps]!==2&&this[EB]&&(this[Ps]=2),this[Ps]<2}[B8](){return p(this,null,function*(){return new Promise(e=>{this[Zo]?this[Us]=e:e(null)})})}[Q8](e){return p(this,null,function*(){return new Promise(n=>{let r=this[Ze].splice(this[zn]);for(let s=0;s<r.length;s++){let o=r[s];mn(this,o,e)}let i=()=>{this[Us]&&(this[Us](),this[Us]=null),n()};this[jn]!=null&&($.destroy(this[jn],e),this[jn]=null,this[Zf]=null),this[ft]?$.destroy(this[ft].on("close",i),e):queueMicrotask(i),Kn(this)})})}};function M8(t){V(t.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[ft][Wt]=t,rg(this[Ci],t)}function x8(t,e,n){let r=new mi(`HTTP/2: "frameError" received - type ${t}, code ${e}`);n===0&&(this[ft][Wt]=r,rg(this[Ci],r))}function L8(){$.destroy(this,new RA("other side closed")),$.destroy(this[ft],new RA("other side closed"))}function O8(t){let e=this[Ci],n=new mi(`HTTP/2: "GOAWAY" frame received with code ${t}`);if(e[ft]=null,e[jn]=null,e.destroyed){V(this[ea]===0);let r=e[Ze].splice(e[et]);for(let i=0;i<r.length;i++){let s=r[i];mn(this,s,n)}}else if(e[lt]>0){let r=e[Ze][e[et]];e[Ze][e[et]++]=null,mn(e,r,n)}e[zn]=e[et],V(e[lt]===0),e.emit("disconnect",e[Yt],[e],n),Kn(e)}var gi=SF(),U8=zf(),P8=Buffer.alloc(0);function V8(){return p(this,null,function*(){let t=process.env.JEST_WORKER_ID?dB():void 0,e;try{e=yield WebAssembly.compile(Buffer.from(FF(),"base64"))}catch{e=yield WebAssembly.compile(Buffer.from(t||dB(),"base64"))}return yield WebAssembly.instantiate(e,{env:{wasm_on_url:(n,r,i)=>0,wasm_on_status:(n,r,i)=>{V.strictEqual(Rt.ptr,n);let s=r-Ei+pi.byteOffset;return Rt.onStatus(new jf(pi.buffer,s,i))||0},wasm_on_message_begin:n=>(V.strictEqual(Rt.ptr,n),Rt.onMessageBegin()||0),wasm_on_header_field:(n,r,i)=>{V.strictEqual(Rt.ptr,n);let s=r-Ei+pi.byteOffset;return Rt.onHeaderField(new jf(pi.buffer,s,i))||0},wasm_on_header_value:(n,r,i)=>{V.strictEqual(Rt.ptr,n);let s=r-Ei+pi.byteOffset;return Rt.onHeaderValue(new jf(pi.buffer,s,i))||0},wasm_on_headers_complete:(n,r,i,s)=>(V.strictEqual(Rt.ptr,n),Rt.onHeadersComplete(r,!!i,!!s)||0),wasm_on_body:(n,r,i)=>{V.strictEqual(Rt.ptr,n);let s=r-Ei+pi.byteOffset;return Rt.onBody(new jf(pi.buffer,s,i))||0},wasm_on_message_complete:n=>(V.strictEqual(Rt.ptr,n),Rt.onMessageComplete()||0)}})})}var gB=null,IB=V8();IB.catch();var Rt=null,pi=null,Kf=0,Ei=null,NA=1,Xf=2,yB=3,BB=class{constructor(e,n,{exports:r}){V(Number.isFinite(e[$f])&&e[$f]>0),this.llhttp=r,this.ptr=this.llhttp.llhttp_alloc(gi.TYPE.RESPONSE),this.client=e,this.socket=n,this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.statusCode=null,this.statusText="",this.upgrade=!1,this.headers=[],this.headersSize=0,this.headersMaxSize=e[$f],this.shouldKeepAlive=!1,this.paused=!1,this.resume=this.resume.bind(this),this.bytesRead=0,this.keepAlive="",this.contentLength="",this.connection="",this.maxResponseSize=e[YF]}setTimeout(e,n){this.timeoutType=n,e!==this.timeoutValue?(fB.clearTimeout(this.timeout),e?(this.timeout=fB.setTimeout(q8,e,this),this.timeout.unref&&this.timeout.unref()):this.timeout=null,this.timeoutValue=e):this.timeout&&this.timeout.refresh&&this.timeout.refresh()}resume(){this.socket.destroyed||!this.paused||(V(this.ptr!=null),V(Rt==null),this.llhttp.llhttp_resume(this.ptr),V(this.timeoutType===Xf),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.paused=!1,this.execute(this.socket.read()||P8),this.readMore())}readMore(){for(;!this.paused&&this.ptr;){let e=this.socket.read();if(e===null)break;this.execute(e)}}execute(e){V(this.ptr!=null),V(Rt==null),V(!this.paused);let{socket:n,llhttp:r}=this;e.length>Kf&&(Ei&&r.free(Ei),Kf=Math.ceil(e.length/4096)*4096,Ei=r.malloc(Kf)),new Uint8Array(r.memory.buffer,Ei,Kf).set(e);try{let i;try{pi=e,Rt=this,i=r.llhttp_execute(this.ptr,Ei,e.length)}catch(o){throw o}finally{Rt=null,pi=null}let s=r.llhttp_get_error_pos(this.ptr)-Ei;if(i===gi.ERROR.PAUSED_UPGRADE)this.onUpgrade(e.slice(s));else if(i===gi.ERROR.PAUSED)this.paused=!0,n.unshift(e.slice(s));else if(i!==gi.ERROR.OK){let o=r.llhttp_get_error_reason(this.ptr),a="";if(o){let A=new Uint8Array(r.memory.buffer,o).indexOf(0);a="Response does not match the HTTP/1.1 protocol ("+Buffer.from(r.memory.buffer,o,A).toString()+")"}throw new g8(a,gi.ERROR[i],e.slice(s))}}catch(i){$.destroy(n,i)}}destroy(){V(this.ptr!=null),V(Rt==null),this.llhttp.llhttp_free(this.ptr),this.ptr=null,fB.clearTimeout(this.timeout),this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.paused=!1}onStatus(e){this.statusText=e.toString()}onMessageBegin(){let{socket:e,client:n}=this;if(e.destroyed||!n[Ze][n[et]])return-1}onHeaderField(e){let n=this.headers.length;n&1?this.headers[n-1]=Buffer.concat([this.headers[n-1],e]):this.headers.push(e),this.trackHeader(e.length)}onHeaderValue(e){let n=this.headers.length;(n&1)===1?(this.headers.push(e),n+=1):this.headers[n-1]=Buffer.concat([this.headers[n-1],e]);let r=this.headers[n-2];r.length===10&&r.toString().toLowerCase()==="keep-alive"?this.keepAlive+=e.toString():r.length===10&&r.toString().toLowerCase()==="connection"?this.connection+=e.toString():r.length===14&&r.toString().toLowerCase()==="content-length"&&(this.contentLength+=e.toString()),this.trackHeader(e.length)}trackHeader(e){this.headersSize+=e,this.headersSize>=this.headersMaxSize&&$.destroy(this.socket,new d8)}onUpgrade(e){let{upgrade:n,client:r,socket:i,headers:s,statusCode:o}=this;V(n);let a=r[Ze][r[et]];V(a),V(!i.destroyed),V(i===r[ft]),V(!this.paused),V(a.upgrade||a.method==="CONNECT"),this.statusCode=null,this.statusText="",this.shouldKeepAlive=null,V(this.headers.length%2===0),this.headers=[],this.headersSize=0,i.unshift(e),i[dt].destroy(),i[dt]=null,i[Ci]=null,i[Wt]=null,i.removeListener("error",zF).removeListener("readable",JF).removeListener("end",jF).removeListener("close",QB),r[ft]=null,r[Ze][r[et]++]=null,r.emit("disconnect",r[Yt],[r],new mi("upgrade"));try{a.onUpgrade(o,s,i)}catch(A){$.destroy(i,A)}Kn(r)}onHeadersComplete(e,n,r){let{client:i,socket:s,headers:o,statusText:a}=this;if(s.destroyed)return-1;let A=i[Ze][i[et]];if(!A)return-1;if(V(!this.upgrade),V(this.statusCode<200),e===100)return $.destroy(s,new RA("bad response",$.getSocketInfo(s))),-1;if(n&&!A.upgrade)return $.destroy(s,new RA("bad upgrade",$.getSocketInfo(s))),-1;if(V.strictEqual(this.timeoutType,NA),this.statusCode=e,this.shouldKeepAlive=r||A.method==="HEAD"&&!s[En]&&this.connection.toLowerCase()==="keep-alive",this.statusCode>=200){let l=A.bodyTimeout!=null?A.bodyTimeout:i[GF];this.setTimeout(l,Xf)}else this.timeout&&this.timeout.refresh&&this.timeout.refresh();if(A.method==="CONNECT")return V(i[lt]===1),this.upgrade=!0,2;if(n)return V(i[lt]===1),this.upgrade=!0,2;if(V(this.headers.length%2===0),this.headers=[],this.headersSize=0,this.shouldKeepAlive&&i[Vs]){let l=this.keepAlive?$.parseKeepAliveTimeout(this.keepAlive):null;if(l!=null){let u=Math.min(l-i[VF],i[PF]);u<=0?s[En]=!0:i[Iu]=u}else i[Iu]=i[mB]}else s[En]=!0;let c=A.onHeaders(e,o,this.resume,a)===!1;return A.aborted?-1:A.method==="HEAD"||e<200?1:(s[TA]&&(s[TA]=!1,Kn(i)),c?gi.ERROR.PAUSED:0)}onBody(e){let{client:n,socket:r,statusCode:i,maxResponseSize:s}=this;if(r.destroyed)return-1;let o=n[Ze][n[et]];if(V(o),V.strictEqual(this.timeoutType,Xf),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),V(i>=200),s>-1&&this.bytesRead+e.length>s)return $.destroy(r,new p8),-1;if(this.bytesRead+=e.length,o.onData(e)===!1)return gi.ERROR.PAUSED}onMessageComplete(){let{client:e,socket:n,statusCode:r,upgrade:i,headers:s,contentLength:o,bytesRead:a,shouldKeepAlive:A}=this;if(n.destroyed&&(!r||A))return-1;if(i)return;let c=e[Ze][e[et]];if(V(c),V(r>=100),this.statusCode=null,this.statusText="",this.bytesRead=0,this.contentLength="",this.keepAlive="",this.connection="",V(this.headers.length%2===0),this.headers=[],this.headersSize=0,!(r<200)){if(c.method!=="HEAD"&&o&&a!==parseInt(o,10))return $.destroy(n,new u8),-1;if(c.onComplete(s),e[Ze][e[et]++]=null,n[cs])return V.strictEqual(e[lt],0),$.destroy(n,new mi("reset")),gi.ERROR.PAUSED;if(A){if(n[En]&&e[lt]===0)return $.destroy(n,new mi("reset")),gi.ERROR.PAUSED;e[Vs]===1?setImmediate(Kn,e):Kn(e)}else return $.destroy(n,new mi("reset")),gi.ERROR.PAUSED}}};function q8(t){let{socket:e,timeoutType:n,client:r}=t;n===NA?(!e[cs]||e.writableNeedDrain||r[lt]>1)&&(V(!t.paused,"cannot be paused while waiting for headers"),$.destroy(e,new h8)):n===Xf?t.paused||$.destroy(e,new f8):n===yB&&(V(r[lt]===0&&r[Iu]),$.destroy(e,new mi("socket idle timeout")))}function JF(){let{[dt]:t}=this;t&&t.readMore()}function zF(t){let{[Ci]:e,[dt]:n}=this;if(V(t.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),e[Ii]!=="h2"&&t.code==="ECONNRESET"&&n.statusCode&&!n.shouldKeepAlive){n.onMessageComplete();return}this[Wt]=t,rg(this[Ci],t)}function rg(t,e){if(t[lt]===0&&e.code!=="UND_ERR_INFO"&&e.code!=="UND_ERR_SOCKET"){V(t[zn]===t[et]);let n=t[Ze].splice(t[et]);for(let r=0;r<n.length;r++){let i=n[r];mn(t,i,e)}V(t[Zo]===0)}}function jF(){let{[dt]:t,[Ci]:e}=this;if(e[Ii]!=="h2"&&t.statusCode&&!t.shouldKeepAlive){t.onMessageComplete();return}$.destroy(this,new RA("other side closed",$.getSocketInfo(this)))}function QB(){let{[Ci]:t,[dt]:e}=this;t[Ii]==="h1"&&e&&(!this[Wt]&&e.statusCode&&!e.shouldKeepAlive&&e.onMessageComplete(),this[dt].destroy(),this[dt]=null);let n=this[Wt]||new RA("closed",$.getSocketInfo(this));if(t[ft]=null,t.destroyed){V(t[ea]===0);let r=t[Ze].splice(t[et]);for(let i=0;i<r.length;i++){let s=r[i];mn(t,s,n)}}else if(t[lt]>0&&n.code!=="UND_ERR_INFO"){let r=t[Ze][t[et]];t[Ze][t[et]++]=null,mn(t,r,n)}t[zn]=t[et],V(t[lt]===0),t.emit("disconnect",t[Yt],[t],n),Kn(t)}function KF(t){return p(this,null,function*(){V(!t[DA]),V(!t[ft]);let{host:e,hostname:n,protocol:r,port:i}=t[Yt];if(n[0]==="["){let s=n.indexOf("]");V(s!==-1);let o=n.substring(1,s);V(OF.isIP(o)),n=o}t[DA]=!0,nn.beforeConnect.hasSubscribers&&nn.beforeConnect.publish({connectParams:{host:e,hostname:n,protocol:r,port:i,servername:t[Os],localAddress:t[Cu]},connector:t[mu]});try{let s=yield new Promise((a,A)=>{t[mu]({host:e,hostname:n,protocol:r,port:i,servername:t[Os],localAddress:t[Cu]},(c,l)=>{c?A(c):a(l)})});if(t.destroyed){$.destroy(s.on("error",()=>{}),new E8);return}if(t[DA]=!1,V(s),s.alpnProtocol==="h2"){xF||(xF=!0,process.emitWarning("H2 support is experimental, expect them to change at any time.",{code:"UNDICI-H2"}));let a=eg.connect(t[Yt],{createConnection:()=>s,peerMaxConcurrentStreams:t[Zf].maxConcurrentStreams});t[Ii]="h2",a[Ci]=t,a[ft]=s,a.on("error",M8),a.on("frameError",x8),a.on("end",L8),a.on("goaway",O8),a.on("close",QB),a.unref(),t[jn]=a,s[jn]=a}else gB||(gB=yield IB,IB=null),s[Eu]=!1,s[cs]=!1,s[En]=!1,s[TA]=!1,s[dt]=new BB(t,s,gB);s[HF]=0,s[Bu]=t[Bu],s[Ci]=t,s[Wt]=null,s.on("error",zF).on("readable",JF).on("end",jF).on("close",QB),t[ft]=s,nn.connected.hasSubscribers&&nn.connected.publish({connectParams:{host:e,hostname:n,protocol:r,port:i,servername:t[Os],localAddress:t[Cu]},connector:t[mu],socket:s}),t.emit("connect",t[Yt],[t])}catch(s){if(t.destroyed)return;if(t[DA]=!1,nn.connectError.hasSubscribers&&nn.connectError.publish({connectParams:{host:e,hostname:n,protocol:r,port:i,servername:t[Os],localAddress:t[Cu]},connector:t[mu],error:s}),s.code==="ERR_TLS_CERT_ALTNAME_INVALID")for(V(t[lt]===0);t[ea]>0&&t[Ze][t[zn]].servername===t[Os];){let o=t[Ze][t[zn]++];mn(t,o,s)}else rg(t,s);t.emit("connectionError",t[Yt],[t],s)}Kn(t)})}function LF(t){t[Ps]=0,t.emit("drain",t[Yt],[t])}function Kn(t,e){t[Xo]!==2&&(t[Xo]=2,G8(t,e),t[Xo]=0,t[et]>256&&(t[Ze].splice(0,t[et]),t[zn]-=t[et],t[et]=0))}function G8(t,e){for(;;){if(t.destroyed){V(t[ea]===0);return}if(t[Us]&&!t[Zo]){t[Us](),t[Us]=null;return}let n=t[ft];if(n&&!n.destroyed&&n.alpnProtocol!=="h2"){if(t[Zo]===0?!n[Eu]&&n.unref&&(n.unref(),n[Eu]=!0):n[Eu]&&n.ref&&(n.ref(),n[Eu]=!1),t[Zo]===0)n[dt].timeoutType!==yB&&n[dt].setTimeout(t[Iu],yB);else if(t[lt]>0&&n[dt].statusCode<200&&n[dt].timeoutType!==NA){let i=t[Ze][t[et]],s=i.headersTimeout!=null?i.headersTimeout:t[qF];n[dt].setTimeout(s,NA)}}if(t[EB])t[Ps]=2;else if(t[Ps]===2){e?(t[Ps]=1,process.nextTick(LF,t)):LF(t);continue}if(t[ea]===0||t[lt]>=(t[Vs]||1))return;let r=t[Ze][t[zn]];if(t[Yt].protocol==="https:"&&t[Os]!==r.servername){if(t[lt]>0)return;if(t[Os]=r.servername,n&&n.servername!==r.servername){$.destroy(n,new mi("servername changed"));return}}if(t[DA])return;if(!n&&!t[jn]){KF(t);return}if(n.destroyed||n[cs]||n[En]||n[TA]||t[lt]>0&&!r.idempotent||t[lt]>0&&(r.upgrade||r.method==="CONNECT")||t[lt]>0&&$.bodyLength(r.body)!==0&&($.isStream(r.body)||$.isAsyncIterable(r.body)))return;!r.aborted&&H8(t,r)?t[zn]++:t[Ze].splice(t[zn],1)}}function $F(t){return t!=="GET"&&t!=="HEAD"&&t!=="OPTIONS"&&t!=="TRACE"&&t!=="CONNECT"}function H8(t,e){if(t[Ii]==="h2"){Y8(t,t[jn],e);return}let{body:n,method:r,path:i,host:s,upgrade:o,headers:a,blocking:A,reset:c}=e,l=r==="PUT"||r==="POST"||r==="PATCH";n&&typeof n.read=="function"&&n.read(0);let u=$.bodyLength(n),h=u;if(h===null&&(h=e.contentLength),h===0&&!l&&(h=null),$F(r)&&h>0&&e.contentLength!==null&&e.contentLength!==h){if(t[yu])return mn(t,e,new As),!1;process.emitWarning(new As)}let d=t[ft];try{e.onConnect(E=>{e.aborted||e.completed||(mn(t,e,E||new wB),$.destroy(d,new mi("aborted")))})}catch(E){mn(t,e,E)}if(e.aborted)return!1;r==="HEAD"&&(d[En]=!0),(o||r==="CONNECT")&&(d[En]=!0),c!=null&&(d[En]=c),t[Bu]&&d[HF]++>=t[Bu]&&(d[En]=!0),A&&(d[TA]=!0);let f=`${r} ${i} HTTP/1.1\r
`;return typeof s=="string"?f+=`host: ${s}\r
`:f+=t[UF],o?f+=`connection: upgrade\r
upgrade: ${o}\r
`:t[Vs]&&!d[En]?f+=`connection: keep-alive\r
`:f+=`connection: close\r
`,a&&(f+=a),nn.sendHeaders.hasSubscribers&&nn.sendHeaders.publish({request:e,headers:f,socket:d}),!n||u===0?(h===0?d.write(`${f}content-length: 0\r
\r
`,"latin1"):(V(h===null,"no body must not have content length"),d.write(`${f}\r
`,"latin1")),e.onRequestSent()):$.isBuffer(n)?(V(h===n.byteLength,"buffer body must have content length"),d.cork(),d.write(`${f}content-length: ${h}\r
\r
`,"latin1"),d.write(n),d.uncork(),e.onBodySent(n),e.onRequestSent(),l||(d[En]=!0)):$.isBlobLike(n)?typeof n.stream=="function"?tg({body:n.stream(),client:t,request:e,socket:d,contentLength:h,header:f,expectsPayload:l}):ZF({body:n,client:t,request:e,socket:d,contentLength:h,header:f,expectsPayload:l}):$.isStream(n)?XF({body:n,client:t,request:e,socket:d,contentLength:h,header:f,expectsPayload:l}):$.isIterable(n)?tg({body:n,client:t,request:e,socket:d,contentLength:h,header:f,expectsPayload:l}):V(!1),!0}function Y8(t,e,n){let{body:r,method:i,path:s,host:o,upgrade:a,expectContinue:A,signal:c,headers:l}=n,u;if(typeof l=="string"?u=pB[S8](l.trim()):u=l,a)return mn(t,n,new Error("Upgrade not supported for H2")),!1;try{n.onConnect(I=>{n.aborted||n.completed||mn(t,n,I||new wB)})}catch(I){mn(t,n,I)}if(n.aborted)return!1;let h,d=t[Zf];if(u[D8]=o||t[WF],u[R8]=i,i==="CONNECT")return e.ref(),h=e.request(u,{endStream:!1,signal:c}),h.id&&!h.pending?(n.onUpgrade(null,null,h),++d.openStreams):h.once("ready",()=>{n.onUpgrade(null,null,h),++d.openStreams}),h.once("close",()=>{d.openStreams-=1,d.openStreams===0&&e.unref()}),!0;u[T8]=s,u[N8]="https";let f=i==="PUT"||i==="POST"||i==="PATCH";r&&typeof r.read=="function"&&r.read(0);let E=$.bodyLength(r);if(E==null&&(E=n.contentLength),(E===0||!f)&&(E=null),$F(i)&&E>0&&n.contentLength!=null&&n.contentLength!==E){if(t[yu])return mn(t,n,new As),!1;process.emitWarning(new As)}E!=null&&(V(r,"no body must not have content length"),u[k8]=`${E}`),e.ref();let C=i==="GET"||i==="HEAD";return A?(u[F8]="100-continue",h=e.request(u,{endStream:C,signal:c}),h.once("continue",y)):(h=e.request(u,{endStream:C,signal:c}),y()),++d.openStreams,h.once("response",I=>{let _=I,{[MF]:S}=_,v=Xt(_,[WT(MF)]);n.onHeaders(Number(S),v,h.resume.bind(h),"")===!1&&h.pause()}),h.once("end",()=>{n.onComplete([])}),h.on("data",I=>{n.onData(I)===!1&&h.pause()}),h.once("close",()=>{d.openStreams-=1,d.openStreams===0&&e.unref()}),h.once("error",function(I){t[jn]&&!t[jn].destroyed&&!this.closed&&!this.destroyed&&(d.streams-=1,$.destroy(h,I))}),h.once("frameError",(I,S)=>{let v=new mi(`HTTP/2: "frameError" received - type ${I}, code ${S}`);mn(t,n,v),t[jn]&&!t[jn].destroyed&&!this.closed&&!this.destroyed&&(d.streams-=1,$.destroy(h,v))}),!0;function y(){r?$.isBuffer(r)?(V(E===r.byteLength,"buffer body must have content length"),h.cork(),h.write(r),h.uncork(),h.end(),n.onBodySent(r),n.onRequestSent()):$.isBlobLike(r)?typeof r.stream=="function"?tg({client:t,request:n,contentLength:E,h2stream:h,expectsPayload:f,body:r.stream(),socket:t[ft],header:""}):ZF({body:r,client:t,request:n,contentLength:E,expectsPayload:f,h2stream:h,header:"",socket:t[ft]}):$.isStream(r)?XF({body:r,client:t,request:n,contentLength:E,expectsPayload:f,socket:t[ft],h2stream:h,header:""}):$.isIterable(r)?tg({body:r,client:t,request:n,contentLength:E,expectsPayload:f,header:"",h2stream:h,socket:t[ft]}):V(!1):n.onRequestSent()}}function XF({h2stream:t,body:e,client:n,request:r,socket:i,contentLength:s,header:o,expectsPayload:a}){if(V(s!==0||n[lt]===0,"stream body cannot be pipelined"),n[Ii]==="h2"){let E=function(C){r.onBodySent(C)},f=c8(e,t,C=>{C?($.destroy(e,C),$.destroy(t,C)):r.onRequestSent()});f.on("data",E),f.once("end",()=>{f.removeListener("data",E),$.destroy(f)});return}let A=!1,c=new ng({socket:i,request:r,contentLength:s,client:n,expectsPayload:a,header:o}),l=function(f){if(!A)try{!c.write(f)&&this.pause&&this.pause()}catch(E){$.destroy(this,E)}},u=function(){A||e.resume&&e.resume()},h=function(){if(A)return;let f=new wB;queueMicrotask(()=>d(f))},d=function(f){if(!A){if(A=!0,V(i.destroyed||i[cs]&&n[lt]<=1),i.off("drain",u).off("error",d),e.removeListener("data",l).removeListener("end",d).removeListener("error",d).removeListener("close",h),!f)try{c.end()}catch(E){f=E}c.destroy(f),f&&(f.code!=="UND_ERR_INFO"||f.message!=="reset")?$.destroy(e,f):$.destroy(e)}};e.on("data",l).on("end",d).on("error",d).on("close",h),e.resume&&e.resume(),i.on("drain",u).on("error",d)}function ZF(A){return p(this,arguments,function*({h2stream:t,body:e,client:n,request:r,socket:i,contentLength:s,header:o,expectsPayload:a}){V(s===e.size,"blob body must have content length");let c=n[Ii]==="h2";try{if(s!=null&&s!==e.size)throw new As;let l=Buffer.from(yield e.arrayBuffer());c?(t.cork(),t.write(l),t.uncork()):(i.cork(),i.write(`${o}content-length: ${s}\r
\r
`,"latin1"),i.write(l),i.uncork()),r.onBodySent(l),r.onRequestSent(),a||(i[En]=!0),Kn(n)}catch(l){$.destroy(c?t:i,l)}})}function tg(A){return p(this,arguments,function*({h2stream:t,body:e,client:n,request:r,socket:i,contentLength:s,header:o,expectsPayload:a}){V(s!==0||n[lt]===0,"iterator body cannot be pipelined");let c=null;function l(){if(c){let _=c;c=null,_()}}let u=()=>new Promise((_,D)=>{V(c===null),i[Wt]?D(i[Wt]):c=_});if(n[Ii]==="h2"){t.on("close",l).on("drain",l);try{try{for(var d=Nn(e),f,E,C;f=!(E=yield d.next()).done;f=!1){let _=E.value;if(i[Wt])throw i[Wt];let D=t.write(_);r.onBodySent(_),D||(yield u())}}catch{C=[E]}finally{try{f&&(E=d.return)&&(yield E.call(d))}finally{if(C)throw C[0]}}}catch(_){t.destroy(_)}finally{r.onRequestSent(),t.end(),t.off("close",l).off("drain",l)}return}i.on("close",l).on("drain",l);let h=new ng({socket:i,request:r,contentLength:s,client:n,expectsPayload:a,header:o});try{try{for(var y=Nn(e),I,S,v;I=!(S=yield y.next()).done;I=!1){let _=S.value;if(i[Wt])throw i[Wt];h.write(_)||(yield u())}}catch{v=[S]}finally{try{I&&(S=y.return)&&(yield S.call(y))}finally{if(v)throw v[0]}}h.end()}catch(_){h.destroy(_)}finally{i.off("close",l).off("drain",l)}})}var ng=class{constructor({socket:e,request:n,contentLength:r,client:i,expectsPayload:s,header:o}){this.socket=e,this.request=n,this.contentLength=r,this.client=i,this.bytesWritten=0,this.expectsPayload=s,this.header=o,e[cs]=!0}write(e){let{socket:n,request:r,contentLength:i,client:s,bytesWritten:o,expectsPayload:a,header:A}=this;if(n[Wt])throw n[Wt];if(n.destroyed)return!1;let c=Buffer.byteLength(e);if(!c)return!0;if(i!==null&&o+c>i){if(s[yu])throw new As;process.emitWarning(new As)}n.cork(),o===0&&(a||(n[En]=!0),i===null?n.write(`${A}transfer-encoding: chunked\r
`,"latin1"):n.write(`${A}content-length: ${i}\r
\r
`,"latin1")),i===null&&n.write(`\r
${c.toString(16)}\r
`,"latin1"),this.bytesWritten+=c;let l=n.write(e);return n.uncork(),r.onBodySent(e),l||n[dt].timeout&&n[dt].timeoutType===NA&&n[dt].timeout.refresh&&n[dt].timeout.refresh(),l}end(){let{socket:e,contentLength:n,client:r,bytesWritten:i,expectsPayload:s,header:o,request:a}=this;if(a.onRequestSent(),e[cs]=!1,e[Wt])throw e[Wt];if(!e.destroyed){if(i===0?s?e.write(`${o}content-length: 0\r
\r
`,"latin1"):e.write(`${o}\r
`,"latin1"):n===null&&e.write(`\r
0\r
\r
`,"latin1"),n!==null&&i!==n){if(r[yu])throw new As;process.emitWarning(new As)}e[dt].timeout&&e[dt].timeoutType===NA&&e[dt].timeout.refresh&&e[dt].timeout.refresh(),Kn(r)}}destroy(e){let{socket:n,client:r}=this;n[cs]=!1,e&&(V(r[lt]<=1,"pipeline should only contain this request"),$.destroy(n,e))}};function mn(t,e,n){try{e.onError(n),V(e.aborted)}catch(r){t.emit("error",r)}}eM.exports=CB});var nM=m((pQe,tM)=>{"use strict";var ig=class{constructor(){this.bottom=0,this.top=0,this.list=new Array(2048),this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&2047)===this.bottom}push(e){this.list[this.top]=e,this.top=this.top+1&2047}shift(){let e=this.list[this.bottom];return e===void 0?null:(this.list[this.bottom]=void 0,this.bottom=this.bottom+1&2047,e)}};tM.exports=class{constructor(){this.head=this.tail=new ig}isEmpty(){return this.head.isEmpty()}push(e){this.head.isFull()&&(this.head=this.head.next=new ig),this.head.push(e)}shift(){let e=this.tail,n=e.shift();return e.isEmpty()&&e.next!==null&&(this.tail=e.next),n}}});var iM=m((EQe,rM)=>{"use strict";var{kFree:W8,kConnected:J8,kPending:z8,kQueued:j8,kRunning:K8,kSize:$8}=ze(),ta=Symbol("pool"),vB=class{constructor(e){this[ta]=e}get connected(){return this[ta][J8]}get free(){return this[ta][W8]}get pending(){return this[ta][z8]}get queued(){return this[ta][j8]}get running(){return this[ta][K8]}get size(){return this[ta][$8]}};rM.exports=vB});var TB=m((mQe,fM)=>{"use strict";var X8=fu(),Z8=nM(),{kConnected:_B,kSize:sM,kRunning:oM,kPending:aM,kQueued:wu,kBusy:e6,kFree:t6,kUrl:n6,kClose:r6,kDestroy:i6,kDispatch:s6}=ze(),o6=iM(),Mn=Symbol("clients"),Cn=Symbol("needDrain"),vu=Symbol("queue"),SB=Symbol("closed resolve"),bB=Symbol("onDrain"),AM=Symbol("onConnect"),cM=Symbol("onDisconnect"),lM=Symbol("onConnectionError"),DB=Symbol("get dispatcher"),hM=Symbol("add client"),dM=Symbol("remove client"),uM=Symbol("stats"),RB=class extends X8{constructor(){super(),this[vu]=new Z8,this[Mn]=[],this[wu]=0;let e=this;this[bB]=function(r,i){let s=e[vu],o=!1;for(;!o;){let a=s.shift();if(!a)break;e[wu]--,o=!this.dispatch(a.opts,a.handler)}this[Cn]=o,!this[Cn]&&e[Cn]&&(e[Cn]=!1,e.emit("drain",r,[e,...i])),e[SB]&&s.isEmpty()&&Promise.all(e[Mn].map(a=>a.close())).then(e[SB])},this[AM]=(n,r)=>{e.emit("connect",n,[e,...r])},this[cM]=(n,r,i)=>{e.emit("disconnect",n,[e,...r],i)},this[lM]=(n,r,i)=>{e.emit("connectionError",n,[e,...r],i)},this[uM]=new o6(this)}get[e6](){return this[Cn]}get[_B](){return this[Mn].filter(e=>e[_B]).length}get[t6](){return this[Mn].filter(e=>e[_B]&&!e[Cn]).length}get[aM](){let e=this[wu];for(let{[aM]:n}of this[Mn])e+=n;return e}get[oM](){let e=0;for(let{[oM]:n}of this[Mn])e+=n;return e}get[sM](){let e=this[wu];for(let{[sM]:n}of this[Mn])e+=n;return e}get stats(){return this[uM]}[r6](){return p(this,null,function*(){return this[vu].isEmpty()?Promise.all(this[Mn].map(e=>e.close())):new Promise(e=>{this[SB]=e})})}[i6](e){return p(this,null,function*(){for(;;){let n=this[vu].shift();if(!n)break;n.handler.onError(e)}return Promise.all(this[Mn].map(n=>n.destroy(e)))})}[s6](e,n){let r=this[DB]();return r?r.dispatch(e,n)||(r[Cn]=!0,this[Cn]=!this[DB]()):(this[Cn]=!0,this[vu].push({opts:e,handler:n}),this[wu]++),!this[Cn]}[hM](e){return e.on("drain",this[bB]).on("connect",this[AM]).on("disconnect",this[cM]).on("connectionError",this[lM]),this[Mn].push(e),this[Cn]&&process.nextTick(()=>{this[Cn]&&this[bB](e[n6],[this,e])}),this}[dM](e){e.close(()=>{let n=this[Mn].indexOf(e);n!==-1&&this[Mn].splice(n,1)}),this[Cn]=this[Mn].some(n=>!n[Cn]&&n.closed!==!0&&n.destroyed!==!0)}};fM.exports={PoolBase:RB,kClients:Mn,kNeedDrain:Cn,kAddClient:hM,kRemoveClient:dM,kGetDispatcher:DB}});var kA=m((IQe,mM)=>{"use strict";var{PoolBase:a6,kClients:gM,kNeedDrain:A6,kAddClient:c6,kGetDispatcher:l6}=TB(),u6=Qu(),{InvalidArgumentError:NB}=He(),kB=Qe(),{kUrl:pM,kInterceptors:h6}=ze(),d6=gu(),FB=Symbol("options"),MB=Symbol("connections"),EM=Symbol("factory");function f6(t,e){return new u6(t,e)}var xB=class extends a6{constructor(e,d={}){var f=d,{connections:n,factory:r=f6,connect:i,connectTimeout:s,tls:o,maxCachedSessions:a,socketPath:A,autoSelectFamily:c,autoSelectFamilyAttemptTimeout:l,allowH2:u}=f,h=Xt(f,["connections","factory","connect","connectTimeout","tls","maxCachedSessions","socketPath","autoSelectFamily","autoSelectFamilyAttemptTimeout","allowH2"]);if(super(),n!=null&&(!Number.isFinite(n)||n<0))throw new NB("invalid connections");if(typeof r!="function")throw new NB("factory must be a function.");if(i!=null&&typeof i!="function"&&typeof i!="object")throw new NB("connect must be a function or an object");typeof i!="function"&&(i=d6(k(k(j(k({},o),{maxCachedSessions:a,allowH2:u,socketPath:A,timeout:s}),kB.nodeHasAutoSelectFamily&&c?{autoSelectFamily:c,autoSelectFamilyAttemptTimeout:l}:void 0),i))),this[h6]=h.interceptors&&h.interceptors.Pool&&Array.isArray(h.interceptors.Pool)?h.interceptors.Pool:[],this[MB]=n||null,this[pM]=kB.parseOrigin(e),this[FB]=j(k({},kB.deepClone(h)),{connect:i,allowH2:u}),this[FB].interceptors=h.interceptors?k({},h.interceptors):void 0,this[EM]=r}[l6](){let e=this[gM].find(n=>!n[A6]);return e||((!this[MB]||this[gM].length<this[MB])&&(e=this[EM](this[pM],this[FB]),this[c6](e)),e)}};mM.exports=xB});var wM=m((BQe,QM)=>{"use strict";var{BalancedPoolMissingUpstreamError:g6,InvalidArgumentError:p6}=He(),{PoolBase:E6,kClients:In,kNeedDrain:_u,kAddClient:m6,kRemoveClient:C6,kGetDispatcher:I6}=TB(),y6=kA(),{kUrl:LB,kInterceptors:B6}=ze(),{parseOrigin:CM}=Qe(),IM=Symbol("factory"),sg=Symbol("options"),yM=Symbol("kGreatestCommonDivisor"),na=Symbol("kCurrentWeight"),ra=Symbol("kIndex"),fr=Symbol("kWeight"),og=Symbol("kMaxWeightPerServer"),ag=Symbol("kErrorPenalty");function BM(t,e){return e===0?t:BM(e,t%e)}function Q6(t,e){return new y6(t,e)}var OB=class extends E6{constructor(e=[],i={}){var s=i,{factory:n=Q6}=s,r=Xt(s,["factory"]);if(super(),this[sg]=r,this[ra]=-1,this[na]=0,this[og]=this[sg].maxWeightPerServer||100,this[ag]=this[sg].errorPenalty||15,Array.isArray(e)||(e=[e]),typeof n!="function")throw new p6("factory must be a function.");this[B6]=r.interceptors&&r.interceptors.BalancedPool&&Array.isArray(r.interceptors.BalancedPool)?r.interceptors.BalancedPool:[],this[IM]=n;for(let o of e)this.addUpstream(o);this._updateBalancedPoolStats()}addUpstream(e){let n=CM(e).origin;if(this[In].find(i=>i[LB].origin===n&&i.closed!==!0&&i.destroyed!==!0))return this;let r=this[IM](n,Object.assign({},this[sg]));this[m6](r),r.on("connect",()=>{r[fr]=Math.min(this[og],r[fr]+this[ag])}),r.on("connectionError",()=>{r[fr]=Math.max(1,r[fr]-this[ag]),this._updateBalancedPoolStats()}),r.on("disconnect",(...i)=>{let s=i[2];s&&s.code==="UND_ERR_SOCKET"&&(r[fr]=Math.max(1,r[fr]-this[ag]),this._updateBalancedPoolStats())});for(let i of this[In])i[fr]=this[og];return this._updateBalancedPoolStats(),this}_updateBalancedPoolStats(){this[yM]=this[In].map(e=>e[fr]).reduce(BM,0)}removeUpstream(e){let n=CM(e).origin,r=this[In].find(i=>i[LB].origin===n&&i.closed!==!0&&i.destroyed!==!0);return r&&this[C6](r),this}get upstreams(){return this[In].filter(e=>e.closed!==!0&&e.destroyed!==!0).map(e=>e[LB].origin)}[I6](){if(this[In].length===0)throw new g6;if(!this[In].find(s=>!s[_u]&&s.closed!==!0&&s.destroyed!==!0)||this[In].map(s=>s[_u]).reduce((s,o)=>s&&o,!0))return;let r=0,i=this[In].findIndex(s=>!s[_u]);for(;r++<this[In].length;){this[ra]=(this[ra]+1)%this[In].length;let s=this[In][this[ra]];if(s[fr]>this[In][i][fr]&&!s[_u]&&(i=this[ra]),this[ra]===0&&(this[na]=this[na]-this[yM],this[na]<=0&&(this[na]=this[og])),s[fr]>=this[na]&&!s[_u])return s}return this[na]=this[In][i][fr],this[ra]=i,this[In][i]}};QM.exports=OB});var UB=m((wQe,SM)=>{"use strict";var{kConnected:vM,kSize:_M}=ze(),Ag=class{constructor(e){this.value=e}deref(){return this.value[vM]===0&&this.value[_M]===0?void 0:this.value}},cg=class{constructor(e){this.finalizer=e}register(e,n){e.on&&e.on("disconnect",()=>{e[vM]===0&&e[_M]===0&&this.finalizer(n)})}};SM.exports=function(){return process.env.NODE_V8_COVERAGE?{WeakRef:Ag,FinalizationRegistry:cg}:{WeakRef:global.WeakRef||Ag,FinalizationRegistry:global.FinalizationRegistry||cg}}});var Su=m((vQe,MM)=>{"use strict";var{InvalidArgumentError:lg}=He(),{kClients:qs,kRunning:bM,kClose:w6,kDestroy:v6,kDispatch:_6,kInterceptors:S6}=ze(),b6=fu(),D6=kA(),R6=Qu(),T6=Qe(),N6=zf(),{WeakRef:k6,FinalizationRegistry:F6}=UB()(),DM=Symbol("onConnect"),RM=Symbol("onDisconnect"),TM=Symbol("onConnectionError"),M6=Symbol("maxRedirections"),NM=Symbol("onDrain"),kM=Symbol("factory"),FM=Symbol("finalizer"),PB=Symbol("options");function x6(t,e){return e&&e.connections===1?new R6(t,e):new D6(t,e)}var VB=class extends b6{constructor(s={}){var o=s,{factory:e=x6,maxRedirections:n=0,connect:r}=o,i=Xt(o,["factory","maxRedirections","connect"]);if(super(),typeof e!="function")throw new lg("factory must be a function.");if(r!=null&&typeof r!="function"&&typeof r!="object")throw new lg("connect must be a function or an object");if(!Number.isInteger(n)||n<0)throw new lg("maxRedirections must be a positive number");r&&typeof r!="function"&&(r=k({},r)),this[S6]=i.interceptors&&i.interceptors.Agent&&Array.isArray(i.interceptors.Agent)?i.interceptors.Agent:[N6({maxRedirections:n})],this[PB]=j(k({},T6.deepClone(i)),{connect:r}),this[PB].interceptors=i.interceptors?k({},i.interceptors):void 0,this[M6]=n,this[kM]=e,this[qs]=new Map,this[FM]=new F6(A=>{let c=this[qs].get(A);c!==void 0&&c.deref()===void 0&&this[qs].delete(A)});let a=this;this[NM]=(A,c)=>{a.emit("drain",A,[a,...c])},this[DM]=(A,c)=>{a.emit("connect",A,[a,...c])},this[RM]=(A,c,l)=>{a.emit("disconnect",A,[a,...c],l)},this[TM]=(A,c,l)=>{a.emit("connectionError",A,[a,...c],l)}}get[bM](){let e=0;for(let n of this[qs].values()){let r=n.deref();r&&(e+=r[bM])}return e}[_6](e,n){let r;if(e.origin&&(typeof e.origin=="string"||e.origin instanceof URL))r=String(e.origin);else throw new lg("opts.origin must be a non-empty string or URL.");let i=this[qs].get(r),s=i?i.deref():null;return s||(s=this[kM](e.origin,this[PB]).on("drain",this[NM]).on("connect",this[DM]).on("disconnect",this[RM]).on("connectionError",this[TM]),this[qs].set(r,new k6(s)),this[FM].register(s,r)),s.dispatch(e,n)}[w6](){return p(this,null,function*(){let e=[];for(let n of this[qs].values()){let r=n.deref();r&&e.push(r.close())}yield Promise.all(e)})}[v6](e){return p(this,null,function*(){let n=[];for(let r of this[qs].values()){let i=r.deref();i&&n.push(i.destroy(e))}yield Promise.all(n)})}};MM.exports=VB});var HM=m((bQe,GM)=>{"use strict";var UM=B("assert"),{Readable:L6}=B("stream"),{RequestAbortedError:PM,NotSupportedError:O6,InvalidArgumentError:U6}=He(),dg=Qe(),{ReadableStreamFrom:P6,toUSVString:V6}=Qe(),qB,$n=Symbol("kConsume"),ug=Symbol("kReading"),Gs=Symbol("kBody"),xM=Symbol("abort"),VM=Symbol("kContentType"),LM=()=>{};GM.exports=class extends L6{constructor({resume:e,abort:n,contentType:r="",highWaterMark:i=64*1024}){super({autoDestroy:!0,read:e,highWaterMark:i}),this._readableState.dataEmitted=!1,this[xM]=n,this[$n]=null,this[Gs]=null,this[VM]=r,this[ug]=!1}destroy(e){return this.destroyed?this:(!e&&!this._readableState.endEmitted&&(e=new PM),e&&this[xM](),super.destroy(e))}emit(e,...n){return e==="data"?this._readableState.dataEmitted=!0:e==="error"&&(this._readableState.errorEmitted=!0),super.emit(e,...n)}on(e,...n){return(e==="data"||e==="readable")&&(this[ug]=!0),super.on(e,...n)}addListener(e,...n){return this.on(e,...n)}off(e,...n){let r=super.off(e,...n);return(e==="data"||e==="readable")&&(this[ug]=this.listenerCount("data")>0||this.listenerCount("readable")>0),r}removeListener(e,...n){return this.off(e,...n)}push(e){return this[$n]&&e!==null&&this.readableLength===0?(qM(this[$n],e),this[ug]?super.push(e):!0):super.push(e)}text(){return p(this,null,function*(){return hg(this,"text")})}json(){return p(this,null,function*(){return hg(this,"json")})}blob(){return p(this,null,function*(){return hg(this,"blob")})}arrayBuffer(){return p(this,null,function*(){return hg(this,"arrayBuffer")})}formData(){return p(this,null,function*(){throw new O6})}get bodyUsed(){return dg.isDisturbed(this)}get body(){return this[Gs]||(this[Gs]=P6(this),this[$n]&&(this[Gs].getReader(),UM(this[Gs].locked))),this[Gs]}dump(e){let n=e&&Number.isFinite(e.limit)?e.limit:262144,r=e&&e.signal;if(r)try{if(typeof r!="object"||!("aborted"in r))throw new U6("signal must be an AbortSignal");dg.throwIfAborted(r)}catch(i){return Promise.reject(i)}return this.closed?Promise.resolve(null):new Promise((i,s)=>{let o=r?dg.addAbortListener(r,()=>{this.destroy()}):LM;this.on("close",function(){o(),r&&r.aborted?s(r.reason||Object.assign(new Error("The operation was aborted"),{name:"AbortError"})):i(null)}).on("error",LM).on("data",function(a){n-=a.length,n<=0&&this.destroy()}).resume()})}};function q6(t){return t[Gs]&&t[Gs].locked===!0||t[$n]}function G6(t){return dg.isDisturbed(t)||q6(t)}function hg(t,e){return p(this,null,function*(){if(G6(t))throw new TypeError("unusable");return UM(!t[$n]),new Promise((n,r)=>{t[$n]={type:e,stream:t,resolve:n,reject:r,length:0,body:[]},t.on("error",function(i){GB(this[$n],i)}).on("close",function(){this[$n].body!==null&&GB(this[$n],new PM)}),process.nextTick(H6,t[$n])})})}function H6(t){if(t.body===null)return;let{_readableState:e}=t.stream;for(let n of e.buffer)qM(t,n);for(e.endEmitted?OM(this[$n]):t.stream.on("end",function(){OM(this[$n])}),t.stream.resume();t.stream.read()!=null;);}function OM(t){let{type:e,body:n,resolve:r,stream:i,length:s}=t;try{if(e==="text")r(V6(Buffer.concat(n)));else if(e==="json")r(JSON.parse(Buffer.concat(n)));else if(e==="arrayBuffer"){let o=new Uint8Array(s),a=0;for(let A of n)o.set(A,a),a+=A.byteLength;r(o.buffer)}else e==="blob"&&(qB||(qB=B("buffer").Blob),r(new qB(n,{type:i[VM]})));GB(t)}catch(o){i.destroy(o)}}function qM(t,e){t.length+=e.length,t.body.push(e)}function GB(t,e){t.body!==null&&(e?t.reject(e):t.resolve(),t.type=null,t.stream=null,t.resolve=null,t.reject=null,t.length=0,t.body=null)}});var HB=m((RQe,WM)=>{"use strict";var Y6=B("assert"),{ResponseStatusCodeError:fg}=He(),{toUSVString:YM}=Qe();function W6(o){return p(this,arguments,function*({callback:t,body:e,contentType:n,statusCode:r,statusMessage:i,headers:s}){Y6(e);let a=[],A=0;try{for(var c=Nn(e),l,u,h;l=!(u=yield c.next()).done;l=!1){let d=u.value;if(a.push(d),A+=d.length,A>128*1024){a=null;break}}}catch{h=[u]}finally{try{l&&(u=c.return)&&(yield u.call(c))}finally{if(h)throw h[0]}}if(r===204||!n||!a){process.nextTick(t,new fg(`Response status code ${r}${i?`: ${i}`:""}`,r,s));return}try{if(n.startsWith("application/json")){let d=JSON.parse(YM(Buffer.concat(a)));process.nextTick(t,new fg(`Response status code ${r}${i?`: ${i}`:""}`,r,s,d));return}if(n.startsWith("text/")){let d=YM(Buffer.concat(a));process.nextTick(t,new fg(`Response status code ${r}${i?`: ${i}`:""}`,r,s,d));return}}catch{}process.nextTick(t,new fg(`Response status code ${r}${i?`: ${i}`:""}`,r,s))})}WM.exports={getResolveErrorBodyCallback:W6}});var MA=m((NQe,zM)=>{"use strict";var{addAbortListener:J6}=Qe(),{RequestAbortedError:z6}=He(),FA=Symbol("kListener"),Hs=Symbol("kSignal");function JM(t){t.abort?t.abort():t.onError(new z6)}function j6(t,e){if(t[Hs]=null,t[FA]=null,!!e){if(e.aborted){JM(t);return}t[Hs]=e,t[FA]=()=>{JM(t)},J6(t[Hs],t[FA])}}function K6(t){t[Hs]&&("removeEventListener"in t[Hs]?t[Hs].removeEventListener("abort",t[FA]):t[Hs].removeListener("abort",t[FA]),t[Hs]=null,t[FA]=null)}zM.exports={addSignal:j6,removeSignal:K6}});var $M=m((kQe,YB)=>{"use strict";var $6=HM(),{InvalidArgumentError:xA,RequestAbortedError:X6}=He(),yi=Qe(),{getResolveErrorBodyCallback:Z6}=HB(),{AsyncResource:e$}=B("async_hooks"),{addSignal:t$,removeSignal:jM}=MA(),gg=class extends e${constructor(e,n){if(!e||typeof e!="object")throw new xA("invalid opts");let{signal:r,method:i,opaque:s,body:o,onInfo:a,responseHeaders:A,throwOnError:c,highWaterMark:l}=e;try{if(typeof n!="function")throw new xA("invalid callback");if(l&&(typeof l!="number"||l<0))throw new xA("invalid highWaterMark");if(r&&typeof r.on!="function"&&typeof r.addEventListener!="function")throw new xA("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new xA("invalid method");if(a&&typeof a!="function")throw new xA("invalid onInfo callback");super("UNDICI_REQUEST")}catch(u){throw yi.isStream(o)&&yi.destroy(o.on("error",yi.nop),u),u}this.responseHeaders=A||null,this.opaque=s||null,this.callback=n,this.res=null,this.abort=null,this.body=o,this.trailers={},this.context=null,this.onInfo=a||null,this.throwOnError=c,this.highWaterMark=l,yi.isStream(o)&&o.on("error",u=>{this.onError(u)}),t$(this,r)}onConnect(e,n){if(!this.callback)throw new X6;this.abort=e,this.context=n}onHeaders(e,n,r,i){let{callback:s,opaque:o,abort:a,context:A,responseHeaders:c,highWaterMark:l}=this,u=c==="raw"?yi.parseRawHeaders(n):yi.parseHeaders(n);if(e<200){this.onInfo&&this.onInfo({statusCode:e,headers:u});return}let d=(c==="raw"?yi.parseHeaders(n):u)["content-type"],f=new $6({resume:r,abort:a,contentType:d,highWaterMark:l});this.callback=null,this.res=f,s!==null&&(this.throwOnError&&e>=400?this.runInAsyncScope(Z6,null,{callback:s,body:f,contentType:d,statusCode:e,statusMessage:i,headers:u}):this.runInAsyncScope(s,null,null,{statusCode:e,headers:u,trailers:this.trailers,opaque:o,body:f,context:A}))}onData(e){let{res:n}=this;return n.push(e)}onComplete(e){let{res:n}=this;jM(this),yi.parseHeaders(e,this.trailers),n.push(null)}onError(e){let{res:n,callback:r,body:i,opaque:s}=this;jM(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,e,{opaque:s})})),n&&(this.res=null,queueMicrotask(()=>{yi.destroy(n,e)})),i&&(this.body=null,yi.destroy(i,e))}};function KM(t,e){if(e===void 0)return new Promise((n,r)=>{KM.call(this,t,(i,s)=>i?r(i):n(s))});try{this.dispatch(t,new gg(t,e))}catch(n){if(typeof e!="function")throw n;let r=t&&t.opaque;queueMicrotask(()=>e(n,{opaque:r}))}}YB.exports=KM;YB.exports.RequestHandler=gg});var tx=m((FQe,ex)=>{"use strict";var{finished:n$,PassThrough:r$}=B("stream"),{InvalidArgumentError:LA,InvalidReturnValueError:i$,RequestAbortedError:s$}=He(),Pr=Qe(),{getResolveErrorBodyCallback:o$}=HB(),{AsyncResource:a$}=B("async_hooks"),{addSignal:A$,removeSignal:XM}=MA(),WB=class extends a${constructor(e,n,r){if(!e||typeof e!="object")throw new LA("invalid opts");let{signal:i,method:s,opaque:o,body:a,onInfo:A,responseHeaders:c,throwOnError:l}=e;try{if(typeof r!="function")throw new LA("invalid callback");if(typeof n!="function")throw new LA("invalid factory");if(i&&typeof i.on!="function"&&typeof i.addEventListener!="function")throw new LA("signal must be an EventEmitter or EventTarget");if(s==="CONNECT")throw new LA("invalid method");if(A&&typeof A!="function")throw new LA("invalid onInfo callback");super("UNDICI_STREAM")}catch(u){throw Pr.isStream(a)&&Pr.destroy(a.on("error",Pr.nop),u),u}this.responseHeaders=c||null,this.opaque=o||null,this.factory=n,this.callback=r,this.res=null,this.abort=null,this.context=null,this.trailers=null,this.body=a,this.onInfo=A||null,this.throwOnError=l||!1,Pr.isStream(a)&&a.on("error",u=>{this.onError(u)}),A$(this,i)}onConnect(e,n){if(!this.callback)throw new s$;this.abort=e,this.context=n}onHeaders(e,n,r,i){let{factory:s,opaque:o,context:a,callback:A,responseHeaders:c}=this,l=c==="raw"?Pr.parseRawHeaders(n):Pr.parseHeaders(n);if(e<200){this.onInfo&&this.onInfo({statusCode:e,headers:l});return}this.factory=null;let u;if(this.throwOnError&&e>=400){let f=(c==="raw"?Pr.parseHeaders(n):l)["content-type"];u=new r$,this.callback=null,this.runInAsyncScope(o$,null,{callback:A,body:u,contentType:f,statusCode:e,statusMessage:i,headers:l})}else{if(s===null)return;if(u=this.runInAsyncScope(s,null,{statusCode:e,headers:l,opaque:o,context:a}),!u||typeof u.write!="function"||typeof u.end!="function"||typeof u.on!="function")throw new i$("expected Writable");n$(u,{readable:!1},d=>{let{callback:f,res:E,opaque:C,trailers:y,abort:I}=this;this.res=null,(d||!E.readable)&&Pr.destroy(E,d),this.callback=null,this.runInAsyncScope(f,null,d||null,{opaque:C,trailers:y}),d&&I()})}return u.on("drain",r),this.res=u,(u.writableNeedDrain!==void 0?u.writableNeedDrain:u._writableState&&u._writableState.needDrain)!==!0}onData(e){let{res:n}=this;return n?n.write(e):!0}onComplete(e){let{res:n}=this;XM(this),n&&(this.trailers=Pr.parseHeaders(e),n.end())}onError(e){let{res:n,callback:r,opaque:i,body:s}=this;XM(this),this.factory=null,n?(this.res=null,Pr.destroy(n,e)):r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,e,{opaque:i})})),s&&(this.body=null,Pr.destroy(s,e))}};function ZM(t,e,n){if(n===void 0)return new Promise((r,i)=>{ZM.call(this,t,e,(s,o)=>s?i(s):r(o))});try{this.dispatch(t,new WB(t,e,n))}catch(r){if(typeof n!="function")throw r;let i=t&&t.opaque;queueMicrotask(()=>n(r,{opaque:i}))}}ex.exports=ZM});var ix=m((MQe,rx)=>{"use strict";var{Readable:nx,Duplex:c$,PassThrough:l$}=B("stream"),{InvalidArgumentError:bu,InvalidReturnValueError:u$,RequestAbortedError:pg}=He(),gr=Qe(),{AsyncResource:h$}=B("async_hooks"),{addSignal:d$,removeSignal:f$}=MA(),g$=B("assert"),OA=Symbol("resume"),JB=class extends nx{constructor(){super({autoDestroy:!0}),this[OA]=null}_read(){let{[OA]:e}=this;e&&(this[OA]=null,e())}_destroy(e,n){this._read(),n(e)}},zB=class extends nx{constructor(e){super({autoDestroy:!0}),this[OA]=e}_read(){this[OA]()}_destroy(e,n){!e&&!this._readableState.endEmitted&&(e=new pg),n(e)}},jB=class extends h${constructor(e,n){if(!e||typeof e!="object")throw new bu("invalid opts");if(typeof n!="function")throw new bu("invalid handler");let{signal:r,method:i,opaque:s,onInfo:o,responseHeaders:a}=e;if(r&&typeof r.on!="function"&&typeof r.addEventListener!="function")throw new bu("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new bu("invalid method");if(o&&typeof o!="function")throw new bu("invalid onInfo callback");super("UNDICI_PIPELINE"),this.opaque=s||null,this.responseHeaders=a||null,this.handler=n,this.abort=null,this.context=null,this.onInfo=o||null,this.req=new JB().on("error",gr.nop),this.ret=new c$({readableObjectMode:e.objectMode,autoDestroy:!0,read:()=>{let{body:A}=this;A&&A.resume&&A.resume()},write:(A,c,l)=>{let{req:u}=this;u.push(A,c)||u._readableState.destroyed?l():u[OA]=l},destroy:(A,c)=>{let{body:l,req:u,res:h,ret:d,abort:f}=this;!A&&!d._readableState.endEmitted&&(A=new pg),f&&A&&f(),gr.destroy(l,A),gr.destroy(u,A),gr.destroy(h,A),f$(this),c(A)}}).on("prefinish",()=>{let{req:A}=this;A.push(null)}),this.res=null,d$(this,r)}onConnect(e,n){let{ret:r,res:i}=this;if(g$(!i,"pipeline cannot be retried"),r.destroyed)throw new pg;this.abort=e,this.context=n}onHeaders(e,n,r){let{opaque:i,handler:s,context:o}=this;if(e<200){if(this.onInfo){let A=this.responseHeaders==="raw"?gr.parseRawHeaders(n):gr.parseHeaders(n);this.onInfo({statusCode:e,headers:A})}return}this.res=new zB(r);let a;try{this.handler=null;let A=this.responseHeaders==="raw"?gr.parseRawHeaders(n):gr.parseHeaders(n);a=this.runInAsyncScope(s,null,{statusCode:e,headers:A,opaque:i,body:this.res,context:o})}catch(A){throw this.res.on("error",gr.nop),A}if(!a||typeof a.on!="function")throw new u$("expected Readable");a.on("data",A=>{let{ret:c,body:l}=this;!c.push(A)&&l.pause&&l.pause()}).on("error",A=>{let{ret:c}=this;gr.destroy(c,A)}).on("end",()=>{let{ret:A}=this;A.push(null)}).on("close",()=>{let{ret:A}=this;A._readableState.ended||gr.destroy(A,new pg)}),this.body=a}onData(e){let{res:n}=this;return n.push(e)}onComplete(e){let{res:n}=this;n.push(null)}onError(e){let{ret:n}=this;this.handler=null,gr.destroy(n,e)}};function p$(t,e){try{let n=new jB(t,e);return this.dispatch(j(k({},t),{body:n.req}),n),n.ret}catch(n){return new l$().destroy(n)}}rx.exports=p$});var cx=m((LQe,Ax)=>{"use strict";var{InvalidArgumentError:KB,RequestAbortedError:E$,SocketError:m$}=He(),{AsyncResource:C$}=B("async_hooks"),sx=Qe(),{addSignal:I$,removeSignal:ox}=MA(),y$=B("assert"),$B=class extends C${constructor(e,n){if(!e||typeof e!="object")throw new KB("invalid opts");if(typeof n!="function")throw new KB("invalid callback");let{signal:r,opaque:i,responseHeaders:s}=e;if(r&&typeof r.on!="function"&&typeof r.addEventListener!="function")throw new KB("signal must be an EventEmitter or EventTarget");super("UNDICI_UPGRADE"),this.responseHeaders=s||null,this.opaque=i||null,this.callback=n,this.abort=null,this.context=null,I$(this,r)}onConnect(e,n){if(!this.callback)throw new E$;this.abort=e,this.context=null}onHeaders(){throw new m$("bad upgrade",null)}onUpgrade(e,n,r){let{callback:i,opaque:s,context:o}=this;y$.strictEqual(e,101),ox(this),this.callback=null;let a=this.responseHeaders==="raw"?sx.parseRawHeaders(n):sx.parseHeaders(n);this.runInAsyncScope(i,null,null,{headers:a,socket:r,opaque:s,context:o})}onError(e){let{callback:n,opaque:r}=this;ox(this),n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,e,{opaque:r})}))}};function ax(t,e){if(e===void 0)return new Promise((n,r)=>{ax.call(this,t,(i,s)=>i?r(i):n(s))});try{let n=new $B(t,e);this.dispatch(j(k({},t),{method:t.method||"GET",upgrade:t.protocol||"Websocket"}),n)}catch(n){if(typeof e!="function")throw n;let r=t&&t.opaque;queueMicrotask(()=>e(n,{opaque:r}))}}Ax.exports=ax});var fx=m((UQe,dx)=>{"use strict";var{AsyncResource:B$}=B("async_hooks"),{InvalidArgumentError:XB,RequestAbortedError:Q$,SocketError:w$}=He(),lx=Qe(),{addSignal:v$,removeSignal:ux}=MA(),ZB=class extends B${constructor(e,n){if(!e||typeof e!="object")throw new XB("invalid opts");if(typeof n!="function")throw new XB("invalid callback");let{signal:r,opaque:i,responseHeaders:s}=e;if(r&&typeof r.on!="function"&&typeof r.addEventListener!="function")throw new XB("signal must be an EventEmitter or EventTarget");super("UNDICI_CONNECT"),this.opaque=i||null,this.responseHeaders=s||null,this.callback=n,this.abort=null,v$(this,r)}onConnect(e,n){if(!this.callback)throw new Q$;this.abort=e,this.context=n}onHeaders(){throw new w$("bad connect",null)}onUpgrade(e,n,r){let{callback:i,opaque:s,context:o}=this;ux(this),this.callback=null;let a=n;a!=null&&(a=this.responseHeaders==="raw"?lx.parseRawHeaders(n):lx.parseHeaders(n)),this.runInAsyncScope(i,null,null,{statusCode:e,headers:a,socket:r,opaque:s,context:o})}onError(e){let{callback:n,opaque:r}=this;ux(this),n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,e,{opaque:r})}))}};function hx(t,e){if(e===void 0)return new Promise((n,r)=>{hx.call(this,t,(i,s)=>i?r(i):n(s))});try{let n=new ZB(t,e);this.dispatch(j(k({},t),{method:"CONNECT"}),n)}catch(n){if(typeof e!="function")throw n;let r=t&&t.opaque;queueMicrotask(()=>e(n,{opaque:r}))}}dx.exports=hx});var gx=m((VQe,UA)=>{"use strict";UA.exports.request=$M();UA.exports.stream=tx();UA.exports.pipeline=ix();UA.exports.upgrade=cx();UA.exports.connect=fx()});var tQ=m((qQe,px)=>{"use strict";var{UndiciError:_$}=He(),eQ=class t extends _${constructor(e){super(e),Error.captureStackTrace(this,t),this.name="MockNotMatchedError",this.message=e||"The request does not match any registered mock dispatches",this.code="UND_MOCK_ERR_MOCK_NOT_MATCHED"}};px.exports={MockNotMatchedError:eQ}});var PA=m((GQe,Ex)=>{"use strict";Ex.exports={kAgent:Symbol("agent"),kOptions:Symbol("options"),kFactory:Symbol("factory"),kDispatches:Symbol("dispatches"),kDispatchKey:Symbol("dispatch key"),kDefaultHeaders:Symbol("default headers"),kDefaultTrailers:Symbol("default trailers"),kContentLength:Symbol("content length"),kMockAgent:Symbol("mock agent"),kMockAgentSet:Symbol("mock agent set"),kMockAgentGet:Symbol("mock agent get"),kMockDispatch:Symbol("mock dispatch"),kClose:Symbol("close"),kOriginalClose:Symbol("original agent close"),kOrigin:Symbol("origin"),kIsMockActive:Symbol("is mock active"),kNetConnect:Symbol("net connect"),kGetNetConnect:Symbol("get net connect"),kConnected:Symbol("connected")}});var Du=m((HQe,Dx)=>{"use strict";var{MockNotMatchedError:ia}=tQ(),{kDispatches:Eg,kMockAgent:S$,kOriginalDispatch:b$,kOrigin:D$,kGetNetConnect:R$}=PA(),{buildURL:T$,nop:N$}=Qe(),{STATUS_CODES:k$}=B("http"),{types:{isPromise:F$}}=B("util");function ls(t,e){return typeof t=="string"?t===e:t instanceof RegExp?t.test(e):typeof t=="function"?t(e)===!0:!1}function Cx(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e.toLocaleLowerCase(),n]))}function Ix(t,e){if(Array.isArray(t)){for(let n=0;n<t.length;n+=2)if(t[n].toLocaleLowerCase()===e.toLocaleLowerCase())return t[n+1];return}else return typeof t.get=="function"?t.get(e):Cx(t)[e.toLocaleLowerCase()]}function yx(t){let e=t.slice(),n=[];for(let r=0;r<e.length;r+=2)n.push([e[r],e[r+1]]);return Object.fromEntries(n)}function Bx(t,e){if(typeof t.headers=="function")return Array.isArray(e)&&(e=yx(e)),t.headers(e?Cx(e):{});if(typeof t.headers>"u")return!0;if(typeof e!="object"||typeof t.headers!="object")return!1;for(let[n,r]of Object.entries(t.headers)){let i=Ix(e,n);if(!ls(r,i))return!1}return!0}function mx(t){if(typeof t!="string")return t;let e=t.split("?");if(e.length!==2)return t;let n=new URLSearchParams(e.pop());return n.sort(),[...e,n.toString()].join("?")}function M$(t,{path:e,method:n,body:r,headers:i}){let s=ls(t.path,e),o=ls(t.method,n),a=typeof t.body<"u"?ls(t.body,r):!0,A=Bx(t,i);return s&&o&&a&&A}function Qx(t){return Buffer.isBuffer(t)?t:typeof t=="object"?JSON.stringify(t):t.toString()}function wx(t,e){let n=e.query?T$(e.path,e.query):e.path,r=typeof n=="string"?mx(n):n,i=t.filter(({consumed:s})=>!s).filter(({path:s})=>ls(mx(s),r));if(i.length===0)throw new ia(`Mock dispatch not matched for path '${r}'`);if(i=i.filter(({method:s})=>ls(s,e.method)),i.length===0)throw new ia(`Mock dispatch not matched for method '${e.method}'`);if(i=i.filter(({body:s})=>typeof s<"u"?ls(s,e.body):!0),i.length===0)throw new ia(`Mock dispatch not matched for body '${e.body}'`);if(i=i.filter(s=>Bx(s,e.headers)),i.length===0)throw new ia(`Mock dispatch not matched for headers '${typeof e.headers=="object"?JSON.stringify(e.headers):e.headers}'`);return i[0]}function x$(t,e,n){let r={timesInvoked:0,times:1,persist:!1,consumed:!1},i=typeof n=="function"?{callback:n}:k({},n),s=j(k(k({},r),e),{pending:!0,data:k({error:null},i)});return t.push(s),s}function nQ(t,e){let n=t.findIndex(r=>r.consumed?M$(r,e):!1);n!==-1&&t.splice(n,1)}function vx(t){let{path:e,method:n,body:r,headers:i,query:s}=t;return{path:e,method:n,body:r,headers:i,query:s}}function rQ(t){return Object.entries(t).reduce((e,[n,r])=>[...e,Buffer.from(`${n}`),Array.isArray(r)?r.map(i=>Buffer.from(`${i}`)):Buffer.from(`${r}`)],[])}function _x(t){return k$[t]||"unknown"}function L$(t){return p(this,null,function*(){let e=[];try{for(var n=Nn(t),r,i,s;r=!(i=yield n.next()).done;r=!1){let o=i.value;e.push(o)}}catch{s=[i]}finally{try{r&&(i=n.return)&&(yield i.call(n))}finally{if(s)throw s[0]}}return Buffer.concat(e).toString("utf8")})}function Sx(t,e){let n=vx(t),r=wx(this[Eg],n);r.timesInvoked++,r.data.callback&&(r.data=k(k({},r.data),r.data.callback(t)));let{data:{statusCode:i,data:s,headers:o,trailers:a,error:A},delay:c,persist:l}=r,{timesInvoked:u,times:h}=r;if(r.consumed=!l&&u>=h,r.pending=u<h,A!==null)return nQ(this[Eg],n),e.onError(A),!0;typeof c=="number"&&c>0?setTimeout(()=>{d(this[Eg])},c):d(this[Eg]);function d(E,C=s){let y=Array.isArray(t.headers)?yx(t.headers):t.headers,I=typeof C=="function"?C(j(k({},t),{headers:y})):C;if(F$(I)){I.then(D=>d(E,D));return}let S=Qx(I),v=rQ(o),_=rQ(a);e.abort=N$,e.onHeaders(i,v,f,_x(i)),e.onData(Buffer.from(S)),e.onComplete(_),nQ(E,n)}function f(){}return!0}function O$(){let t=this[S$],e=this[D$],n=this[b$];return function(i,s){if(t.isMockActive)try{Sx.call(this,i,s)}catch(o){if(o instanceof ia){let a=t[R$]();if(a===!1)throw new ia(`${o.message}: subsequent request to origin ${e} was not allowed (net.connect disabled)`);if(bx(a,e))n.call(this,i,s);else throw new ia(`${o.message}: subsequent request to origin ${e} was not allowed (net.connect is not enabled for this origin)`)}else throw o}else n.call(this,i,s)}}function bx(t,e){let n=new URL(e);return t===!0?!0:!!(Array.isArray(t)&&t.some(r=>ls(r,n.host)))}function U$(t){if(t){let e=t,{agent:n}=e;return Xt(e,["agent"])}}Dx.exports={getResponseData:Qx,getMockDispatch:wx,addMockDispatch:x$,deleteMockDispatch:nQ,buildKey:vx,generateKeyValues:rQ,matchValue:ls,getResponse:L$,getStatusText:_x,mockDispatch:Sx,buildMockDispatch:O$,checkNetConnect:bx,buildMockOptions:U$,getHeaderByName:Ix}});var lQ=m((WQe,cQ)=>{"use strict";var{getResponseData:P$,buildKey:V$,addMockDispatch:iQ}=Du(),{kDispatches:mg,kDispatchKey:Cg,kDefaultHeaders:sQ,kDefaultTrailers:oQ,kContentLength:aQ,kMockDispatch:Ig}=PA(),{InvalidArgumentError:Vr}=He(),{buildURL:q$}=Qe(),VA=class{constructor(e){this[Ig]=e}delay(e){if(typeof e!="number"||!Number.isInteger(e)||e<=0)throw new Vr("waitInMs must be a valid integer > 0");return this[Ig].delay=e,this}persist(){return this[Ig].persist=!0,this}times(e){if(typeof e!="number"||!Number.isInteger(e)||e<=0)throw new Vr("repeatTimes must be a valid integer > 0");return this[Ig].times=e,this}},AQ=class{constructor(e,n){if(typeof e!="object")throw new Vr("opts must be an object");if(typeof e.path>"u")throw new Vr("opts.path must be defined");if(typeof e.method>"u"&&(e.method="GET"),typeof e.path=="string")if(e.query)e.path=q$(e.path,e.query);else{let r=new URL(e.path,"data://");e.path=r.pathname+r.search}typeof e.method=="string"&&(e.method=e.method.toUpperCase()),this[Cg]=V$(e),this[mg]=n,this[sQ]={},this[oQ]={},this[aQ]=!1}createMockScopeDispatchData(e,n,r={}){let i=P$(n),s=this[aQ]?{"content-length":i.length}:{},o=k(k(k({},this[sQ]),s),r.headers),a=k(k({},this[oQ]),r.trailers);return{statusCode:e,data:n,headers:o,trailers:a}}validateReplyParameters(e,n,r){if(typeof e>"u")throw new Vr("statusCode must be defined");if(typeof n>"u")throw new Vr("data must be defined");if(typeof r!="object")throw new Vr("responseOptions must be an object")}reply(e){if(typeof e=="function"){let a=c=>{let l=e(c);if(typeof l!="object")throw new Vr("reply options callback must return an object");let{statusCode:u,data:h="",responseOptions:d={}}=l;return this.validateReplyParameters(u,h,d),k({},this.createMockScopeDispatchData(u,h,d))},A=iQ(this[mg],this[Cg],a);return new VA(A)}let[n,r="",i={}]=[...arguments];this.validateReplyParameters(n,r,i);let s=this.createMockScopeDispatchData(n,r,i),o=iQ(this[mg],this[Cg],s);return new VA(o)}replyWithError(e){if(typeof e>"u")throw new Vr("error must be defined");let n=iQ(this[mg],this[Cg],{error:e});return new VA(n)}defaultReplyHeaders(e){if(typeof e>"u")throw new Vr("headers must be defined");return this[sQ]=e,this}defaultReplyTrailers(e){if(typeof e>"u")throw new Vr("trailers must be defined");return this[oQ]=e,this}replyContentLength(){return this[aQ]=!0,this}};cQ.exports.MockInterceptor=AQ;cQ.exports.MockScope=VA});var dQ=m((zQe,xx)=>{"use strict";var{promisify:G$}=B("util"),H$=Qu(),{buildMockDispatch:Y$}=Du(),{kDispatches:Rx,kMockAgent:Tx,kClose:Nx,kOriginalClose:kx,kOrigin:Fx,kOriginalDispatch:W$,kConnected:uQ}=PA(),{MockInterceptor:J$}=lQ(),Mx=ze(),{InvalidArgumentError:z$}=He(),hQ=class extends H${constructor(e,n){if(super(e,n),!n||!n.agent||typeof n.agent.dispatch!="function")throw new z$("Argument opts.agent must implement Agent");this[Tx]=n.agent,this[Fx]=e,this[Rx]=[],this[uQ]=1,this[W$]=this.dispatch,this[kx]=this.close.bind(this),this.dispatch=Y$.call(this),this.close=this[Nx]}get[Mx.kConnected](){return this[uQ]}intercept(e){return new J$(e,this[Rx])}[Nx](){return p(this,null,function*(){yield G$(this[kx])(),this[uQ]=0,this[Tx][Mx.kClients].delete(this[Fx])})}};xx.exports=hQ});var pQ=m((KQe,Gx)=>{"use strict";var{promisify:j$}=B("util"),K$=kA(),{buildMockDispatch:$$}=Du(),{kDispatches:Lx,kMockAgent:Ox,kClose:Ux,kOriginalClose:Px,kOrigin:Vx,kOriginalDispatch:X$,kConnected:fQ}=PA(),{MockInterceptor:Z$}=lQ(),qx=ze(),{InvalidArgumentError:eX}=He(),gQ=class extends K${constructor(e,n){if(super(e,n),!n||!n.agent||typeof n.agent.dispatch!="function")throw new eX("Argument opts.agent must implement Agent");this[Ox]=n.agent,this[Vx]=e,this[Lx]=[],this[fQ]=1,this[X$]=this.dispatch,this[Px]=this.close.bind(this),this.dispatch=$$.call(this),this.close=this[Ux]}get[qx.kConnected](){return this[fQ]}intercept(e){return new Z$(e,this[Lx])}[Ux](){return p(this,null,function*(){yield j$(this[Px])(),this[fQ]=0,this[Ox][qx.kClients].delete(this[Vx])})}};Gx.exports=gQ});var Yx=m((ZQe,Hx)=>{"use strict";var tX={pronoun:"it",is:"is",was:"was",this:"this"},nX={pronoun:"they",is:"are",was:"were",this:"these"};Hx.exports=class{constructor(e,n){this.singular=e,this.plural=n}pluralize(e){let n=e===1,r=n?tX:nX,i=n?this.singular:this.plural;return j(k({},r),{count:e,noun:i})}}});var Jx=m((nwe,Wx)=>{"use strict";var{Transform:rX}=B("stream"),{Console:iX}=B("console");Wx.exports=class{constructor({disableColors:e}={}){this.transform=new rX({transform(n,r,i){i(null,n)}}),this.logger=new iX({stdout:this.transform,inspectOptions:{colors:!e&&!process.env.CI}})}format(e){let n=e.map(({method:r,path:i,data:{statusCode:s},persist:o,times:a,timesInvoked:A,origin:c})=>({Method:r,Origin:c,Path:i,"Status code":s,Persistent:o?"\u2705":"\u274C",Invocations:A,Remaining:o?1/0:a-A}));return this.logger.table(n),this.transform.read().toString()}}});var $x=m((rwe,Kx)=>{"use strict";var{kClients:sa}=ze(),sX=Su(),{kAgent:EQ,kMockAgentSet:yg,kMockAgentGet:zx,kDispatches:mQ,kIsMockActive:Bg,kNetConnect:oa,kGetNetConnect:oX,kOptions:Qg,kFactory:wg}=PA(),aX=dQ(),AX=pQ(),{matchValue:cX,buildMockOptions:lX}=Du(),{InvalidArgumentError:jx,UndiciError:uX}=He(),hX=Hf(),dX=Yx(),fX=Jx(),CQ=class{constructor(e){this.value=e}deref(){return this.value}},IQ=class extends hX{constructor(e){if(super(e),this[oa]=!0,this[Bg]=!0,e&&e.agent&&typeof e.agent.dispatch!="function")throw new jx("Argument opts.agent must implement Agent");let n=e&&e.agent?e.agent:new sX(e);this[EQ]=n,this[sa]=n[sa],this[Qg]=lX(e)}get(e){let n=this[zx](e);return n||(n=this[wg](e),this[yg](e,n)),n}dispatch(e,n){return this.get(e.origin),this[EQ].dispatch(e,n)}close(){return p(this,null,function*(){yield this[EQ].close(),this[sa].clear()})}deactivate(){this[Bg]=!1}activate(){this[Bg]=!0}enableNetConnect(e){if(typeof e=="string"||typeof e=="function"||e instanceof RegExp)Array.isArray(this[oa])?this[oa].push(e):this[oa]=[e];else if(typeof e>"u")this[oa]=!0;else throw new jx("Unsupported matcher. Must be one of String|Function|RegExp.")}disableNetConnect(){this[oa]=!1}get isMockActive(){return this[Bg]}[yg](e,n){this[sa].set(e,new CQ(n))}[wg](e){let n=Object.assign({agent:this},this[Qg]);return this[Qg]&&this[Qg].connections===1?new aX(e,n):new AX(e,n)}[zx](e){let n=this[sa].get(e);if(n)return n.deref();if(typeof e!="string"){let r=this[wg]("http://localhost:9999");return this[yg](e,r),r}for(let[r,i]of Array.from(this[sa])){let s=i.deref();if(s&&typeof r!="string"&&cX(r,e)){let o=this[wg](e);return this[yg](e,o),o[mQ]=s[mQ],o}}}[oX](){return this[oa]}pendingInterceptors(){let e=this[sa];return Array.from(e.entries()).flatMap(([n,r])=>r.deref()[mQ].map(i=>j(k({},i),{origin:n}))).filter(({pending:n})=>n)}assertNoPendingInterceptors({pendingInterceptorsFormatter:e=new fX}={}){let n=this.pendingInterceptors();if(n.length===0)return;let r=new dX("interceptor","interceptors").pluralize(n.length);throw new uX(`
${r.count} ${r.noun} ${r.is} pending:

${e.format(n)}
`.trim())}};Kx.exports=IQ});var rL=m((swe,nL)=>{"use strict";var{kProxy:gX,kClose:pX,kDestroy:EX,kInterceptors:mX}=ze(),{URL:Xx}=B("url"),Zx=Su(),CX=kA(),IX=fu(),{InvalidArgumentError:Nu,RequestAbortedError:yX}=He(),eL=gu(),Ru=Symbol("proxy agent"),vg=Symbol("proxy client"),Tu=Symbol("proxy headers"),yQ=Symbol("request tls settings"),BX=Symbol("proxy tls settings"),tL=Symbol("connect endpoint function");function QX(t){return t==="https:"?443:80}function wX(t){if(typeof t=="string"&&(t={uri:t}),!t||!t.uri)throw new Nu("Proxy opts.uri is mandatory");return{uri:t.uri,protocol:t.protocol||"https"}}function vX(t,e){return new CX(t,e)}var BQ=class extends IX{constructor(e){if(super(e),this[gX]=wX(e),this[Ru]=new Zx(e),this[mX]=e.interceptors&&e.interceptors.ProxyAgent&&Array.isArray(e.interceptors.ProxyAgent)?e.interceptors.ProxyAgent:[],typeof e=="string"&&(e={uri:e}),!e||!e.uri)throw new Nu("Proxy opts.uri is mandatory");let{clientFactory:n=vX}=e;if(typeof n!="function")throw new Nu("Proxy opts.clientFactory must be a function.");this[yQ]=e.requestTls,this[BX]=e.proxyTls,this[Tu]=e.headers||{};let r=new Xx(e.uri),{origin:i,port:s,host:o,username:a,password:A}=r;if(e.auth&&e.token)throw new Nu("opts.auth cannot be used in combination with opts.token");e.auth?this[Tu]["proxy-authorization"]=`Basic ${e.auth}`:e.token?this[Tu]["proxy-authorization"]=e.token:a&&A&&(this[Tu]["proxy-authorization"]=`Basic ${Buffer.from(`${decodeURIComponent(a)}:${decodeURIComponent(A)}`).toString("base64")}`);let c=eL(k({},e.proxyTls));this[tL]=eL(k({},e.requestTls)),this[vg]=n(r,{connect:c}),this[Ru]=new Zx(j(k({},e),{connect:(l,u)=>p(this,null,function*(){let h=l.host;l.port||(h+=`:${QX(l.protocol)}`);try{let{socket:d,statusCode:f}=yield this[vg].connect({origin:i,port:s,path:h,signal:l.signal,headers:j(k({},this[Tu]),{host:o})});if(f!==200&&(d.on("error",()=>{}).destroy(),u(new yX(`Proxy response (${f}) !== 200 when HTTP Tunneling`))),l.protocol!=="https:"){u(null,d);return}let E;this[yQ]?E=this[yQ].servername:E=l.servername,this[tL](j(k({},l),{servername:E,httpSocket:d}),u)}catch(d){u(d)}})}))}dispatch(e,n){let{host:r}=new Xx(e.origin),i=_X(e.headers);return SX(i),this[Ru].dispatch(j(k({},e),{headers:j(k({},i),{host:r})}),n)}[pX](){return p(this,null,function*(){yield this[Ru].close(),yield this[vg].close()})}[EX](){return p(this,null,function*(){yield this[Ru].destroy(),yield this[vg].destroy()})}};function _X(t){if(Array.isArray(t)){let e={};for(let n=0;n<t.length;n+=2)e[t[n]]=t[n+1];return e}return t}function SX(t){if(t&&Object.keys(t).find(n=>n.toLowerCase()==="proxy-authorization"))throw new Nu("Proxy-Authorization should be sent in ProxyAgent constructor")}nL.exports=BQ});var AL=m((awe,aL)=>{"use strict";var aa=B("assert"),{kRetryHandlerDefaultRetry:iL}=ze(),{RequestRetryError:_g}=He(),{isDisturbed:sL,parseHeaders:bX,parseRangeHeader:oL}=Qe();function DX(t){let e=Date.now();return new Date(t).getTime()-e}var QQ=class t{constructor(e,n){let f=e,{retryOptions:r}=f,i=Xt(f,["retryOptions"]),{retry:s,maxRetries:o,maxTimeout:a,minTimeout:A,timeoutFactor:c,methods:l,errorCodes:u,retryAfter:h,statusCodes:d}=r??{};this.dispatch=n.dispatch,this.handler=n.handler,this.opts=i,this.abort=null,this.aborted=!1,this.retryOpts={retry:s??t[iL],retryAfter:h??!0,maxTimeout:a??30*1e3,timeout:A??500,timeoutFactor:c??2,maxRetries:o??5,methods:l??["GET","HEAD","OPTIONS","PUT","DELETE","TRACE"],statusCodes:d??[500,502,503,504,429],errorCodes:u??["ECONNRESET","ECONNREFUSED","ENOTFOUND","ENETDOWN","ENETUNREACH","EHOSTDOWN","EHOSTUNREACH","EPIPE"]},this.retryCount=0,this.start=0,this.end=null,this.etag=null,this.resume=null,this.handler.onConnect(E=>{this.aborted=!0,this.abort?this.abort(E):this.reason=E})}onRequestSent(){this.handler.onRequestSent&&this.handler.onRequestSent()}onUpgrade(e,n,r){this.handler.onUpgrade&&this.handler.onUpgrade(e,n,r)}onConnect(e){this.aborted?e(this.reason):this.abort=e}onBodySent(e){if(this.handler.onBodySent)return this.handler.onBodySent(e)}static[iL](e,{state:n,opts:r},i){let{statusCode:s,code:o,headers:a}=e,{method:A,retryOptions:c}=r,{maxRetries:l,timeout:u,maxTimeout:h,timeoutFactor:d,statusCodes:f,errorCodes:E,methods:C}=c,{counter:y,currentTimeout:I}=n;if(I=I!=null&&I>0?I:u,o&&o!=="UND_ERR_REQ_RETRY"&&o!=="UND_ERR_SOCKET"&&!E.includes(o)){i(e);return}if(Array.isArray(C)&&!C.includes(A)){i(e);return}if(s!=null&&Array.isArray(f)&&!f.includes(s)){i(e);return}if(y>l){i(e);return}let S=a!=null&&a["retry-after"];S&&(S=Number(S),S=isNaN(S)?DX(S):S*1e3);let v=S>0?Math.min(S,h):Math.min(I*d**y,h);n.currentTimeout=v,setTimeout(()=>i(null),v)}onHeaders(e,n,r,i){let s=bX(n);if(this.retryCount+=1,e>=300)return this.abort(new _g("Request failed",e,{headers:s,count:this.retryCount})),!1;if(this.resume!=null){if(this.resume=null,e!==206)return!0;let a=oL(s["content-range"]);if(!a)return this.abort(new _g("Content-Range mismatch",e,{headers:s,count:this.retryCount})),!1;if(this.etag!=null&&this.etag!==s.etag)return this.abort(new _g("ETag mismatch",e,{headers:s,count:this.retryCount})),!1;let{start:A,size:c,end:l=c}=a;return aa(this.start===A,"content-range mismatch"),aa(this.end==null||this.end===l,"content-range mismatch"),this.resume=r,!0}if(this.end==null){if(e===206){let a=oL(s["content-range"]);if(a==null)return this.handler.onHeaders(e,n,r,i);let{start:A,size:c,end:l=c}=a;aa(A!=null&&Number.isFinite(A)&&this.start!==A,"content-range mismatch"),aa(Number.isFinite(A)),aa(l!=null&&Number.isFinite(l)&&this.end!==l,"invalid content-length"),this.start=A,this.end=l}if(this.end==null){let a=s["content-length"];this.end=a!=null?Number(a):null}return aa(Number.isFinite(this.start)),aa(this.end==null||Number.isFinite(this.end),"invalid content-length"),this.resume=r,this.etag=s.etag!=null?s.etag:null,this.handler.onHeaders(e,n,r,i)}let o=new _g("Request failed",e,{headers:s,count:this.retryCount});return this.abort(o),!1}onData(e){return this.start+=e.length,this.handler.onData(e)}onComplete(e){return this.retryCount=0,this.handler.onComplete(e)}onError(e){if(this.aborted||sL(this.opts.body))return this.handler.onError(e);this.retryOpts.retry(e,{state:{counter:this.retryCount++,currentTimeout:this.retryAfter},opts:k({retryOptions:this.retryOpts},this.opts)},n.bind(this));function n(r){if(r!=null||this.aborted||sL(this.opts.body))return this.handler.onError(r);this.start!==0&&(this.opts=j(k({},this.opts),{headers:j(k({},this.opts.headers),{range:`bytes=${this.start}-${this.end??""}`})}));try{this.dispatch(this.opts,this)}catch(i){this.handler.onError(i)}}}};aL.exports=QQ});var qA=m((cwe,hL)=>{"use strict";var cL=Symbol.for("undici.globalDispatcher.1"),{InvalidArgumentError:RX}=He(),TX=Su();uL()===void 0&&lL(new TX);function lL(t){if(!t||typeof t.dispatch!="function")throw new RX("Argument agent must implement Agent");Object.defineProperty(globalThis,cL,{value:t,writable:!0,enumerable:!1,configurable:!1})}function uL(){return globalThis[cL]}hL.exports={setGlobalDispatcher:lL,getGlobalDispatcher:uL}});var fL=m((uwe,dL)=>{"use strict";dL.exports=class{constructor(e){this.handler=e}onConnect(...e){return this.handler.onConnect(...e)}onError(...e){return this.handler.onError(...e)}onUpgrade(...e){return this.handler.onUpgrade(...e)}onHeaders(...e){return this.handler.onHeaders(...e)}onData(...e){return this.handler.onData(...e)}onComplete(...e){return this.handler.onComplete(...e)}onBodySent(...e){return this.handler.onBodySent(...e)}}});var Aa=m((hwe,CL)=>{"use strict";var{kHeadersList:Ln,kConstruct:NX}=ze(),{kGuard:Qi}=ns(),{kEnumerableProperty:Bi}=Qe(),{makeIterator:GA,isValidHeaderName:ku,isValidHeaderValue:pL}=dr(),{webidl:ge}=pn(),kX=B("assert"),xn=Symbol("headers map"),Jt=Symbol("headers map sorted");function gL(t){return t===10||t===13||t===9||t===32}function EL(t){let e=0,n=t.length;for(;n>e&&gL(t.charCodeAt(n-1));)--n;for(;n>e&&gL(t.charCodeAt(e));)++e;return e===0&&n===t.length?t:t.substring(e,n)}function mL(t,e){if(Array.isArray(e))for(let n=0;n<e.length;++n){let r=e[n];if(r.length!==2)throw ge.errors.exception({header:"Headers constructor",message:`expected name/value pair to be length 2, found ${r.length}.`});wQ(t,r[0],r[1])}else if(typeof e=="object"&&e!==null){let n=Object.keys(e);for(let r=0;r<n.length;++r)wQ(t,n[r],e[n[r]])}else throw ge.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})}function wQ(t,e,n){if(n=EL(n),ku(e)){if(!pL(n))throw ge.errors.invalidArgument({prefix:"Headers.append",value:n,type:"header value"})}else throw ge.errors.invalidArgument({prefix:"Headers.append",value:e,type:"header name"});if(t[Qi]==="immutable")throw new TypeError("immutable");return t[Qi],t[Ln].append(e,n)}var Sg=class t{cookies=null;constructor(e){e instanceof t?(this[xn]=new Map(e[xn]),this[Jt]=e[Jt],this.cookies=e.cookies===null?null:[...e.cookies]):(this[xn]=new Map(e),this[Jt]=null)}contains(e){return e=e.toLowerCase(),this[xn].has(e)}clear(){this[xn].clear(),this[Jt]=null,this.cookies=null}append(e,n){this[Jt]=null;let r=e.toLowerCase(),i=this[xn].get(r);if(i){let s=r==="cookie"?"; ":", ";this[xn].set(r,{name:i.name,value:`${i.value}${s}${n}`})}else this[xn].set(r,{name:e,value:n});r==="set-cookie"&&(this.cookies??=[],this.cookies.push(n))}set(e,n){this[Jt]=null;let r=e.toLowerCase();r==="set-cookie"&&(this.cookies=[n]),this[xn].set(r,{name:e,value:n})}delete(e){this[Jt]=null,e=e.toLowerCase(),e==="set-cookie"&&(this.cookies=null),this[xn].delete(e)}get(e){let n=this[xn].get(e.toLowerCase());return n===void 0?null:n.value}*[Symbol.iterator](){for(let[e,{value:n}]of this[xn])yield[e,n]}get entries(){let e={};if(this[xn].size)for(let{name:n,value:r}of this[xn].values())e[n]=r;return e}},HA=class t{constructor(e=void 0){e!==NX&&(this[Ln]=new Sg,this[Qi]="none",e!==void 0&&(e=ge.converters.HeadersInit(e),mL(this,e)))}append(e,n){return ge.brandCheck(this,t),ge.argumentLengthCheck(arguments,2,{header:"Headers.append"}),e=ge.converters.ByteString(e),n=ge.converters.ByteString(n),wQ(this,e,n)}delete(e){if(ge.brandCheck(this,t),ge.argumentLengthCheck(arguments,1,{header:"Headers.delete"}),e=ge.converters.ByteString(e),!ku(e))throw ge.errors.invalidArgument({prefix:"Headers.delete",value:e,type:"header name"});if(this[Qi]==="immutable")throw new TypeError("immutable");this[Qi],this[Ln].contains(e)&&this[Ln].delete(e)}get(e){if(ge.brandCheck(this,t),ge.argumentLengthCheck(arguments,1,{header:"Headers.get"}),e=ge.converters.ByteString(e),!ku(e))throw ge.errors.invalidArgument({prefix:"Headers.get",value:e,type:"header name"});return this[Ln].get(e)}has(e){if(ge.brandCheck(this,t),ge.argumentLengthCheck(arguments,1,{header:"Headers.has"}),e=ge.converters.ByteString(e),!ku(e))throw ge.errors.invalidArgument({prefix:"Headers.has",value:e,type:"header name"});return this[Ln].contains(e)}set(e,n){if(ge.brandCheck(this,t),ge.argumentLengthCheck(arguments,2,{header:"Headers.set"}),e=ge.converters.ByteString(e),n=ge.converters.ByteString(n),n=EL(n),ku(e)){if(!pL(n))throw ge.errors.invalidArgument({prefix:"Headers.set",value:n,type:"header value"})}else throw ge.errors.invalidArgument({prefix:"Headers.set",value:e,type:"header name"});if(this[Qi]==="immutable")throw new TypeError("immutable");this[Qi],this[Ln].set(e,n)}getSetCookie(){ge.brandCheck(this,t);let e=this[Ln].cookies;return e?[...e]:[]}get[Jt](){if(this[Ln][Jt])return this[Ln][Jt];let e=[],n=[...this[Ln]].sort((i,s)=>i[0]<s[0]?-1:1),r=this[Ln].cookies;for(let i=0;i<n.length;++i){let[s,o]=n[i];if(s==="set-cookie")for(let a=0;a<r.length;++a)e.push([s,r[a]]);else kX(o!==null),e.push([s,o])}return this[Ln][Jt]=e,e}keys(){if(ge.brandCheck(this,t),this[Qi]==="immutable"){let e=this[Jt];return GA(()=>e,"Headers","key")}return GA(()=>[...this[Jt].values()],"Headers","key")}values(){if(ge.brandCheck(this,t),this[Qi]==="immutable"){let e=this[Jt];return GA(()=>e,"Headers","value")}return GA(()=>[...this[Jt].values()],"Headers","value")}entries(){if(ge.brandCheck(this,t),this[Qi]==="immutable"){let e=this[Jt];return GA(()=>e,"Headers","key+value")}return GA(()=>[...this[Jt].values()],"Headers","key+value")}forEach(e,n=globalThis){if(ge.brandCheck(this,t),ge.argumentLengthCheck(arguments,1,{header:"Headers.forEach"}),typeof e!="function")throw new TypeError("Failed to execute 'forEach' on 'Headers': parameter 1 is not of type 'Function'.");for(let[r,i]of this)e.apply(n,[i,r,this])}[Symbol.for("nodejs.util.inspect.custom")](){return ge.brandCheck(this,t),this[Ln]}};HA.prototype[Symbol.iterator]=HA.prototype.entries;Object.defineProperties(HA.prototype,{append:Bi,delete:Bi,get:Bi,has:Bi,set:Bi,getSetCookie:Bi,keys:Bi,values:Bi,entries:Bi,forEach:Bi,[Symbol.iterator]:{enumerable:!1},[Symbol.toStringTag]:{value:"Headers",configurable:!0}});ge.converters.HeadersInit=function(t){if(ge.util.Type(t)==="Object")return t[Symbol.iterator]?ge.converters["sequence<sequence<ByteString>>"](t):ge.converters["record<ByteString, ByteString>"](t);throw ge.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})};CL.exports={fill:mL,Headers:HA,HeadersList:Sg}});var Tg=m((dwe,SL)=>{"use strict";var{Headers:FX,HeadersList:IL,fill:MX}=Aa(),{extractBody:yL,cloneBody:xX,mixinBody:LX}=uu(),SQ=Qe(),{kEnumerableProperty:Zn}=SQ,{isValidReasonPhrase:OX,isCancelled:UX,isAborted:PX,isBlobLike:VX,serializeJavascriptValueToJSONString:qX,isErrorLike:GX,isomorphicEncode:HX}=dr(),{redirectStatusSet:YX,nullBodyStatus:WX,DOMException:BL}=Ls(),{kState:st,kHeaders:Nt,kGuard:YA,kRealm:Xn}=ns(),{webidl:fe}=pn(),{FormData:JX}=Vf(),{getGlobalOrigin:zX}=IA(),{URLSerializer:QL}=Or(),{kHeadersList:vQ,kConstruct:jX}=ze(),bQ=B("assert"),{types:_Q}=B("util"),vL=globalThis.ReadableStream||B("stream/web").ReadableStream,KX=new TextEncoder("utf-8"),WA=class t{static error(){let e={settingsObject:{}},n=new t;return n[st]=Dg(),n[Xn]=e,n[Nt][vQ]=n[st].headersList,n[Nt][YA]="immutable",n[Nt][Xn]=e,n}static json(e,n={}){fe.argumentLengthCheck(arguments,1,{header:"Response.json"}),n!==null&&(n=fe.converters.ResponseInit(n));let r=KX.encode(qX(e)),i=yL(r),s={settingsObject:{}},o=new t;return o[Xn]=s,o[Nt][YA]="response",o[Nt][Xn]=s,wL(o,n,{body:i[0],type:"application/json"}),o}static redirect(e,n=302){let r={settingsObject:{}};fe.argumentLengthCheck(arguments,1,{header:"Response.redirect"}),e=fe.converters.USVString(e),n=fe.converters["unsigned short"](n);let i;try{i=new URL(e,zX())}catch(a){throw Object.assign(new TypeError("Failed to parse URL from "+e),{cause:a})}if(!YX.has(n))throw new RangeError("Invalid status code "+n);let s=new t;s[Xn]=r,s[Nt][YA]="immutable",s[Nt][Xn]=r,s[st].status=n;let o=HX(QL(i));return s[st].headersList.append("location",o),s}constructor(e=null,n={}){e!==null&&(e=fe.converters.BodyInit(e)),n=fe.converters.ResponseInit(n),this[Xn]={settingsObject:{}},this[st]=Rg({}),this[Nt]=new FX(jX),this[Nt][YA]="response",this[Nt][vQ]=this[st].headersList,this[Nt][Xn]=this[Xn];let r=null;if(e!=null){let[i,s]=yL(e);r={body:i,type:s}}wL(this,n,r)}get type(){return fe.brandCheck(this,t),this[st].type}get url(){fe.brandCheck(this,t);let e=this[st].urlList,n=e[e.length-1]??null;return n===null?"":QL(n,!0)}get redirected(){return fe.brandCheck(this,t),this[st].urlList.length>1}get status(){return fe.brandCheck(this,t),this[st].status}get ok(){return fe.brandCheck(this,t),this[st].status>=200&&this[st].status<=299}get statusText(){return fe.brandCheck(this,t),this[st].statusText}get headers(){return fe.brandCheck(this,t),this[Nt]}get body(){return fe.brandCheck(this,t),this[st].body?this[st].body.stream:null}get bodyUsed(){return fe.brandCheck(this,t),!!this[st].body&&SQ.isDisturbed(this[st].body.stream)}clone(){if(fe.brandCheck(this,t),this.bodyUsed||this.body&&this.body.locked)throw fe.errors.exception({header:"Response.clone",message:"Body has already been consumed."});let e=DQ(this[st]),n=new t;return n[st]=e,n[Xn]=this[Xn],n[Nt][vQ]=e.headersList,n[Nt][YA]=this[Nt][YA],n[Nt][Xn]=this[Nt][Xn],n}};LX(WA);Object.defineProperties(WA.prototype,{type:Zn,url:Zn,status:Zn,ok:Zn,redirected:Zn,statusText:Zn,headers:Zn,clone:Zn,body:Zn,bodyUsed:Zn,[Symbol.toStringTag]:{value:"Response",configurable:!0}});Object.defineProperties(WA,{json:Zn,redirect:Zn,error:Zn});function DQ(t){if(t.internalResponse)return _L(DQ(t.internalResponse),t.type);let e=Rg(j(k({},t),{body:null}));return t.body!=null&&(e.body=xX(t.body)),e}function Rg(t){return j(k({aborted:!1,rangeRequested:!1,timingAllowPassed:!1,requestIncludesCredentials:!1,type:"default",status:200,timingInfo:null,cacheState:"",statusText:""},t),{headersList:t.headersList?new IL(t.headersList):new IL,urlList:t.urlList?[...t.urlList]:[]})}function Dg(t){let e=GX(t);return Rg({type:"error",status:0,error:e?t:new Error(t&&String(t)),aborted:t&&t.name==="AbortError"})}function bg(t,e){return e=k({internalResponse:t},e),new Proxy(t,{get(n,r){return r in e?e[r]:n[r]},set(n,r,i){return bQ(!(r in e)),n[r]=i,!0}})}function _L(t,e){if(e==="basic")return bg(t,{type:"basic",headersList:t.headersList});if(e==="cors")return bg(t,{type:"cors",headersList:t.headersList});if(e==="opaque")return bg(t,{type:"opaque",urlList:Object.freeze([]),status:0,statusText:"",body:null});if(e==="opaqueredirect")return bg(t,{type:"opaqueredirect",status:0,statusText:"",headersList:[],body:null});bQ(!1)}function $X(t,e=null){return bQ(UX(t)),PX(t)?Dg(Object.assign(new BL("The operation was aborted.","AbortError"),{cause:e})):Dg(Object.assign(new BL("Request was cancelled."),{cause:e}))}function wL(t,e,n){if(e.status!==null&&(e.status<200||e.status>599))throw new RangeError('init["status"] must be in the range of 200 to 599, inclusive.');if("statusText"in e&&e.statusText!=null&&!OX(String(e.statusText)))throw new TypeError("Invalid statusText");if("status"in e&&e.status!=null&&(t[st].status=e.status),"statusText"in e&&e.statusText!=null&&(t[st].statusText=e.statusText),"headers"in e&&e.headers!=null&&MX(t[Nt],e.headers),n){if(WX.includes(t.status))throw fe.errors.exception({header:"Response constructor",message:"Invalid response status code "+t.status});t[st].body=n.body,n.type!=null&&!t[st].headersList.contains("Content-Type")&&t[st].headersList.append("content-type",n.type)}}fe.converters.ReadableStream=fe.interfaceConverter(vL);fe.converters.FormData=fe.interfaceConverter(JX);fe.converters.URLSearchParams=fe.interfaceConverter(URLSearchParams);fe.converters.XMLHttpRequestBodyInit=function(t){return typeof t=="string"?fe.converters.USVString(t):VX(t)?fe.converters.Blob(t,{strict:!1}):_Q.isArrayBuffer(t)||_Q.isTypedArray(t)||_Q.isDataView(t)?fe.converters.BufferSource(t):SQ.isFormDataLike(t)?fe.converters.FormData(t,{strict:!1}):t instanceof URLSearchParams?fe.converters.URLSearchParams(t):fe.converters.DOMString(t)};fe.converters.BodyInit=function(t){return t instanceof vL?fe.converters.ReadableStream(t):t?.[Symbol.asyncIterator]?t:fe.converters.XMLHttpRequestBodyInit(t)};fe.converters.ResponseInit=fe.dictionaryConverter([{key:"status",converter:fe.converters["unsigned short"],defaultValue:200},{key:"statusText",converter:fe.converters.ByteString,defaultValue:""},{key:"headers",converter:fe.converters.HeadersInit}]);SL.exports={makeNetworkError:Dg,makeResponse:Rg,makeAppropriateNetworkError:$X,filterResponse:_L,Response:WA,cloneResponse:DQ}});var xu=m((gwe,kL)=>{"use strict";var{extractBody:XX,mixinBody:ZX,cloneBody:eZ}=uu(),{Headers:bL,fill:tZ,HeadersList:Mg}=Aa(),{FinalizationRegistry:nZ}=UB()(),Mu=Qe(),{isValidHTTPToken:rZ,sameOrigin:DL,normalizeMethod:iZ,makePolicyContainer:sZ,normalizeMethodRecord:oZ}=dr(),{forbiddenMethodsSet:aZ,corsSafeListedMethodsSet:AZ,referrerPolicy:cZ,requestRedirect:lZ,requestMode:uZ,requestCredentials:hZ,requestCache:dZ,requestDuplex:fZ}=Ls(),{kEnumerableProperty:wt}=Mu,{kHeaders:rn,kSignal:Fu,kState:tt,kGuard:Ng,kRealm:er}=ns(),{webidl:ie}=pn(),{getGlobalOrigin:gZ}=IA(),{URLSerializer:pZ}=Or(),{kHeadersList:kg,kConstruct:Fg}=ze(),EZ=B("assert"),{getMaxListeners:RL,setMaxListeners:TL,getEventListeners:mZ,defaultMaxListeners:NL}=B("events"),RQ=globalThis.TransformStream,CZ=Symbol("abortController"),IZ=new nZ(({signal:t,abort:e})=>{t.removeEventListener("abort",e)}),ca=class t{constructor(e,n={}){if(e===Fg)return;ie.argumentLengthCheck(arguments,1,{header:"Request constructor"}),e=ie.converters.RequestInfo(e),n=ie.converters.RequestInit(n),this[er]={settingsObject:{baseUrl:gZ(),get origin(){return this.baseUrl?.origin},policyContainer:sZ()}};let r=null,i=null,s=this[er].settingsObject.baseUrl,o=null;if(typeof e=="string"){let C;try{C=new URL(e,s)}catch(y){throw new TypeError("Failed to parse URL from "+e,{cause:y})}if(C.username||C.password)throw new TypeError("Request cannot be constructed from a URL that includes credentials: "+e);r=xg({urlList:[C]}),i="cors"}else EZ(e instanceof t),r=e[tt],o=e[Fu];let a=this[er].settingsObject.origin,A="client";if(r.window?.constructor?.name==="EnvironmentSettingsObject"&&DL(r.window,a)&&(A=r.window),n.window!=null)throw new TypeError(`'window' option '${A}' must be null`);"window"in n&&(A="no-window"),r=xg({method:r.method,headersList:r.headersList,unsafeRequest:r.unsafeRequest,client:this[er].settingsObject,window:A,priority:r.priority,origin:r.origin,referrer:r.referrer,referrerPolicy:r.referrerPolicy,mode:r.mode,credentials:r.credentials,cache:r.cache,redirect:r.redirect,integrity:r.integrity,keepalive:r.keepalive,reloadNavigation:r.reloadNavigation,historyNavigation:r.historyNavigation,urlList:[...r.urlList]});let c=Object.keys(n).length!==0;if(c&&(r.mode==="navigate"&&(r.mode="same-origin"),r.reloadNavigation=!1,r.historyNavigation=!1,r.origin="client",r.referrer="client",r.referrerPolicy="",r.url=r.urlList[r.urlList.length-1],r.urlList=[r.url]),n.referrer!==void 0){let C=n.referrer;if(C==="")r.referrer="no-referrer";else{let y;try{y=new URL(C,s)}catch(I){throw new TypeError(`Referrer "${C}" is not a valid URL.`,{cause:I})}y.protocol==="about:"&&y.hostname==="client"||a&&!DL(y,this[er].settingsObject.baseUrl)?r.referrer="client":r.referrer=y}}n.referrerPolicy!==void 0&&(r.referrerPolicy=n.referrerPolicy);let l;if(n.mode!==void 0?l=n.mode:l=i,l==="navigate")throw ie.errors.exception({header:"Request constructor",message:"invalid request mode navigate."});if(l!=null&&(r.mode=l),n.credentials!==void 0&&(r.credentials=n.credentials),n.cache!==void 0&&(r.cache=n.cache),r.cache==="only-if-cached"&&r.mode!=="same-origin")throw new TypeError("'only-if-cached' can be set only with 'same-origin' mode");if(n.redirect!==void 0&&(r.redirect=n.redirect),n.integrity!=null&&(r.integrity=String(n.integrity)),n.keepalive!==void 0&&(r.keepalive=!!n.keepalive),n.method!==void 0){let C=n.method;if(!rZ(C))throw new TypeError(`'${C}' is not a valid HTTP method.`);if(aZ.has(C.toUpperCase()))throw new TypeError(`'${C}' HTTP method is unsupported.`);C=oZ[C]??iZ(C),r.method=C}n.signal!==void 0&&(o=n.signal),this[tt]=r;let u=new AbortController;if(this[Fu]=u.signal,this[Fu][er]=this[er],o!=null){if(!o||typeof o.aborted!="boolean"||typeof o.addEventListener!="function")throw new TypeError("Failed to construct 'Request': member signal is not of type AbortSignal.");if(o.aborted)u.abort(o.reason);else{this[CZ]=u;let C=new WeakRef(u),y=function(){let I=C.deref();I!==void 0&&I.abort(this.reason)};try{(typeof RL=="function"&&RL(o)===NL||mZ(o,"abort").length>=NL)&&TL(100,o)}catch{}Mu.addAbortListener(o,y),IZ.register(u,{signal:o,abort:y})}}if(this[rn]=new bL(Fg),this[rn][kg]=r.headersList,this[rn][Ng]="request",this[rn][er]=this[er],l==="no-cors"){if(!AZ.has(r.method))throw new TypeError(`'${r.method} is unsupported in no-cors mode.`);this[rn][Ng]="request-no-cors"}if(c){let C=this[rn][kg],y=n.headers!==void 0?n.headers:new Mg(C);if(C.clear(),y instanceof Mg){for(let[I,S]of y)C.append(I,S);C.cookies=y.cookies}else tZ(this[rn],y)}let h=e instanceof t?e[tt].body:null;if((n.body!=null||h!=null)&&(r.method==="GET"||r.method==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body.");let d=null;if(n.body!=null){let[C,y]=XX(n.body,r.keepalive);d=C,y&&!this[rn][kg].contains("content-type")&&this[rn].append("content-type",y)}let f=d??h;if(f!=null&&f.source==null){if(d!=null&&n.duplex==null)throw new TypeError("RequestInit: duplex option is required when sending a body.");if(r.mode!=="same-origin"&&r.mode!=="cors")throw new TypeError('If request is made from ReadableStream, mode should be "same-origin" or "cors"');r.useCORSPreflightFlag=!0}let E=f;if(d==null&&h!=null){if(Mu.isDisturbed(h.stream)||h.stream.locked)throw new TypeError("Cannot construct a Request with a Request object that has already been used.");RQ||(RQ=B("stream/web").TransformStream);let C=new RQ;h.stream.pipeThrough(C),E={source:h.source,length:h.length,stream:C.readable}}this[tt].body=E}get method(){return ie.brandCheck(this,t),this[tt].method}get url(){return ie.brandCheck(this,t),pZ(this[tt].url)}get headers(){return ie.brandCheck(this,t),this[rn]}get destination(){return ie.brandCheck(this,t),this[tt].destination}get referrer(){return ie.brandCheck(this,t),this[tt].referrer==="no-referrer"?"":this[tt].referrer==="client"?"about:client":this[tt].referrer.toString()}get referrerPolicy(){return ie.brandCheck(this,t),this[tt].referrerPolicy}get mode(){return ie.brandCheck(this,t),this[tt].mode}get credentials(){return this[tt].credentials}get cache(){return ie.brandCheck(this,t),this[tt].cache}get redirect(){return ie.brandCheck(this,t),this[tt].redirect}get integrity(){return ie.brandCheck(this,t),this[tt].integrity}get keepalive(){return ie.brandCheck(this,t),this[tt].keepalive}get isReloadNavigation(){return ie.brandCheck(this,t),this[tt].reloadNavigation}get isHistoryNavigation(){return ie.brandCheck(this,t),this[tt].historyNavigation}get signal(){return ie.brandCheck(this,t),this[Fu]}get body(){return ie.brandCheck(this,t),this[tt].body?this[tt].body.stream:null}get bodyUsed(){return ie.brandCheck(this,t),!!this[tt].body&&Mu.isDisturbed(this[tt].body.stream)}get duplex(){return ie.brandCheck(this,t),"half"}clone(){if(ie.brandCheck(this,t),this.bodyUsed||this.body?.locked)throw new TypeError("unusable");let e=yZ(this[tt]),n=new t(Fg);n[tt]=e,n[er]=this[er],n[rn]=new bL(Fg),n[rn][kg]=e.headersList,n[rn][Ng]=this[rn][Ng],n[rn][er]=this[rn][er];let r=new AbortController;return this.signal.aborted?r.abort(this.signal.reason):Mu.addAbortListener(this.signal,()=>{r.abort(this.signal.reason)}),n[Fu]=r.signal,n}};ZX(ca);function xg(t){let e=j(k({method:"GET",localURLsOnly:!1,unsafeRequest:!1,body:null,client:null,reservedClient:null,replacesClientId:"",window:"client",keepalive:!1,serviceWorkers:"all",initiator:"",destination:"",priority:null,origin:"client",policyContainer:"client",referrer:"client",referrerPolicy:"",mode:"no-cors",useCORSPreflightFlag:!1,credentials:"same-origin",useCredentials:!1,cache:"default",redirect:"follow",integrity:"",cryptoGraphicsNonceMetadata:"",parserMetadata:"",reloadNavigation:!1,historyNavigation:!1,userActivation:!1,taintedOrigin:!1,redirectCount:0,responseTainting:"basic",preventNoCacheCacheControlHeaderModification:!1,done:!1,timingAllowFailed:!1},t),{headersList:t.headersList?new Mg(t.headersList):new Mg});return e.url=e.urlList[0],e}function yZ(t){let e=xg(j(k({},t),{body:null}));return t.body!=null&&(e.body=eZ(t.body)),e}Object.defineProperties(ca.prototype,{method:wt,url:wt,headers:wt,redirect:wt,clone:wt,signal:wt,duplex:wt,destination:wt,body:wt,bodyUsed:wt,isHistoryNavigation:wt,isReloadNavigation:wt,keepalive:wt,integrity:wt,cache:wt,credentials:wt,attribute:wt,referrerPolicy:wt,referrer:wt,mode:wt,[Symbol.toStringTag]:{value:"Request",configurable:!0}});ie.converters.Request=ie.interfaceConverter(ca);ie.converters.RequestInfo=function(t){return typeof t=="string"?ie.converters.USVString(t):t instanceof ca?ie.converters.Request(t):ie.converters.USVString(t)};ie.converters.AbortSignal=ie.interfaceConverter(AbortSignal);ie.converters.RequestInit=ie.dictionaryConverter([{key:"method",converter:ie.converters.ByteString},{key:"headers",converter:ie.converters.HeadersInit},{key:"body",converter:ie.nullableConverter(ie.converters.BodyInit)},{key:"referrer",converter:ie.converters.USVString},{key:"referrerPolicy",converter:ie.converters.DOMString,allowedValues:cZ},{key:"mode",converter:ie.converters.DOMString,allowedValues:uZ},{key:"credentials",converter:ie.converters.DOMString,allowedValues:hZ},{key:"cache",converter:ie.converters.DOMString,allowedValues:dZ},{key:"redirect",converter:ie.converters.DOMString,allowedValues:lZ},{key:"integrity",converter:ie.converters.DOMString},{key:"keepalive",converter:ie.converters.boolean},{key:"signal",converter:ie.nullableConverter(t=>ie.converters.AbortSignal(t,{strict:!1}))},{key:"window",converter:ie.converters.any},{key:"duplex",converter:ie.converters.DOMString,allowedValues:fZ}]);kL.exports={Request:ca,makeRequest:xg}});var Gg=m((Ewe,JL)=>{"use strict";var{Response:BZ,makeNetworkError:Ye,makeAppropriateNetworkError:Lg,filterResponse:TQ,makeResponse:Og}=Tg(),{Headers:FL}=Aa(),{Request:QZ,makeRequest:wZ}=xu(),Lu=B("zlib"),{bytesMatch:vZ,makePolicyContainer:_Z,clonePolicyContainer:SZ,requestBadPort:bZ,TAOCheck:DZ,appendRequestOriginHeader:RZ,responseLocationURL:TZ,requestCurrentURL:wi,setRequestReferrerPolicyOnRedirect:NZ,tryUpgradeRequestToAPotentiallyTrustworthyURL:kZ,createOpaqueTimingInfo:PQ,appendFetchMetadata:FZ,corsCheck:MZ,crossOriginResourcePolicyCheck:xZ,determineRequestsReferrer:LZ,coarsenedSharedCurrentTime:VQ,createDeferredPromise:OZ,isBlobLike:UZ,sameOrigin:LQ,isCancelled:zA,isAborted:ML,isErrorLike:PZ,fullyReadBody:UL,readableStreamClose:VZ,isomorphicEncode:OQ,urlIsLocal:qZ,urlIsHttpHttpsScheme:qQ,urlHasHttpsScheme:GZ}=dr(),{kState:UQ,kHeaders:NQ,kGuard:HZ,kRealm:xL}=ns(),jA=B("assert"),{safelyExtractBody:Ug}=uu(),{redirectStatusSet:PL,nullBodyStatus:VL,safeMethodsSet:YZ,requestBodyHeader:WZ,subresourceSet:JZ,DOMException:Pg}=Ls(),{kHeadersList:JA}=ze(),zZ=B("events"),{Readable:jZ,pipeline:KZ}=B("stream"),{addAbortListener:$Z,isErrored:XZ,isReadable:Vg,nodeMajor:LL,nodeMinor:ZZ}=Qe(),{dataURLProcessor:e7,serializeAMimeType:t7}=Or(),{TransformStream:n7}=B("stream/web"),{getGlobalDispatcher:r7}=qA(),{webidl:i7}=pn(),{STATUS_CODES:s7}=B("http"),o7=["GET","HEAD"],kQ,FQ=globalThis.ReadableStream,qg=class extends zZ{constructor(e){super(),this.dispatcher=e,this.connection=null,this.dump=!1,this.state="ongoing",this.setMaxListeners(21)}terminate(e){this.state==="ongoing"&&(this.state="terminated",this.connection?.destroy(e),this.emit("terminated",e))}abort(e){this.state==="ongoing"&&(this.state="aborted",e||(e=new Pg("The operation was aborted.","AbortError")),this.serializedAbortReason=e,this.connection?.destroy(e),this.emit("terminated",e))}};function a7(t,e={}){i7.argumentLengthCheck(arguments,1,{header:"globalThis.fetch"});let n=OZ(),r;try{r=new QZ(t,e)}catch(h){return n.reject(h),n.promise}let i=r[UQ];if(r.signal.aborted)return MQ(n,i,null,r.signal.reason),n.promise;i.client.globalObject?.constructor?.name==="ServiceWorkerGlobalScope"&&(i.serviceWorkers="none");let o=null,a=null,A=!1,c=null;return $Z(r.signal,()=>{A=!0,jA(c!=null),c.abort(r.signal.reason),MQ(n,i,o,r.signal.reason)}),c=GL({request:i,processResponseEndOfBody:h=>qL(h,"fetch"),processResponse:h=>{if(A)return Promise.resolve();if(h.aborted)return MQ(n,i,o,c.serializedAbortReason),Promise.resolve();if(h.type==="error")return n.reject(Object.assign(new TypeError("fetch failed"),{cause:h.error})),Promise.resolve();o=new BZ,o[UQ]=h,o[xL]=a,o[NQ][JA]=h.headersList,o[NQ][HZ]="immutable",o[NQ][xL]=a,n.resolve(o)},dispatcher:e.dispatcher??r7()}),n.promise}function qL(t,e="other"){if(t.type==="error"&&t.aborted||!t.urlList?.length)return;let n=t.urlList[0],r=t.timingInfo,i=t.cacheState;qQ(n)&&r!==null&&(t.timingAllowPassed||(r=PQ({startTime:r.startTime}),i=""),r.endTime=VQ(),t.timingInfo=r,A7(r,n,e,globalThis,i))}function A7(t,e,n,r,i){(LL>18||LL===18&&ZZ>=2)&&performance.markResourceTiming(t,e.href,n,r,i)}function MQ(t,e,n,r){if(r||(r=new Pg("The operation was aborted.","AbortError")),t.reject(r),e.body!=null&&Vg(e.body?.stream)&&e.body.stream.cancel(r).catch(s=>{if(s.code!=="ERR_INVALID_STATE")throw s}),n==null)return;let i=n[UQ];i.body!=null&&Vg(i.body?.stream)&&i.body.stream.cancel(r).catch(s=>{if(s.code!=="ERR_INVALID_STATE")throw s})}function GL({request:t,processRequestBodyChunkLength:e,processRequestEndOfBody:n,processResponse:r,processResponseEndOfBody:i,processResponseConsumeBody:s,useParallelQueue:o=!1,dispatcher:a}){let A=null,c=!1;t.client!=null&&(A=t.client.globalObject,c=t.client.crossOriginIsolatedCapability);let l=VQ(c),u=PQ({startTime:l}),h={controller:new qg(a),request:t,timingInfo:u,processRequestBodyChunkLength:e,processRequestEndOfBody:n,processResponse:r,processResponseConsumeBody:s,processResponseEndOfBody:i,taskDestination:A,crossOriginIsolatedCapability:c};return jA(!t.body||t.body.stream),t.window==="client"&&(t.window=t.client?.globalObject?.constructor?.name==="Window"?t.client:"no-window"),t.origin==="client"&&(t.origin=t.client?.origin),t.policyContainer==="client"&&(t.client!=null?t.policyContainer=SZ(t.client.policyContainer):t.policyContainer=_Z()),t.headersList.contains("accept")||t.headersList.append("accept","*/*"),t.headersList.contains("accept-language")||t.headersList.append("accept-language","*"),t.priority,JZ.has(t.destination),HL(h).catch(d=>{h.controller.terminate(d)}),h.controller}function HL(t,e=!1){return p(this,null,function*(){let n=t.request,r=null;if(n.localURLsOnly&&!qZ(wi(n))&&(r=Ye("local URLs only")),kZ(n),bZ(n)==="blocked"&&(r=Ye("bad port")),n.referrerPolicy===""&&(n.referrerPolicy=n.policyContainer.referrerPolicy),n.referrer!=="no-referrer"&&(n.referrer=LZ(n)),r===null&&(r=yield p(this,null,function*(){let s=wi(n);return LQ(s,n.url)&&n.responseTainting==="basic"||s.protocol==="data:"||n.mode==="navigate"||n.mode==="websocket"?(n.responseTainting="basic",yield OL(t)):n.mode==="same-origin"?Ye('request mode cannot be "same-origin"'):n.mode==="no-cors"?n.redirect!=="follow"?Ye('redirect mode cannot be "follow" for "no-cors" request'):(n.responseTainting="opaque",yield OL(t)):qQ(wi(n))?(n.responseTainting="cors",yield YL(t)):Ye("URL scheme must be a HTTP(S) scheme")})),e)return r;r.status!==0&&!r.internalResponse&&(n.responseTainting,n.responseTainting==="basic"?r=TQ(r,"basic"):n.responseTainting==="cors"?r=TQ(r,"cors"):n.responseTainting==="opaque"?r=TQ(r,"opaque"):jA(!1));let i=r.status===0?r:r.internalResponse;if(i.urlList.length===0&&i.urlList.push(...n.urlList),n.timingAllowFailed||(r.timingAllowPassed=!0),r.type==="opaque"&&i.status===206&&i.rangeRequested&&!n.headers.contains("range")&&(r=i=Ye()),r.status!==0&&(n.method==="HEAD"||n.method==="CONNECT"||VL.includes(i.status))&&(i.body=null,t.controller.dump=!0),n.integrity){let s=a=>xQ(t,Ye(a));if(n.responseTainting==="opaque"||r.body==null){s(r.error);return}let o=a=>{if(!vZ(a,n.integrity)){s("integrity mismatch");return}r.body=Ug(a)[0],xQ(t,r)};yield UL(r.body,o,s)}else xQ(t,r)})}function OL(t){if(zA(t)&&t.request.redirectCount===0)return Promise.resolve(Lg(t));let{request:e}=t,{protocol:n}=wi(e);switch(n){case"about:":return Promise.resolve(Ye("about scheme is not supported"));case"blob:":{kQ||(kQ=B("buffer").resolveObjectURL);let r=wi(e);if(r.search.length!==0)return Promise.resolve(Ye("NetworkError when attempting to fetch resource."));let i=kQ(r.toString());if(e.method!=="GET"||!UZ(i))return Promise.resolve(Ye("invalid method"));let s=Ug(i),o=s[0],a=OQ(`${o.length}`),A=s[1]??"",c=Og({statusText:"OK",headersList:[["content-length",{name:"Content-Length",value:a}],["content-type",{name:"Content-Type",value:A}]]});return c.body=o,Promise.resolve(c)}case"data:":{let r=wi(e),i=e7(r);if(i==="failure")return Promise.resolve(Ye("failed to fetch the data URL"));let s=t7(i.mimeType);return Promise.resolve(Og({statusText:"OK",headersList:[["content-type",{name:"Content-Type",value:s}]],body:Ug(i.body)[0]}))}case"file:":return Promise.resolve(Ye("not implemented... yet..."));case"http:":case"https:":return YL(t).catch(r=>Ye(r));default:return Promise.resolve(Ye("unknown scheme"))}}function c7(t,e){t.request.done=!0,t.processResponseDone!=null&&queueMicrotask(()=>t.processResponseDone(e))}function xQ(t,e){e.type==="error"&&(e.urlList=[t.request.urlList[0]],e.timingInfo=PQ({startTime:t.timingInfo.startTime}));let n=()=>{t.request.done=!0,t.processResponseEndOfBody!=null&&queueMicrotask(()=>t.processResponseEndOfBody(e))};if(t.processResponse!=null&&queueMicrotask(()=>t.processResponse(e)),e.body==null)n();else{let r=(s,o)=>{o.enqueue(s)},i=new n7({start(){},transform:r,flush:n},{size(){return 1}},{size(){return 1}});e.body={stream:e.body.stream.pipeThrough(i)}}if(t.processResponseConsumeBody!=null){let r=s=>t.processResponseConsumeBody(e,s),i=s=>t.processResponseConsumeBody(e,s);if(e.body==null)queueMicrotask(()=>r(null));else return UL(e.body,r,i);return Promise.resolve()}}function YL(t){return p(this,null,function*(){let e=t.request,n=null,r=null,i=t.timingInfo;if(e.serviceWorkers,n===null){if(e.redirect==="follow"&&(e.serviceWorkers="none"),r=n=yield WL(t),e.responseTainting==="cors"&&MZ(e,n)==="failure")return Ye("cors failure");DZ(e,n)==="failure"&&(e.timingAllowFailed=!0)}return(e.responseTainting==="opaque"||n.type==="opaque")&&xZ(e.origin,e.client,e.destination,r)==="blocked"?Ye("blocked"):(PL.has(r.status)&&(e.redirect!=="manual"&&t.controller.connection.destroy(),e.redirect==="error"?n=Ye("unexpected redirect"):e.redirect==="manual"?n=r:e.redirect==="follow"?n=yield l7(t,n):jA(!1)),n.timingInfo=i,n)})}function l7(t,e){let n=t.request,r=e.internalResponse?e.internalResponse:e,i;try{if(i=TZ(r,wi(n).hash),i==null)return e}catch(o){return Promise.resolve(Ye(o))}if(!qQ(i))return Promise.resolve(Ye("URL scheme must be a HTTP(S) scheme"));if(n.redirectCount===20)return Promise.resolve(Ye("redirect count exceeded"));if(n.redirectCount+=1,n.mode==="cors"&&(i.username||i.password)&&!LQ(n,i))return Promise.resolve(Ye('cross origin not allowed for request mode "cors"'));if(n.responseTainting==="cors"&&(i.username||i.password))return Promise.resolve(Ye('URL cannot contain credentials for request mode "cors"'));if(r.status!==303&&n.body!=null&&n.body.source==null)return Promise.resolve(Ye());if([301,302].includes(r.status)&&n.method==="POST"||r.status===303&&!o7.includes(n.method)){n.method="GET",n.body=null;for(let o of WZ)n.headersList.delete(o)}LQ(wi(n),i)||(n.headersList.delete("authorization"),n.headersList.delete("proxy-authorization",!0),n.headersList.delete("cookie"),n.headersList.delete("host")),n.body!=null&&(jA(n.body.source!=null),n.body=Ug(n.body.source)[0]);let s=t.timingInfo;return s.redirectEndTime=s.postRedirectStartTime=VQ(t.crossOriginIsolatedCapability),s.redirectStartTime===0&&(s.redirectStartTime=s.startTime),n.urlList.push(i),NZ(n,r),HL(t,!0)}function WL(t,e=!1,n=!1){return p(this,null,function*(){let r=t.request,i=null,s=null,o=null,a=null,A=!1;r.window==="no-window"&&r.redirect==="error"?(i=t,s=r):(s=wZ(r),i=k({},t),i.request=s);let c=r.credentials==="include"||r.credentials==="same-origin"&&r.responseTainting==="basic",l=s.body?s.body.length:null,u=null;if(s.body==null&&["POST","PUT"].includes(s.method)&&(u="0"),l!=null&&(u=OQ(`${l}`)),u!=null&&s.headersList.append("content-length",u),l!=null&&s.keepalive,s.referrer instanceof URL&&s.headersList.append("referer",OQ(s.referrer.href)),RZ(s),FZ(s),s.headersList.contains("user-agent")||s.headersList.append("user-agent",typeof esbuildDetection>"u"?"undici":"node"),s.cache==="default"&&(s.headersList.contains("if-modified-since")||s.headersList.contains("if-none-match")||s.headersList.contains("if-unmodified-since")||s.headersList.contains("if-match")||s.headersList.contains("if-range"))&&(s.cache="no-store"),s.cache==="no-cache"&&!s.preventNoCacheCacheControlHeaderModification&&!s.headersList.contains("cache-control")&&s.headersList.append("cache-control","max-age=0"),(s.cache==="no-store"||s.cache==="reload")&&(s.headersList.contains("pragma")||s.headersList.append("pragma","no-cache"),s.headersList.contains("cache-control")||s.headersList.append("cache-control","no-cache")),s.headersList.contains("range")&&s.headersList.append("accept-encoding","identity"),s.headersList.contains("accept-encoding")||(GZ(wi(s))?s.headersList.append("accept-encoding","br, gzip, deflate"):s.headersList.append("accept-encoding","gzip, deflate")),s.headersList.delete("host"),a==null&&(s.cache="no-store"),s.mode!=="no-store"&&s.mode,o==null){if(s.mode==="only-if-cached")return Ye("only if cached");let h=yield u7(i,c,n);!YZ.has(s.method)&&h.status>=200&&h.status<=399,A&&h.status,o==null&&(o=h)}if(o.urlList=[...s.urlList],s.headersList.contains("range")&&(o.rangeRequested=!0),o.requestIncludesCredentials=c,o.status===407)return r.window==="no-window"?Ye():zA(t)?Lg(t):Ye("proxy authentication required");if(o.status===421&&!n&&(r.body==null||r.body.source!=null)){if(zA(t))return Lg(t);t.controller.connection.destroy(),o=yield WL(t,e,!0)}return o})}function u7(t,e=!1,n=!1){return p(this,null,function*(){jA(!t.controller.connection||t.controller.connection.destroyed),t.controller.connection={abort:null,destroyed:!1,destroy(E){this.destroyed||(this.destroyed=!0,this.abort?.(E??new Pg("The operation was aborted.","AbortError")))}};let r=t.request,i=null,s=t.timingInfo;null==null&&(r.cache="no-store");let a=n?"yes":"no";r.mode;let A=null;if(r.body==null&&t.processRequestEndOfBody)queueMicrotask(()=>t.processRequestEndOfBody());else if(r.body!=null){let E=function(I){return oi(this,null,function*(){zA(t)||(yield I,t.processRequestBodyChunkLength?.(I.byteLength))})},C=()=>{zA(t)||t.processRequestEndOfBody&&t.processRequestEndOfBody()},y=I=>{zA(t)||(I.name==="AbortError"?t.controller.abort():t.controller.terminate(I))};A=function(){return oi(this,null,function*(){try{try{for(var I=Nn(r.body.stream),S,v,_;S=!(v=yield new cA(I.next())).done;S=!1){let D=v.value;yield*Mo(E(D))}}catch{_=[v]}finally{try{S&&(v=I.return)&&(yield new cA(v.call(I)))}finally{if(_)throw _[0]}}C()}catch(D){y(D)}})}()}try{let{body:E,status:C,statusText:y,headersList:I,socket:S}=yield d({body:A});if(S)i=Og({status:C,statusText:y,headersList:I,socket:S});else{let v=E[Symbol.asyncIterator]();t.controller.next=()=>v.next(),i=Og({status:C,statusText:y,headersList:I})}}catch(E){return E.name==="AbortError"?(t.controller.connection.destroy(),Lg(t,E)):Ye(E)}let c=()=>{t.controller.resume()},l=E=>{t.controller.abort(E)};FQ||(FQ=B("stream/web").ReadableStream);let u=new FQ({start(E){return p(this,null,function*(){t.controller.controller=E})},pull(E){return p(this,null,function*(){yield c(E)})},cancel(E){return p(this,null,function*(){yield l(E)})}},{highWaterMark:0,size(){return 1}});i.body={stream:u},t.controller.on("terminated",h),t.controller.resume=()=>p(this,null,function*(){for(;;){let E,C;try{let{done:y,value:I}=yield t.controller.next();if(ML(t))break;E=y?void 0:I}catch(y){t.controller.ended&&!s.encodedBodySize?E=void 0:(E=y,C=!0)}if(E===void 0){VZ(t.controller.controller),c7(t,i);return}if(s.decodedBodySize+=E?.byteLength??0,C){t.controller.terminate(E);return}if(t.controller.controller.enqueue(new Uint8Array(E)),XZ(u)){t.controller.terminate();return}if(!t.controller.controller.desiredSize)return}});function h(E){ML(t)?(i.aborted=!0,Vg(u)&&t.controller.controller.error(t.controller.serializedAbortReason)):Vg(u)&&t.controller.controller.error(new TypeError("terminated",{cause:PZ(E)?E:void 0})),t.controller.connection.destroy()}return i;function d(C){return p(this,arguments,function*({body:E}){let y=wi(r),I=t.controller.dispatcher;return new Promise((S,v)=>I.dispatch({path:y.pathname+y.search,origin:y.origin,method:r.method,body:t.controller.dispatcher.isMockActive?r.body&&(r.body.source||r.body.stream):E,headers:r.headersList.entries,maxRedirections:0,upgrade:r.mode==="websocket"?"websocket":void 0},{body:null,abort:null,onConnect(_){let{connection:D}=t.controller;D.destroyed?_(new Pg("The operation was aborted.","AbortError")):(t.controller.on("terminated",_),this.abort=D.abort=_)},onHeaders(_,D,W,de){if(_<200)return;let Ce=[],le="",Q=new FL;if(Array.isArray(D))for(let g=0;g<D.length;g+=2){let F=D[g+0].toString("latin1"),J=D[g+1].toString("latin1");F.toLowerCase()==="content-encoding"?Ce=J.toLowerCase().split(",").map(Se=>Se.trim()):F.toLowerCase()==="location"&&(le=J),Q[JA].append(F,J)}else{let g=Object.keys(D);for(let F of g){let J=D[F];F.toLowerCase()==="content-encoding"?Ce=J.toLowerCase().split(",").map(Se=>Se.trim()).reverse():F.toLowerCase()==="location"&&(le=J),Q[JA].append(F,J)}}this.body=new jZ({read:W});let ne=[],w=r.redirect==="follow"&&le&&PL.has(_);if(r.method!=="HEAD"&&r.method!=="CONNECT"&&!VL.includes(_)&&!w)for(let g of Ce)if(g==="x-gzip"||g==="gzip")ne.push(Lu.createGunzip({flush:Lu.constants.Z_SYNC_FLUSH,finishFlush:Lu.constants.Z_SYNC_FLUSH}));else if(g==="deflate")ne.push(Lu.createInflate());else if(g==="br")ne.push(Lu.createBrotliDecompress());else{ne.length=0;break}return S({status:_,statusText:de,headersList:Q[JA],body:ne.length?KZ(this.body,...ne,()=>{}):this.body.on("error",()=>{})}),!0},onData(_){if(t.controller.dump)return;let D=_;return s.encodedBodySize+=D.byteLength,this.body.push(D)},onComplete(){this.abort&&t.controller.off("terminated",this.abort),t.controller.ended=!0,this.body.push(null)},onError(_){this.abort&&t.controller.off("terminated",this.abort),this.body?.destroy(_),t.controller.terminate(_),v(_)},onUpgrade(_,D,W){if(_!==101)return;let de=new FL;for(let Ce=0;Ce<D.length;Ce+=2){let le=D[Ce+0].toString("latin1"),Q=D[Ce+1].toString("latin1");de[JA].append(le,Q)}return S({status:_,statusText:s7[_],headersList:de[JA],socket:W}),!0}}))})}})}JL.exports={fetch:a7,Fetch:qg,fetching:GL,finalizeAndReportTiming:qL}});var GQ=m((Cwe,zL)=>{"use strict";zL.exports={kState:Symbol("FileReader state"),kResult:Symbol("FileReader result"),kError:Symbol("FileReader error"),kLastProgressEventFired:Symbol("FileReader last progress event fired timestamp"),kEvents:Symbol("FileReader events"),kAborted:Symbol("FileReader aborted")}});var KL=m((Iwe,jL)=>{"use strict";var{webidl:tr}=pn(),Hg=Symbol("ProgressEvent state"),HQ=class t extends Event{constructor(e,n={}){e=tr.converters.DOMString(e),n=tr.converters.ProgressEventInit(n??{}),super(e,n),this[Hg]={lengthComputable:n.lengthComputable,loaded:n.loaded,total:n.total}}get lengthComputable(){return tr.brandCheck(this,t),this[Hg].lengthComputable}get loaded(){return tr.brandCheck(this,t),this[Hg].loaded}get total(){return tr.brandCheck(this,t),this[Hg].total}};tr.converters.ProgressEventInit=tr.dictionaryConverter([{key:"lengthComputable",converter:tr.converters.boolean,defaultValue:!1},{key:"loaded",converter:tr.converters["unsigned long long"],defaultValue:0},{key:"total",converter:tr.converters["unsigned long long"],defaultValue:0},{key:"bubbles",converter:tr.converters.boolean,defaultValue:!1},{key:"cancelable",converter:tr.converters.boolean,defaultValue:!1},{key:"composed",converter:tr.converters.boolean,defaultValue:!1}]);jL.exports={ProgressEvent:HQ}});var XL=m((ywe,$L)=>{"use strict";function h7(t){if(!t)return"failure";switch(t.trim().toLowerCase()){case"unicode-1-1-utf-8":case"unicode11utf8":case"unicode20utf8":case"utf-8":case"utf8":case"x-unicode20utf8":return"UTF-8";case"866":case"cp866":case"csibm866":case"ibm866":return"IBM866";case"csisolatin2":case"iso-8859-2":case"iso-ir-101":case"iso8859-2":case"iso88592":case"iso_8859-2":case"iso_8859-2:1987":case"l2":case"latin2":return"ISO-8859-2";case"csisolatin3":case"iso-8859-3":case"iso-ir-109":case"iso8859-3":case"iso88593":case"iso_8859-3":case"iso_8859-3:1988":case"l3":case"latin3":return"ISO-8859-3";case"csisolatin4":case"iso-8859-4":case"iso-ir-110":case"iso8859-4":case"iso88594":case"iso_8859-4":case"iso_8859-4:1988":case"l4":case"latin4":return"ISO-8859-4";case"csisolatincyrillic":case"cyrillic":case"iso-8859-5":case"iso-ir-144":case"iso8859-5":case"iso88595":case"iso_8859-5":case"iso_8859-5:1988":return"ISO-8859-5";case"arabic":case"asmo-708":case"csiso88596e":case"csiso88596i":case"csisolatinarabic":case"ecma-114":case"iso-8859-6":case"iso-8859-6-e":case"iso-8859-6-i":case"iso-ir-127":case"iso8859-6":case"iso88596":case"iso_8859-6":case"iso_8859-6:1987":return"ISO-8859-6";case"csisolatingreek":case"ecma-118":case"elot_928":case"greek":case"greek8":case"iso-8859-7":case"iso-ir-126":case"iso8859-7":case"iso88597":case"iso_8859-7":case"iso_8859-7:1987":case"sun_eu_greek":return"ISO-8859-7";case"csiso88598e":case"csisolatinhebrew":case"hebrew":case"iso-8859-8":case"iso-8859-8-e":case"iso-ir-138":case"iso8859-8":case"iso88598":case"iso_8859-8":case"iso_8859-8:1988":case"visual":return"ISO-8859-8";case"csiso88598i":case"iso-8859-8-i":case"logical":return"ISO-8859-8-I";case"csisolatin6":case"iso-8859-10":case"iso-ir-157":case"iso8859-10":case"iso885910":case"l6":case"latin6":return"ISO-8859-10";case"iso-8859-13":case"iso8859-13":case"iso885913":return"ISO-8859-13";case"iso-8859-14":case"iso8859-14":case"iso885914":return"ISO-8859-14";case"csisolatin9":case"iso-8859-15":case"iso8859-15":case"iso885915":case"iso_8859-15":case"l9":return"ISO-8859-15";case"iso-8859-16":return"ISO-8859-16";case"cskoi8r":case"koi":case"koi8":case"koi8-r":case"koi8_r":return"KOI8-R";case"koi8-ru":case"koi8-u":return"KOI8-U";case"csmacintosh":case"mac":case"macintosh":case"x-mac-roman":return"macintosh";case"iso-8859-11":case"iso8859-11":case"iso885911":case"tis-620":case"windows-874":return"windows-874";case"cp1250":case"windows-1250":case"x-cp1250":return"windows-1250";case"cp1251":case"windows-1251":case"x-cp1251":return"windows-1251";case"ansi_x3.4-1968":case"ascii":case"cp1252":case"cp819":case"csisolatin1":case"ibm819":case"iso-8859-1":case"iso-ir-100":case"iso8859-1":case"iso88591":case"iso_8859-1":case"iso_8859-1:1987":case"l1":case"latin1":case"us-ascii":case"windows-1252":case"x-cp1252":return"windows-1252";case"cp1253":case"windows-1253":case"x-cp1253":return"windows-1253";case"cp1254":case"csisolatin5":case"iso-8859-9":case"iso-ir-148":case"iso8859-9":case"iso88599":case"iso_8859-9":case"iso_8859-9:1989":case"l5":case"latin5":case"windows-1254":case"x-cp1254":return"windows-1254";case"cp1255":case"windows-1255":case"x-cp1255":return"windows-1255";case"cp1256":case"windows-1256":case"x-cp1256":return"windows-1256";case"cp1257":case"windows-1257":case"x-cp1257":return"windows-1257";case"cp1258":case"windows-1258":case"x-cp1258":return"windows-1258";case"x-mac-cyrillic":case"x-mac-ukrainian":return"x-mac-cyrillic";case"chinese":case"csgb2312":case"csiso58gb231280":case"gb2312":case"gb_2312":case"gb_2312-80":case"gbk":case"iso-ir-58":case"x-gbk":return"GBK";case"gb18030":return"gb18030";case"big5":case"big5-hkscs":case"cn-big5":case"csbig5":case"x-x-big5":return"Big5";case"cseucpkdfmtjapanese":case"euc-jp":case"x-euc-jp":return"EUC-JP";case"csiso2022jp":case"iso-2022-jp":return"ISO-2022-JP";case"csshiftjis":case"ms932":case"ms_kanji":case"shift-jis":case"shift_jis":case"sjis":case"windows-31j":case"x-sjis":return"Shift_JIS";case"cseuckr":case"csksc56011987":case"euc-kr":case"iso-ir-149":case"korean":case"ks_c_5601-1987":case"ks_c_5601-1989":case"ksc5601":case"ksc_5601":case"windows-949":return"EUC-KR";case"csiso2022kr":case"hz-gb-2312":case"iso-2022-cn":case"iso-2022-cn-ext":case"iso-2022-kr":case"replacement":return"replacement";case"unicodefffe":case"utf-16be":return"UTF-16BE";case"csunicode":case"iso-10646-ucs-2":case"ucs-2":case"unicode":case"unicodefeff":case"utf-16":case"utf-16le":return"UTF-16LE";case"x-user-defined":return"x-user-defined";default:return"failure"}}$L.exports={getEncoding:h7}});var oO=m((Bwe,sO)=>{"use strict";var{kState:KA,kError:YQ,kResult:ZL,kAborted:Ou,kLastProgressEventFired:WQ}=GQ(),{ProgressEvent:d7}=KL(),{getEncoding:eO}=XL(),{DOMException:f7}=Ls(),{serializeAMimeType:g7,parseMIMEType:tO}=Or(),{types:p7}=B("util"),{StringDecoder:nO}=B("string_decoder"),{btoa:rO}=B("buffer"),E7={enumerable:!0,writable:!1,configurable:!1};function m7(t,e,n,r){if(t[KA]==="loading")throw new f7("Invalid state","InvalidStateError");t[KA]="loading",t[ZL]=null,t[YQ]=null;let s=e.stream().getReader(),o=[],a=s.read(),A=!0;p(this,null,function*(){for(;!t[Ou];)try{let{done:c,value:l}=yield a;if(A&&!t[Ou]&&queueMicrotask(()=>{Ys("loadstart",t)}),A=!1,!c&&p7.isUint8Array(l))o.push(l),(t[WQ]===void 0||Date.now()-t[WQ]>=50)&&!t[Ou]&&(t[WQ]=Date.now(),queueMicrotask(()=>{Ys("progress",t)})),a=s.read();else if(c){queueMicrotask(()=>{t[KA]="done";try{let u=C7(o,n,e.type,r);if(t[Ou])return;t[ZL]=u,Ys("load",t)}catch(u){t[YQ]=u,Ys("error",t)}t[KA]!=="loading"&&Ys("loadend",t)});break}}catch(c){if(t[Ou])return;queueMicrotask(()=>{t[KA]="done",t[YQ]=c,Ys("error",t),t[KA]!=="loading"&&Ys("loadend",t)});break}})}function Ys(t,e){let n=new d7(t,{bubbles:!1,cancelable:!1});e.dispatchEvent(n)}function C7(t,e,n,r){switch(e){case"DataURL":{let i="data:",s=tO(n||"application/octet-stream");s!=="failure"&&(i+=g7(s)),i+=";base64,";let o=new nO("latin1");for(let a of t)i+=rO(o.write(a));return i+=rO(o.end()),i}case"Text":{let i="failure";if(r&&(i=eO(r)),i==="failure"&&n){let s=tO(n);s!=="failure"&&(i=eO(s.parameters.get("charset")))}return i==="failure"&&(i="UTF-8"),I7(t,i)}case"ArrayBuffer":return iO(t).buffer;case"BinaryString":{let i="",s=new nO("latin1");for(let o of t)i+=s.write(o);return i+=s.end(),i}}}function I7(t,e){let n=iO(t),r=y7(n),i=0;r!==null&&(e=r,i=r==="UTF-8"?3:2);let s=n.slice(i);return new TextDecoder(e).decode(s)}function y7(t){let[e,n,r]=t;return e===239&&n===187&&r===191?"UTF-8":e===254&&n===255?"UTF-16BE":e===255&&n===254?"UTF-16LE":null}function iO(t){let e=t.reduce((r,i)=>r+i.byteLength,0),n=0;return t.reduce((r,i)=>(r.set(i,n),n+=i.byteLength,r),new Uint8Array(e))}sO.exports={staticPropertyDescriptors:E7,readOperation:m7,fireAProgressEvent:Ys}});var lO=m((wwe,cO)=>{"use strict";var{staticPropertyDescriptors:$A,readOperation:Yg,fireAProgressEvent:aO}=oO(),{kState:la,kError:AO,kResult:Wg,kEvents:ke,kAborted:B7}=GQ(),{webidl:Pe}=pn(),{kEnumerableProperty:On}=Qe(),qr=class t extends EventTarget{constructor(){super(),this[la]="empty",this[Wg]=null,this[AO]=null,this[ke]={loadend:null,error:null,abort:null,load:null,progress:null,loadstart:null}}readAsArrayBuffer(e){Pe.brandCheck(this,t),Pe.argumentLengthCheck(arguments,1,{header:"FileReader.readAsArrayBuffer"}),e=Pe.converters.Blob(e,{strict:!1}),Yg(this,e,"ArrayBuffer")}readAsBinaryString(e){Pe.brandCheck(this,t),Pe.argumentLengthCheck(arguments,1,{header:"FileReader.readAsBinaryString"}),e=Pe.converters.Blob(e,{strict:!1}),Yg(this,e,"BinaryString")}readAsText(e,n=void 0){Pe.brandCheck(this,t),Pe.argumentLengthCheck(arguments,1,{header:"FileReader.readAsText"}),e=Pe.converters.Blob(e,{strict:!1}),n!==void 0&&(n=Pe.converters.DOMString(n)),Yg(this,e,"Text",n)}readAsDataURL(e){Pe.brandCheck(this,t),Pe.argumentLengthCheck(arguments,1,{header:"FileReader.readAsDataURL"}),e=Pe.converters.Blob(e,{strict:!1}),Yg(this,e,"DataURL")}abort(){if(this[la]==="empty"||this[la]==="done"){this[Wg]=null;return}this[la]==="loading"&&(this[la]="done",this[Wg]=null),this[B7]=!0,aO("abort",this),this[la]!=="loading"&&aO("loadend",this)}get readyState(){switch(Pe.brandCheck(this,t),this[la]){case"empty":return this.EMPTY;case"loading":return this.LOADING;case"done":return this.DONE}}get result(){return Pe.brandCheck(this,t),this[Wg]}get error(){return Pe.brandCheck(this,t),this[AO]}get onloadend(){return Pe.brandCheck(this,t),this[ke].loadend}set onloadend(e){Pe.brandCheck(this,t),this[ke].loadend&&this.removeEventListener("loadend",this[ke].loadend),typeof e=="function"?(this[ke].loadend=e,this.addEventListener("loadend",e)):this[ke].loadend=null}get onerror(){return Pe.brandCheck(this,t),this[ke].error}set onerror(e){Pe.brandCheck(this,t),this[ke].error&&this.removeEventListener("error",this[ke].error),typeof e=="function"?(this[ke].error=e,this.addEventListener("error",e)):this[ke].error=null}get onloadstart(){return Pe.brandCheck(this,t),this[ke].loadstart}set onloadstart(e){Pe.brandCheck(this,t),this[ke].loadstart&&this.removeEventListener("loadstart",this[ke].loadstart),typeof e=="function"?(this[ke].loadstart=e,this.addEventListener("loadstart",e)):this[ke].loadstart=null}get onprogress(){return Pe.brandCheck(this,t),this[ke].progress}set onprogress(e){Pe.brandCheck(this,t),this[ke].progress&&this.removeEventListener("progress",this[ke].progress),typeof e=="function"?(this[ke].progress=e,this.addEventListener("progress",e)):this[ke].progress=null}get onload(){return Pe.brandCheck(this,t),this[ke].load}set onload(e){Pe.brandCheck(this,t),this[ke].load&&this.removeEventListener("load",this[ke].load),typeof e=="function"?(this[ke].load=e,this.addEventListener("load",e)):this[ke].load=null}get onabort(){return Pe.brandCheck(this,t),this[ke].abort}set onabort(e){Pe.brandCheck(this,t),this[ke].abort&&this.removeEventListener("abort",this[ke].abort),typeof e=="function"?(this[ke].abort=e,this.addEventListener("abort",e)):this[ke].abort=null}};qr.EMPTY=qr.prototype.EMPTY=0;qr.LOADING=qr.prototype.LOADING=1;qr.DONE=qr.prototype.DONE=2;Object.defineProperties(qr.prototype,{EMPTY:$A,LOADING:$A,DONE:$A,readAsArrayBuffer:On,readAsBinaryString:On,readAsText:On,readAsDataURL:On,abort:On,readyState:On,result:On,error:On,onloadstart:On,onprogress:On,onload:On,onabort:On,onerror:On,onloadend:On,[Symbol.toStringTag]:{value:"FileReader",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(qr,{EMPTY:$A,LOADING:$A,DONE:$A});cO.exports={FileReader:qr}});var Jg=m((vwe,uO)=>{"use strict";uO.exports={kConstruct:ze().kConstruct}});var fO=m((_we,dO)=>{"use strict";var Q7=B("assert"),{URLSerializer:hO}=Or(),{isValidHeaderName:w7}=dr();function v7(t,e,n=!1){let r=hO(t,n),i=hO(e,n);return r===i}function _7(t){Q7(t!==null);let e=[];for(let n of t.split(",")){if(n=n.trim(),n.length){if(!w7(n))continue}else continue;e.push(n)}return e}dO.exports={urlEquals:v7,fieldValues:_7}});var IO=m((Swe,CO)=>{"use strict";var{kConstruct:S7}=Jg(),{urlEquals:b7,fieldValues:JQ}=fO(),{kEnumerableProperty:ua,isDisturbed:D7}=Qe(),{kHeadersList:gO}=ze(),{webidl:Z}=pn(),{Response:EO,cloneResponse:R7}=Tg(),{Request:vi}=xu(),{kState:yn,kHeaders:zg,kGuard:pO,kRealm:T7}=ns(),{fetching:N7}=Gg(),{urlIsHttpHttpsScheme:jg,createDeferredPromise:XA,readAllBytes:k7}=dr(),zQ=B("assert"),{getGlobalDispatcher:F7}=qA(),Kg=class t{#e;constructor(){arguments[0]!==S7&&Z.illegalConstructor(),this.#e=arguments[1]}match(r){return p(this,arguments,function*(e,n={}){Z.brandCheck(this,t),Z.argumentLengthCheck(arguments,1,{header:"Cache.match"}),e=Z.converters.RequestInfo(e),n=Z.converters.CacheQueryOptions(n);let i=yield this.matchAll(e,n);if(i.length!==0)return i[0]})}matchAll(){return p(this,arguments,function*(e=void 0,n={}){Z.brandCheck(this,t),e!==void 0&&(e=Z.converters.RequestInfo(e)),n=Z.converters.CacheQueryOptions(n);let r=null;if(e!==void 0)if(e instanceof vi){if(r=e[yn],r.method!=="GET"&&!n.ignoreMethod)return[]}else typeof e=="string"&&(r=new vi(e)[yn]);let i=[];if(e===void 0)for(let o of this.#e)i.push(o[1]);else{let o=this.#r(r,n);for(let a of o)i.push(a[1])}let s=[];for(let o of i){let a=new EO(o.body?.source??null),A=a[yn].body;a[yn]=o,a[yn].body=A,a[zg][gO]=o.headersList,a[zg][pO]="immutable",s.push(a)}return Object.freeze(s)})}add(n){return p(this,arguments,function*(e){Z.brandCheck(this,t),Z.argumentLengthCheck(arguments,1,{header:"Cache.add"}),e=Z.converters.RequestInfo(e);let r=[e];return yield this.addAll(r)})}addAll(n){return p(this,arguments,function*(e){Z.brandCheck(this,t),Z.argumentLengthCheck(arguments,1,{header:"Cache.addAll"}),e=Z.converters["sequence<RequestInfo>"](e);let r=[],i=[];for(let h of e){if(typeof h=="string")continue;let d=h[yn];if(!jg(d.url)||d.method!=="GET")throw Z.errors.exception({header:"Cache.addAll",message:"Expected http/s scheme when method is not GET."})}let s=[];for(let h of e){let d=new vi(h)[yn];if(!jg(d.url))throw Z.errors.exception({header:"Cache.addAll",message:"Expected http/s scheme."});d.initiator="fetch",d.destination="subresource",i.push(d);let f=XA();s.push(N7({request:d,dispatcher:F7(),processResponse(E){if(E.type==="error"||E.status===206||E.status<200||E.status>299)f.reject(Z.errors.exception({header:"Cache.addAll",message:"Received an invalid status code or the request failed."}));else if(E.headersList.contains("vary")){let C=JQ(E.headersList.get("vary"));for(let y of C)if(y==="*"){f.reject(Z.errors.exception({header:"Cache.addAll",message:"invalid vary field value"}));for(let I of s)I.abort();return}}},processResponseEndOfBody(E){if(E.aborted){f.reject(new DOMException("aborted","AbortError"));return}f.resolve(E)}})),r.push(f.promise)}let a=yield Promise.all(r),A=[],c=0;for(let h of a){let d={type:"put",request:i[c],response:h};A.push(d),c++}let l=XA(),u=null;try{this.#n(A)}catch(h){u=h}return queueMicrotask(()=>{u===null?l.resolve(void 0):l.reject(u)}),l.promise})}put(r,i){return p(this,arguments,function*(e,n){Z.brandCheck(this,t),Z.argumentLengthCheck(arguments,2,{header:"Cache.put"}),e=Z.converters.RequestInfo(e),n=Z.converters.Response(n);let s=null;if(e instanceof vi?s=e[yn]:s=new vi(e)[yn],!jg(s.url)||s.method!=="GET")throw Z.errors.exception({header:"Cache.put",message:"Expected an http/s scheme when method is not GET"});let o=n[yn];if(o.status===206)throw Z.errors.exception({header:"Cache.put",message:"Got 206 status"});if(o.headersList.contains("vary")){let f=JQ(o.headersList.get("vary"));for(let E of f)if(E==="*")throw Z.errors.exception({header:"Cache.put",message:"Got * vary field value"})}if(o.body&&(D7(o.body.stream)||o.body.stream.locked))throw Z.errors.exception({header:"Cache.put",message:"Response body is locked or disturbed"});let a=R7(o),A=XA();if(o.body!=null){let E=o.body.stream.getReader();k7(E).then(A.resolve,A.reject)}else A.resolve(void 0);let c=[],l={type:"put",request:s,response:a};c.push(l);let u=yield A.promise;a.body!=null&&(a.body.source=u);let h=XA(),d=null;try{this.#n(c)}catch(f){d=f}return queueMicrotask(()=>{d===null?h.resolve():h.reject(d)}),h.promise})}delete(r){return p(this,arguments,function*(e,n={}){Z.brandCheck(this,t),Z.argumentLengthCheck(arguments,1,{header:"Cache.delete"}),e=Z.converters.RequestInfo(e),n=Z.converters.CacheQueryOptions(n);let i=null;if(e instanceof vi){if(i=e[yn],i.method!=="GET"&&!n.ignoreMethod)return!1}else zQ(typeof e=="string"),i=new vi(e)[yn];let s=[],o={type:"delete",request:i,options:n};s.push(o);let a=XA(),A=null,c;try{c=this.#n(s)}catch(l){A=l}return queueMicrotask(()=>{A===null?a.resolve(!!c?.length):a.reject(A)}),a.promise})}keys(){return p(this,arguments,function*(e=void 0,n={}){Z.brandCheck(this,t),e!==void 0&&(e=Z.converters.RequestInfo(e)),n=Z.converters.CacheQueryOptions(n);let r=null;if(e!==void 0)if(e instanceof vi){if(r=e[yn],r.method!=="GET"&&!n.ignoreMethod)return[]}else typeof e=="string"&&(r=new vi(e)[yn]);let i=XA(),s=[];if(e===void 0)for(let o of this.#e)s.push(o[0]);else{let o=this.#r(r,n);for(let a of o)s.push(a[0])}return queueMicrotask(()=>{let o=[];for(let a of s){let A=new vi("https://a");A[yn]=a,A[zg][gO]=a.headersList,A[zg][pO]="immutable",A[T7]=a.client,o.push(A)}i.resolve(Object.freeze(o))}),i.promise})}#n(e){let n=this.#e,r=[...n],i=[],s=[];try{for(let o of e){if(o.type!=="delete"&&o.type!=="put")throw Z.errors.exception({header:"Cache.#batchCacheOperations",message:'operation type does not match "delete" or "put"'});if(o.type==="delete"&&o.response!=null)throw Z.errors.exception({header:"Cache.#batchCacheOperations",message:"delete operation should not have an associated response"});if(this.#r(o.request,o.options,i).length)throw new DOMException("???","InvalidStateError");let a;if(o.type==="delete"){if(a=this.#r(o.request,o.options),a.length===0)return[];for(let A of a){let c=n.indexOf(A);zQ(c!==-1),n.splice(c,1)}}else if(o.type==="put"){if(o.response==null)throw Z.errors.exception({header:"Cache.#batchCacheOperations",message:"put operation should have an associated response"});let A=o.request;if(!jg(A.url))throw Z.errors.exception({header:"Cache.#batchCacheOperations",message:"expected http or https scheme"});if(A.method!=="GET")throw Z.errors.exception({header:"Cache.#batchCacheOperations",message:"not get method"});if(o.options!=null)throw Z.errors.exception({header:"Cache.#batchCacheOperations",message:"options must not be defined"});a=this.#r(o.request);for(let c of a){let l=n.indexOf(c);zQ(l!==-1),n.splice(l,1)}n.push([o.request,o.response]),i.push([o.request,o.response])}s.push([o.request,o.response])}return s}catch(o){throw this.#e.length=0,this.#e=r,o}}#r(e,n,r){let i=[],s=r??this.#e;for(let o of s){let[a,A]=o;this.#t(e,a,A,n)&&i.push(o)}return i}#t(e,n,r=null,i){let s=new URL(e.url),o=new URL(n.url);if(i?.ignoreSearch&&(o.search="",s.search=""),!b7(s,o,!0))return!1;if(r==null||i?.ignoreVary||!r.headersList.contains("vary"))return!0;let a=JQ(r.headersList.get("vary"));for(let A of a){if(A==="*")return!1;let c=n.headersList.get(A),l=e.headersList.get(A);if(c!==l)return!1}return!0}};Object.defineProperties(Kg.prototype,{[Symbol.toStringTag]:{value:"Cache",configurable:!0},match:ua,matchAll:ua,add:ua,addAll:ua,put:ua,delete:ua,keys:ua});var mO=[{key:"ignoreSearch",converter:Z.converters.boolean,defaultValue:!1},{key:"ignoreMethod",converter:Z.converters.boolean,defaultValue:!1},{key:"ignoreVary",converter:Z.converters.boolean,defaultValue:!1}];Z.converters.CacheQueryOptions=Z.dictionaryConverter(mO);Z.converters.MultiCacheQueryOptions=Z.dictionaryConverter([...mO,{key:"cacheName",converter:Z.converters.DOMString}]);Z.converters.Response=Z.interfaceConverter(EO);Z.converters["sequence<RequestInfo>"]=Z.sequenceConverter(Z.converters.RequestInfo);CO.exports={Cache:Kg}});var BO=m((Dwe,yO)=>{"use strict";var{kConstruct:Uu}=Jg(),{Cache:$g}=IO(),{webidl:Bn}=pn(),{kEnumerableProperty:Pu}=Qe(),Xg=class t{#e=new Map;constructor(){arguments[0]!==Uu&&Bn.illegalConstructor()}match(r){return p(this,arguments,function*(e,n={}){if(Bn.brandCheck(this,t),Bn.argumentLengthCheck(arguments,1,{header:"CacheStorage.match"}),e=Bn.converters.RequestInfo(e),n=Bn.converters.MultiCacheQueryOptions(n),n.cacheName!=null){if(this.#e.has(n.cacheName)){let i=this.#e.get(n.cacheName);return yield new $g(Uu,i).match(e,n)}}else for(let i of this.#e.values()){let o=yield new $g(Uu,i).match(e,n);if(o!==void 0)return o}})}has(n){return p(this,arguments,function*(e){return Bn.brandCheck(this,t),Bn.argumentLengthCheck(arguments,1,{header:"CacheStorage.has"}),e=Bn.converters.DOMString(e),this.#e.has(e)})}open(n){return p(this,arguments,function*(e){if(Bn.brandCheck(this,t),Bn.argumentLengthCheck(arguments,1,{header:"CacheStorage.open"}),e=Bn.converters.DOMString(e),this.#e.has(e)){let i=this.#e.get(e);return new $g(Uu,i)}let r=[];return this.#e.set(e,r),new $g(Uu,r)})}delete(n){return p(this,arguments,function*(e){return Bn.brandCheck(this,t),Bn.argumentLengthCheck(arguments,1,{header:"CacheStorage.delete"}),e=Bn.converters.DOMString(e),this.#e.delete(e)})}keys(){return p(this,null,function*(){return Bn.brandCheck(this,t),[...this.#e.keys()]})}};Object.defineProperties(Xg.prototype,{[Symbol.toStringTag]:{value:"CacheStorage",configurable:!0},match:Pu,has:Pu,open:Pu,delete:Pu,keys:Pu});yO.exports={CacheStorage:Xg}});var wO=m((Twe,QO)=>{"use strict";QO.exports={maxAttributeValueSize:1024,maxNameValuePairSize:4096}});var jQ=m((Nwe,SO)=>{"use strict";var vO=B("assert"),{kHeadersList:_O}=ze();function M7(t){if(t.length===0)return!1;for(let e of t){let n=e.charCodeAt(0);if(n>=0||n<=8||n>=10||n<=31||n===127)return!1}}function x7(t){for(let e of t){let n=e.charCodeAt(0);if(n<=32||n>127||e==="("||e===")"||e===">"||e==="<"||e==="@"||e===","||e===";"||e===":"||e==="\\"||e==='"'||e==="/"||e==="["||e==="]"||e==="?"||e==="="||e==="{"||e==="}")throw new Error("Invalid cookie name")}}function L7(t){for(let e of t){let n=e.charCodeAt(0);if(n<33||n===34||n===44||n===59||n===92||n>126)throw new Error("Invalid header value")}}function O7(t){for(let e of t)if(e.charCodeAt(0)<33||e===";")throw new Error("Invalid cookie path")}function U7(t){if(t.startsWith("-")||t.endsWith(".")||t.endsWith("-"))throw new Error("Invalid cookie domain")}function P7(t){typeof t=="number"&&(t=new Date(t));let e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=e[t.getUTCDay()],i=t.getUTCDate().toString().padStart(2,"0"),s=n[t.getUTCMonth()],o=t.getUTCFullYear(),a=t.getUTCHours().toString().padStart(2,"0"),A=t.getUTCMinutes().toString().padStart(2,"0"),c=t.getUTCSeconds().toString().padStart(2,"0");return`${r}, ${i} ${s} ${o} ${a}:${A}:${c} GMT`}function V7(t){if(t<0)throw new Error("Invalid cookie max-age")}function q7(t){if(t.name.length===0)return null;x7(t.name),L7(t.value);let e=[`${t.name}=${t.value}`];t.name.startsWith("__Secure-")&&(t.secure=!0),t.name.startsWith("__Host-")&&(t.secure=!0,t.domain=null,t.path="/"),t.secure&&e.push("Secure"),t.httpOnly&&e.push("HttpOnly"),typeof t.maxAge=="number"&&(V7(t.maxAge),e.push(`Max-Age=${t.maxAge}`)),t.domain&&(U7(t.domain),e.push(`Domain=${t.domain}`)),t.path&&(O7(t.path),e.push(`Path=${t.path}`)),t.expires&&t.expires.toString()!=="Invalid Date"&&e.push(`Expires=${P7(t.expires)}`),t.sameSite&&e.push(`SameSite=${t.sameSite}`);for(let n of t.unparsed){if(!n.includes("="))throw new Error("Invalid unparsed");let[r,...i]=n.split("=");e.push(`${r.trim()}=${i.join("=")}`)}return e.join("; ")}var Zg;function G7(t){if(t[_O])return t[_O];Zg||(Zg=Object.getOwnPropertySymbols(t).find(n=>n.description==="headers list"),vO(Zg,"Headers cannot be parsed"));let e=t[Zg];return vO(e),e}SO.exports={isCTLExcludingHtab:M7,stringify:q7,getHeadersList:G7}});var DO=m((kwe,bO)=>{"use strict";var{maxNameValuePairSize:H7,maxAttributeValueSize:Y7}=wO(),{isCTLExcludingHtab:W7}=jQ(),{collectASequenceOfCodePointsFast:ep}=Or(),J7=B("assert");function z7(t){if(W7(t))return null;let e="",n="",r="",i="";if(t.includes(";")){let s={position:0};e=ep(";",t,s),n=t.slice(s.position)}else e=t;if(!e.includes("="))i=e;else{let s={position:0};r=ep("=",e,s),i=e.slice(s.position+1)}return r=r.trim(),i=i.trim(),r.length+i.length>H7?null:k({name:r,value:i},ZA(n))}function ZA(t,e={}){if(t.length===0)return e;J7(t[0]===";"),t=t.slice(1);let n="";t.includes(";")?(n=ep(";",t,{position:0}),t=t.slice(n.length)):(n=t,t="");let r="",i="";if(n.includes("=")){let o={position:0};r=ep("=",n,o),i=n.slice(o.position+1)}else r=n;if(r=r.trim(),i=i.trim(),i.length>Y7)return ZA(t,e);let s=r.toLowerCase();if(s==="expires"){let o=new Date(i);e.expires=o}else if(s==="max-age"){let o=i.charCodeAt(0);if((o<48||o>57)&&i[0]!=="-"||!/^\d+$/.test(i))return ZA(t,e);let a=Number(i);e.maxAge=a}else if(s==="domain"){let o=i;o[0]==="."&&(o=o.slice(1)),o=o.toLowerCase(),e.domain=o}else if(s==="path"){let o="";i.length===0||i[0]!=="/"?o="/":o=i,e.path=o}else if(s==="secure")e.secure=!0;else if(s==="httponly")e.httpOnly=!0;else if(s==="samesite"){let o="Default",a=i.toLowerCase();a.includes("none")&&(o="None"),a.includes("strict")&&(o="Strict"),a.includes("lax")&&(o="Lax"),e.sameSite=o}else e.unparsed??=[],e.unparsed.push(`${r}=${i}`);return ZA(t,e)}bO.exports={parseSetCookie:z7,parseUnparsedAttributes:ZA}});var kO=m((Mwe,NO)=>{"use strict";var{parseSetCookie:j7}=DO(),{stringify:RO,getHeadersList:K7}=jQ(),{webidl:Ie}=pn(),{Headers:tp}=Aa();function $7(t){Ie.argumentLengthCheck(arguments,1,{header:"getCookies"}),Ie.brandCheck(t,tp,{strict:!1});let e=t.get("cookie"),n={};if(!e)return n;for(let r of e.split(";")){let[i,...s]=r.split("=");n[i.trim()]=s.join("=")}return n}function X7(t,e,n){Ie.argumentLengthCheck(arguments,2,{header:"deleteCookie"}),Ie.brandCheck(t,tp,{strict:!1}),e=Ie.converters.DOMString(e),n=Ie.converters.DeleteCookieAttributes(n),TO(t,k({name:e,value:"",expires:new Date(0)},n))}function Z7(t){Ie.argumentLengthCheck(arguments,1,{header:"getSetCookies"}),Ie.brandCheck(t,tp,{strict:!1});let e=K7(t).cookies;return e?e.map(n=>j7(Array.isArray(n)?n[1]:n)):[]}function TO(t,e){Ie.argumentLengthCheck(arguments,2,{header:"setCookie"}),Ie.brandCheck(t,tp,{strict:!1}),e=Ie.converters.Cookie(e),RO(e)&&t.append("Set-Cookie",RO(e))}Ie.converters.DeleteCookieAttributes=Ie.dictionaryConverter([{converter:Ie.nullableConverter(Ie.converters.DOMString),key:"path",defaultValue:null},{converter:Ie.nullableConverter(Ie.converters.DOMString),key:"domain",defaultValue:null}]);Ie.converters.Cookie=Ie.dictionaryConverter([{converter:Ie.converters.DOMString,key:"name"},{converter:Ie.converters.DOMString,key:"value"},{converter:Ie.nullableConverter(t=>typeof t=="number"?Ie.converters["unsigned long long"](t):new Date(t)),key:"expires",defaultValue:null},{converter:Ie.nullableConverter(Ie.converters["long long"]),key:"maxAge",defaultValue:null},{converter:Ie.nullableConverter(Ie.converters.DOMString),key:"domain",defaultValue:null},{converter:Ie.nullableConverter(Ie.converters.DOMString),key:"path",defaultValue:null},{converter:Ie.nullableConverter(Ie.converters.boolean),key:"secure",defaultValue:null},{converter:Ie.nullableConverter(Ie.converters.boolean),key:"httpOnly",defaultValue:null},{converter:Ie.converters.USVString,key:"sameSite",allowedValues:["Strict","Lax","None"]},{converter:Ie.sequenceConverter(Ie.converters.DOMString),key:"unparsed",defaultValue:[]}]);NO.exports={getCookies:$7,deleteCookie:X7,getSetCookies:Z7,setCookie:TO}});var ec=m((Lwe,FO)=>{"use strict";var eee="258EAFA5-E914-47DA-95CA-C5AB0DC85B11",tee={enumerable:!0,writable:!1,configurable:!1},nee={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},ree={CONTINUATION:0,TEXT:1,BINARY:2,CLOSE:8,PING:9,PONG:10},iee=2**16-1,see={INFO:0,PAYLOADLENGTH_16:2,PAYLOADLENGTH_64:3,READ_DATA:4},oee=Buffer.allocUnsafe(0);FO.exports={uid:eee,staticPropertyDescriptors:tee,states:nee,opcodes:ree,maxUnsigned16Bit:iee,parserStates:see,emptyBuffer:oee}});var Vu=m((Owe,MO)=>{"use strict";MO.exports={kWebSocketURL:Symbol("url"),kReadyState:Symbol("ready state"),kController:Symbol("controller"),kResponse:Symbol("response"),kBinaryType:Symbol("binary type"),kSentClose:Symbol("sent close"),kReceivedClose:Symbol("received close"),kByteParser:Symbol("byte parser")}});var $Q=m((Uwe,xO)=>{"use strict";var{webidl:ee}=pn(),{kEnumerableProperty:Un}=Qe(),{MessagePort:aee}=B("worker_threads"),np=class t extends Event{#e;constructor(e,n={}){ee.argumentLengthCheck(arguments,1,{header:"MessageEvent constructor"}),e=ee.converters.DOMString(e),n=ee.converters.MessageEventInit(n),super(e,n),this.#e=n}get data(){return ee.brandCheck(this,t),this.#e.data}get origin(){return ee.brandCheck(this,t),this.#e.origin}get lastEventId(){return ee.brandCheck(this,t),this.#e.lastEventId}get source(){return ee.brandCheck(this,t),this.#e.source}get ports(){return ee.brandCheck(this,t),Object.isFrozen(this.#e.ports)||Object.freeze(this.#e.ports),this.#e.ports}initMessageEvent(e,n=!1,r=!1,i=null,s="",o="",a=null,A=[]){return ee.brandCheck(this,t),ee.argumentLengthCheck(arguments,1,{header:"MessageEvent.initMessageEvent"}),new t(e,{bubbles:n,cancelable:r,data:i,origin:s,lastEventId:o,source:a,ports:A})}},rp=class t extends Event{#e;constructor(e,n={}){ee.argumentLengthCheck(arguments,1,{header:"CloseEvent constructor"}),e=ee.converters.DOMString(e),n=ee.converters.CloseEventInit(n),super(e,n),this.#e=n}get wasClean(){return ee.brandCheck(this,t),this.#e.wasClean}get code(){return ee.brandCheck(this,t),this.#e.code}get reason(){return ee.brandCheck(this,t),this.#e.reason}},ip=class t extends Event{#e;constructor(e,n){ee.argumentLengthCheck(arguments,1,{header:"ErrorEvent constructor"}),super(e,n),e=ee.converters.DOMString(e),n=ee.converters.ErrorEventInit(n??{}),this.#e=n}get message(){return ee.brandCheck(this,t),this.#e.message}get filename(){return ee.brandCheck(this,t),this.#e.filename}get lineno(){return ee.brandCheck(this,t),this.#e.lineno}get colno(){return ee.brandCheck(this,t),this.#e.colno}get error(){return ee.brandCheck(this,t),this.#e.error}};Object.defineProperties(np.prototype,{[Symbol.toStringTag]:{value:"MessageEvent",configurable:!0},data:Un,origin:Un,lastEventId:Un,source:Un,ports:Un,initMessageEvent:Un});Object.defineProperties(rp.prototype,{[Symbol.toStringTag]:{value:"CloseEvent",configurable:!0},reason:Un,code:Un,wasClean:Un});Object.defineProperties(ip.prototype,{[Symbol.toStringTag]:{value:"ErrorEvent",configurable:!0},message:Un,filename:Un,lineno:Un,colno:Un,error:Un});ee.converters.MessagePort=ee.interfaceConverter(aee);ee.converters["sequence<MessagePort>"]=ee.sequenceConverter(ee.converters.MessagePort);var KQ=[{key:"bubbles",converter:ee.converters.boolean,defaultValue:!1},{key:"cancelable",converter:ee.converters.boolean,defaultValue:!1},{key:"composed",converter:ee.converters.boolean,defaultValue:!1}];ee.converters.MessageEventInit=ee.dictionaryConverter([...KQ,{key:"data",converter:ee.converters.any,defaultValue:null},{key:"origin",converter:ee.converters.USVString,defaultValue:""},{key:"lastEventId",converter:ee.converters.DOMString,defaultValue:""},{key:"source",converter:ee.nullableConverter(ee.converters.MessagePort),defaultValue:null},{key:"ports",converter:ee.converters["sequence<MessagePort>"],get defaultValue(){return[]}}]);ee.converters.CloseEventInit=ee.dictionaryConverter([...KQ,{key:"wasClean",converter:ee.converters.boolean,defaultValue:!1},{key:"code",converter:ee.converters["unsigned short"],defaultValue:0},{key:"reason",converter:ee.converters.USVString,defaultValue:""}]);ee.converters.ErrorEventInit=ee.dictionaryConverter([...KQ,{key:"message",converter:ee.converters.DOMString,defaultValue:""},{key:"filename",converter:ee.converters.USVString,defaultValue:""},{key:"lineno",converter:ee.converters["unsigned long"],defaultValue:0},{key:"colno",converter:ee.converters["unsigned long"],defaultValue:0},{key:"error",converter:ee.converters.any}]);xO.exports={MessageEvent:np,CloseEvent:rp,ErrorEvent:ip}});var ap=m((Pwe,UO)=>{"use strict";var{kReadyState:sp,kController:Aee,kResponse:cee,kBinaryType:lee,kWebSocketURL:uee}=Vu(),{states:op,opcodes:LO}=ec(),{MessageEvent:hee,ErrorEvent:dee}=$Q();function fee(t){return t[sp]===op.OPEN}function gee(t){return t[sp]===op.CLOSING}function pee(t){return t[sp]===op.CLOSED}function XQ(t,e,n=Event,r){let i=new n(t,r);e.dispatchEvent(i)}function Eee(t,e,n){if(t[sp]!==op.OPEN)return;let r;if(e===LO.TEXT)try{r=new TextDecoder("utf-8",{fatal:!0}).decode(n)}catch{OO(t,"Received invalid UTF-8 in text frame.");return}else e===LO.BINARY&&(t[lee]==="blob"?r=new Blob([n]):r=new Uint8Array(n).buffer);XQ("message",t,hee,{origin:t[uee].origin,data:r})}function mee(t){if(t.length===0)return!1;for(let e of t){let n=e.charCodeAt(0);if(n<33||n>126||e==="("||e===")"||e==="<"||e===">"||e==="@"||e===","||e===";"||e===":"||e==="\\"||e==='"'||e==="/"||e==="["||e==="]"||e==="?"||e==="="||e==="{"||e==="}"||n===32||n===9)return!1}return!0}function Cee(t){return t>=1e3&&t<1015?t!==1004&&t!==1005&&t!==1006:t>=3e3&&t<=4999}function OO(t,e){let{[Aee]:n,[cee]:r}=t;n.abort(),r?.socket&&!r.socket.destroyed&&r.socket.destroy(),e&&XQ("error",t,dee,{error:new Error(e)})}UO.exports={isEstablished:fee,isClosing:gee,isClosed:pee,fireEvent:XQ,isValidSubprotocol:mee,isValidStatusCode:Cee,failWebsocketConnection:OO,websocketMessageReceived:Eee}});var YO=m((Vwe,HO)=>{"use strict";var ew=B("diagnostics_channel"),{uid:Iee,states:VO}=ec(),{kReadyState:qO,kSentClose:PO,kByteParser:GO,kReceivedClose:yee}=Vu(),{fireEvent:Bee,failWebsocketConnection:ha}=ap(),{CloseEvent:Qee}=$Q(),{makeRequest:wee}=xu(),{fetching:vee}=Gg(),{Headers:_ee}=Aa(),{getGlobalDispatcher:See}=qA(),{kHeadersList:bee}=ze(),us={};us.open=ew.channel("undici:websocket:open");us.close=ew.channel("undici:websocket:close");us.socketError=ew.channel("undici:websocket:socket_error");var ZQ;try{ZQ=B("crypto")}catch{}function Dee(t,e,n,r,i){let s=t;s.protocol=t.protocol==="ws:"?"http:":"https:";let o=wee({urlList:[s],serviceWorkers:"none",referrer:"no-referrer",mode:"websocket",credentials:"include",cache:"no-store",redirect:"error"});if(i.headers){let l=new _ee(i.headers)[bee];o.headersList=l}let a=ZQ.randomBytes(16).toString("base64");o.headersList.append("sec-websocket-key",a),o.headersList.append("sec-websocket-version","13");for(let l of e)o.headersList.append("sec-websocket-protocol",l);let A="";return vee({request:o,useParallelQueue:!0,dispatcher:i.dispatcher??See(),processResponse(l){if(l.type==="error"||l.status!==101){ha(n,"Received network error or non-101 status code.");return}if(e.length!==0&&!l.headersList.get("Sec-WebSocket-Protocol")){ha(n,"Server did not respond with sent protocols.");return}if(l.headersList.get("Upgrade")?.toLowerCase()!=="websocket"){ha(n,'Server did not set Upgrade header to "websocket".');return}if(l.headersList.get("Connection")?.toLowerCase()!=="upgrade"){ha(n,'Server did not set Connection header to "upgrade".');return}let u=l.headersList.get("Sec-WebSocket-Accept"),h=ZQ.createHash("sha1").update(a+Iee).digest("base64");if(u!==h){ha(n,"Incorrect hash received in Sec-WebSocket-Accept header.");return}let d=l.headersList.get("Sec-WebSocket-Extensions");if(d!==null&&d!==A){ha(n,"Received different permessage-deflate than the one set.");return}let f=l.headersList.get("Sec-WebSocket-Protocol");if(f!==null&&f!==o.headersList.get("Sec-WebSocket-Protocol")){ha(n,"Protocol was not set in the opening handshake.");return}l.socket.on("data",Ree),l.socket.on("close",Tee),l.socket.on("error",Nee),us.open.hasSubscribers&&us.open.publish({address:l.socket.address(),protocol:f,extensions:d}),r(l)}})}function Ree(t){this.ws[GO].write(t)||this.pause()}function Tee(){let{ws:t}=this,e=t[PO]&&t[yee],n=1005,r="",i=t[GO].closingInfo;i?(n=i.code??1005,r=i.reason):t[PO]||(n=1006),t[qO]=VO.CLOSED,Bee("close",t,Qee,{wasClean:e,code:n,reason:r}),us.close.hasSubscribers&&us.close.publish({websocket:t,code:n,reason:r})}function Nee(t){let{ws:e}=this;e[qO]=VO.CLOSING,us.socketError.hasSubscribers&&us.socketError.publish(t),this.destroy()}HO.exports={establishWebSocketConnection:Dee}});var nw=m((qwe,JO)=>{"use strict";var{maxUnsigned16Bit:kee}=ec(),WO;try{WO=B("crypto")}catch{}var tw=class{constructor(e){this.frameData=e,this.maskKey=WO.randomBytes(4)}createFrame(e){let n=this.frameData?.byteLength??0,r=n,i=6;n>kee?(i+=8,r=127):n>125&&(i+=2,r=126);let s=Buffer.allocUnsafe(n+i);s[0]=s[1]=0,s[0]|=128,s[0]=(s[0]&240)+e;s[i-4]=this.maskKey[0],s[i-3]=this.maskKey[1],s[i-2]=this.maskKey[2],s[i-1]=this.maskKey[3],s[1]=r,r===126?s.writeUInt16BE(n,2):r===127&&(s[2]=s[3]=0,s.writeUIntBE(n,4,6)),s[1]|=128;for(let o=0;o<n;o++)s[i+o]=this.frameData[o]^this.maskKey[o%4];return s}};JO.exports={WebsocketFrameSend:tw}});var t1=m((Gwe,e1)=>{"use strict";var{Writable:Fee}=B("stream"),ZO=B("diagnostics_channel"),{parserStates:pr,opcodes:Er,states:Mee,emptyBuffer:xee}=ec(),{kReadyState:Lee,kSentClose:zO,kResponse:jO,kReceivedClose:KO}=Vu(),{isValidStatusCode:$O,failWebsocketConnection:qu,websocketMessageReceived:Oee}=ap(),{WebsocketFrameSend:XO}=nw(),tc={};tc.ping=ZO.channel("undici:websocket:ping");tc.pong=ZO.channel("undici:websocket:pong");var rw=class extends Fee{#e=[];#n=0;#r=pr.INFO;#t={};#i=[];constructor(e){super(),this.ws=e}_write(e,n,r){this.#e.push(e),this.#n+=e.length,this.run(r)}run(e){for(;;){if(this.#r===pr.INFO){if(this.#n<2)return e();let n=this.consume(2);if(this.#t.fin=(n[0]&128)!==0,this.#t.opcode=n[0]&15,this.#t.originalOpcode??=this.#t.opcode,this.#t.fragmented=!this.#t.fin&&this.#t.opcode!==Er.CONTINUATION,this.#t.fragmented&&this.#t.opcode!==Er.BINARY&&this.#t.opcode!==Er.TEXT){qu(this.ws,"Invalid frame type was fragmented.");return}let r=n[1]&127;if(r<=125?(this.#t.payloadLength=r,this.#r=pr.READ_DATA):r===126?this.#r=pr.PAYLOADLENGTH_16:r===127&&(this.#r=pr.PAYLOADLENGTH_64),this.#t.fragmented&&r>125){qu(this.ws,"Fragmented frame exceeded 125 bytes.");return}else if((this.#t.opcode===Er.PING||this.#t.opcode===Er.PONG||this.#t.opcode===Er.CLOSE)&&r>125){qu(this.ws,"Payload length for control frame exceeded 125 bytes.");return}else if(this.#t.opcode===Er.CLOSE){if(r===1){qu(this.ws,"Received close frame with a 1-byte body.");return}let i=this.consume(r);if(this.#t.closeInfo=this.parseCloseBody(!1,i),!this.ws[zO]){let s=Buffer.allocUnsafe(2);s.writeUInt16BE(this.#t.closeInfo.code,0);let o=new XO(s);this.ws[jO].socket.write(o.createFrame(Er.CLOSE),a=>{a||(this.ws[zO]=!0)})}this.ws[Lee]=Mee.CLOSING,this.ws[KO]=!0,this.end();return}else if(this.#t.opcode===Er.PING){let i=this.consume(r);if(!this.ws[KO]){let s=new XO(i);this.ws[jO].socket.write(s.createFrame(Er.PONG)),tc.ping.hasSubscribers&&tc.ping.publish({payload:i})}if(this.#r=pr.INFO,this.#n>0)continue;e();return}else if(this.#t.opcode===Er.PONG){let i=this.consume(r);if(tc.pong.hasSubscribers&&tc.pong.publish({payload:i}),this.#n>0)continue;e();return}}else if(this.#r===pr.PAYLOADLENGTH_16){if(this.#n<2)return e();let n=this.consume(2);this.#t.payloadLength=n.readUInt16BE(0),this.#r=pr.READ_DATA}else if(this.#r===pr.PAYLOADLENGTH_64){if(this.#n<8)return e();let n=this.consume(8),r=n.readUInt32BE(0);if(r>2**31-1){qu(this.ws,"Received payload length > 2^31 bytes.");return}let i=n.readUInt32BE(4);this.#t.payloadLength=(r<<8)+i,this.#r=pr.READ_DATA}else if(this.#r===pr.READ_DATA){if(this.#n<this.#t.payloadLength)return e();if(this.#n>=this.#t.payloadLength){let n=this.consume(this.#t.payloadLength);if(this.#i.push(n),!this.#t.fragmented||this.#t.fin&&this.#t.opcode===Er.CONTINUATION){let r=Buffer.concat(this.#i);Oee(this.ws,this.#t.originalOpcode,r),this.#t={},this.#i.length=0}this.#r=pr.INFO}}if(!(this.#n>0)){e();break}}}consume(e){if(e>this.#n)return null;if(e===0)return xee;if(this.#e[0].length===e)return this.#n-=this.#e[0].length,this.#e.shift();let n=Buffer.allocUnsafe(e),r=0;for(;r!==e;){let i=this.#e[0],{length:s}=i;if(s+r===e){n.set(this.#e.shift(),r);break}else if(s+r>e){n.set(i.subarray(0,e-r),r),this.#e[0]=i.subarray(e-r);break}else n.set(this.#e.shift(),r),r+=i.length}return this.#n-=e,n}parseCloseBody(e,n){let r;if(n.length>=2&&(r=n.readUInt16BE(0)),e)return $O(r)?{code:r}:null;let i=n.subarray(2);if(i[0]===239&&i[1]===187&&i[2]===191&&(i=i.subarray(3)),r!==void 0&&!$O(r))return null;try{i=new TextDecoder("utf-8",{fatal:!0}).decode(i)}catch{return null}return{code:r,reason:i}}get closingInfo(){return this.#t.closeInfo}};e1.exports={ByteParser:rw}});var c1=m((Hwe,A1)=>{"use strict";var{webidl:se}=pn(),{DOMException:Ws}=Ls(),{URLSerializer:Uee}=Or(),{getGlobalOrigin:Pee}=IA(),{staticPropertyDescriptors:Js,states:nc,opcodes:Gu,emptyBuffer:Vee}=ec(),{kWebSocketURL:n1,kReadyState:hs,kController:qee,kBinaryType:Ap,kResponse:cp,kSentClose:Gee,kByteParser:Hee}=Vu(),{isEstablished:r1,isClosing:i1,isValidSubprotocol:Yee,failWebsocketConnection:Wee,fireEvent:Jee}=ap(),{establishWebSocketConnection:zee}=YO(),{WebsocketFrameSend:Hu}=nw(),{ByteParser:jee}=t1(),{kEnumerableProperty:mr,isBlobLike:o1}=Qe(),{getGlobalDispatcher:Kee}=qA(),{types:a1}=B("util"),s1=!1,nr=class t extends EventTarget{#e={open:null,error:null,close:null,message:null};#n=0;#r="";#t="";constructor(e,n=[]){super(),se.argumentLengthCheck(arguments,1,{header:"WebSocket constructor"}),s1||(s1=!0,process.emitWarning("WebSockets are experimental, expect them to change at any time.",{code:"UNDICI-WS"}));let r=se.converters["DOMString or sequence<DOMString> or WebSocketInit"](n);e=se.converters.USVString(e),n=r.protocols;let i=Pee(),s;try{s=new URL(e,i)}catch(o){throw new Ws(o,"SyntaxError")}if(s.protocol==="http:"?s.protocol="ws:":s.protocol==="https:"&&(s.protocol="wss:"),s.protocol!=="ws:"&&s.protocol!=="wss:")throw new Ws(`Expected a ws: or wss: protocol, got ${s.protocol}`,"SyntaxError");if(s.hash||s.href.endsWith("#"))throw new Ws("Got fragment","SyntaxError");if(typeof n=="string"&&(n=[n]),n.length!==new Set(n.map(o=>o.toLowerCase())).size)throw new Ws("Invalid Sec-WebSocket-Protocol value","SyntaxError");if(n.length>0&&!n.every(o=>Yee(o)))throw new Ws("Invalid Sec-WebSocket-Protocol value","SyntaxError");this[n1]=new URL(s.href),this[qee]=zee(s,n,this,o=>this.#i(o),r),this[hs]=t.CONNECTING,this[Ap]="blob"}close(e=void 0,n=void 0){if(se.brandCheck(this,t),e!==void 0&&(e=se.converters["unsigned short"](e,{clamp:!0})),n!==void 0&&(n=se.converters.USVString(n)),e!==void 0&&e!==1e3&&(e<3e3||e>4999))throw new Ws("invalid code","InvalidAccessError");let r=0;if(n!==void 0&&(r=Buffer.byteLength(n),r>123))throw new Ws(`Reason must be less than 123 bytes; received ${r}`,"SyntaxError");if(!(this[hs]===t.CLOSING||this[hs]===t.CLOSED))if(!r1(this))Wee(this,"Connection was closed before it was established."),this[hs]=t.CLOSING;else if(i1(this))this[hs]=t.CLOSING;else{let i=new Hu;e!==void 0&&n===void 0?(i.frameData=Buffer.allocUnsafe(2),i.frameData.writeUInt16BE(e,0)):e!==void 0&&n!==void 0?(i.frameData=Buffer.allocUnsafe(2+r),i.frameData.writeUInt16BE(e,0),i.frameData.write(n,2,"utf-8")):i.frameData=Vee,this[cp].socket.write(i.createFrame(Gu.CLOSE),o=>{o||(this[Gee]=!0)}),this[hs]=nc.CLOSING}}send(e){if(se.brandCheck(this,t),se.argumentLengthCheck(arguments,1,{header:"WebSocket.send"}),e=se.converters.WebSocketSendData(e),this[hs]===t.CONNECTING)throw new Ws("Sent before connected.","InvalidStateError");if(!r1(this)||i1(this))return;let n=this[cp].socket;if(typeof e=="string"){let r=Buffer.from(e),s=new Hu(r).createFrame(Gu.TEXT);this.#n+=r.byteLength,n.write(s,()=>{this.#n-=r.byteLength})}else if(a1.isArrayBuffer(e)){let r=Buffer.from(e),s=new Hu(r).createFrame(Gu.BINARY);this.#n+=r.byteLength,n.write(s,()=>{this.#n-=r.byteLength})}else if(ArrayBuffer.isView(e)){let r=Buffer.from(e,e.byteOffset,e.byteLength),s=new Hu(r).createFrame(Gu.BINARY);this.#n+=r.byteLength,n.write(s,()=>{this.#n-=r.byteLength})}else if(o1(e)){let r=new Hu;e.arrayBuffer().then(i=>{let s=Buffer.from(i);r.frameData=s;let o=r.createFrame(Gu.BINARY);this.#n+=s.byteLength,n.write(o,()=>{this.#n-=s.byteLength})})}}get readyState(){return se.brandCheck(this,t),this[hs]}get bufferedAmount(){return se.brandCheck(this,t),this.#n}get url(){return se.brandCheck(this,t),Uee(this[n1])}get extensions(){return se.brandCheck(this,t),this.#t}get protocol(){return se.brandCheck(this,t),this.#r}get onopen(){return se.brandCheck(this,t),this.#e.open}set onopen(e){se.brandCheck(this,t),this.#e.open&&this.removeEventListener("open",this.#e.open),typeof e=="function"?(this.#e.open=e,this.addEventListener("open",e)):this.#e.open=null}get onerror(){return se.brandCheck(this,t),this.#e.error}set onerror(e){se.brandCheck(this,t),this.#e.error&&this.removeEventListener("error",this.#e.error),typeof e=="function"?(this.#e.error=e,this.addEventListener("error",e)):this.#e.error=null}get onclose(){return se.brandCheck(this,t),this.#e.close}set onclose(e){se.brandCheck(this,t),this.#e.close&&this.removeEventListener("close",this.#e.close),typeof e=="function"?(this.#e.close=e,this.addEventListener("close",e)):this.#e.close=null}get onmessage(){return se.brandCheck(this,t),this.#e.message}set onmessage(e){se.brandCheck(this,t),this.#e.message&&this.removeEventListener("message",this.#e.message),typeof e=="function"?(this.#e.message=e,this.addEventListener("message",e)):this.#e.message=null}get binaryType(){return se.brandCheck(this,t),this[Ap]}set binaryType(e){se.brandCheck(this,t),e!=="blob"&&e!=="arraybuffer"?this[Ap]="blob":this[Ap]=e}#i(e){this[cp]=e;let n=new jee(this);n.on("drain",function(){this.ws[cp].socket.resume()}),e.socket.ws=this,this[Hee]=n,this[hs]=nc.OPEN;let r=e.headersList.get("sec-websocket-extensions");r!==null&&(this.#t=r);let i=e.headersList.get("sec-websocket-protocol");i!==null&&(this.#r=i),Jee("open",this)}};nr.CONNECTING=nr.prototype.CONNECTING=nc.CONNECTING;nr.OPEN=nr.prototype.OPEN=nc.OPEN;nr.CLOSING=nr.prototype.CLOSING=nc.CLOSING;nr.CLOSED=nr.prototype.CLOSED=nc.CLOSED;Object.defineProperties(nr.prototype,{CONNECTING:Js,OPEN:Js,CLOSING:Js,CLOSED:Js,url:mr,readyState:mr,bufferedAmount:mr,onopen:mr,onerror:mr,onclose:mr,close:mr,onmessage:mr,binaryType:mr,send:mr,extensions:mr,protocol:mr,[Symbol.toStringTag]:{value:"WebSocket",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(nr,{CONNECTING:Js,OPEN:Js,CLOSING:Js,CLOSED:Js});se.converters["sequence<DOMString>"]=se.sequenceConverter(se.converters.DOMString);se.converters["DOMString or sequence<DOMString>"]=function(t){return se.util.Type(t)==="Object"&&Symbol.iterator in t?se.converters["sequence<DOMString>"](t):se.converters.DOMString(t)};se.converters.WebSocketInit=se.dictionaryConverter([{key:"protocols",converter:se.converters["DOMString or sequence<DOMString>"],get defaultValue(){return[]}},{key:"dispatcher",converter:t=>t,get defaultValue(){return Kee()}},{key:"headers",converter:se.nullableConverter(se.converters.HeadersInit)}]);se.converters["DOMString or sequence<DOMString> or WebSocketInit"]=function(t){return se.util.Type(t)==="Object"&&!(Symbol.iterator in t)?se.converters.WebSocketInit(t):{protocols:se.converters["DOMString or sequence<DOMString>"](t)}};se.converters.WebSocketSendData=function(t){if(se.util.Type(t)==="Object"){if(o1(t))return se.converters.Blob(t,{strict:!1});if(ArrayBuffer.isView(t)||a1.isAnyArrayBuffer(t))return se.converters.BufferSource(t)}return se.converters.USVString(t)};A1.exports={WebSocket:nr}});var sw=m((Ywe,he)=>{"use strict";var $ee=Qu(),l1=Hf(),u1=He(),Xee=kA(),Zee=wM(),ete=Su(),da=Qe(),{InvalidArgumentError:lp}=u1,rc=gx(),tte=gu(),nte=dQ(),rte=$x(),ite=pQ(),ste=tQ(),ote=rL(),ate=AL(),{getGlobalDispatcher:h1,setGlobalDispatcher:Ate}=qA(),cte=fL(),lte=hB(),ute=zf(),iw;try{B("crypto"),iw=!0}catch{iw=!1}Object.assign(l1.prototype,rc);he.exports.Dispatcher=l1;he.exports.Client=$ee;he.exports.Pool=Xee;he.exports.BalancedPool=Zee;he.exports.Agent=ete;he.exports.ProxyAgent=ote;he.exports.RetryHandler=ate;he.exports.DecoratorHandler=cte;he.exports.RedirectHandler=lte;he.exports.createRedirectInterceptor=ute;he.exports.buildConnector=tte;he.exports.errors=u1;function Yu(t){return(e,n,r)=>{if(typeof n=="function"&&(r=n,n=null),!e||typeof e!="string"&&typeof e!="object"&&!(e instanceof URL))throw new lp("invalid url");if(n!=null&&typeof n!="object")throw new lp("invalid opts");if(n&&n.path!=null){if(typeof n.path!="string")throw new lp("invalid opts.path");let o=n.path;n.path.startsWith("/")||(o=`/${o}`),e=new URL(da.parseOrigin(e).origin+o)}else n||(n=typeof e=="object"?e:{}),e=da.parseURL(e);let{agent:i,dispatcher:s=h1()}=n;if(i)throw new lp("unsupported opts.agent. Did you mean opts.client?");return t.call(s,j(k({},n),{origin:e.origin,path:e.search?`${e.pathname}${e.search}`:e.pathname,method:n.method||(n.body?"PUT":"GET")}),r)}}he.exports.setGlobalDispatcher=Ate;he.exports.getGlobalDispatcher=h1;if(da.nodeMajor>16||da.nodeMajor===16&&da.nodeMinor>=8){let t=null;he.exports.fetch=function(a){return p(this,arguments,function*(o){t||(t=Gg().fetch);try{return yield t(...arguments)}catch(A){throw typeof A=="object"&&Error.captureStackTrace(A,this),A}})},he.exports.Headers=Aa().Headers,he.exports.Response=Tg().Response,he.exports.Request=xu().Request,he.exports.FormData=Vf().FormData,he.exports.File=Uf().File,he.exports.FileReader=lO().FileReader;let{setGlobalOrigin:e,getGlobalOrigin:n}=IA();he.exports.setGlobalOrigin=e,he.exports.getGlobalOrigin=n;let{CacheStorage:r}=BO(),{kConstruct:i}=Jg();he.exports.caches=new r(i)}if(da.nodeMajor>=16){let{deleteCookie:t,getCookies:e,getSetCookies:n,setCookie:r}=kO();he.exports.deleteCookie=t,he.exports.getCookies=e,he.exports.getSetCookies=n,he.exports.setCookie=r;let{parseMIMEType:i,serializeAMimeType:s}=Or();he.exports.parseMIMEType=i,he.exports.serializeAMimeType=s}if(da.nodeMajor>=18&&iw){let{WebSocket:t}=c1();he.exports.WebSocket=t}he.exports.request=Yu(rc.request);he.exports.stream=Yu(rc.stream);he.exports.pipeline=Yu(rc.pipeline);he.exports.connect=Yu(rc.connect);he.exports.upgrade=Yu(rc.upgrade);he.exports.MockClient=nte;he.exports.MockPool=ite;he.exports.MockAgent=rte;he.exports.mockErrors=ste});var Re=m(Ir=>{"use strict";Object.defineProperty(Ir,"__esModule",{value:!0});Ir.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=Ir.DEFAULT_MAX_SEND_MESSAGE_LENGTH=Ir.Propagate=Ir.LogVerbosity=Ir.Status=void 0;var JU=function(t){return t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t}(JU||(Ir.Status=JU={})),zU=function(t){return t[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.ERROR=2]="ERROR",t[t.NONE=3]="NONE",t}(zU||(Ir.LogVerbosity=zU={})),jU=function(t){return t[t.DEADLINE=1]="DEADLINE",t[t.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",t[t.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",t[t.CANCELLATION=8]="CANCELLATION",t[t.DEFAULTS=65535]="DEFAULTS",t}(jU||(Ir.Propagate=jU={}));Ir.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1;Ir.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4*1024*1024});var cv=m((s_e,kre)=>{kre.exports={name:"@grpc/grpc-js",version:"1.9.14",description:"gRPC Library for Node - pure JS implementation",homepage:"https://grpc.io/",repository:"https://github.com/grpc/grpc-node/tree/master/packages/grpc-js",main:"build/src/index.js",engines:{node:"^8.13.0 || >=10.10.0"},keywords:[],author:{name:"Google Inc."},types:"build/src/index.d.ts",license:"Apache-2.0",devDependencies:{"@types/gulp":"^4.0.6","@types/gulp-mocha":"0.0.32","@types/lodash":"^4.14.186","@types/mocha":"^5.2.6","@types/ncp":"^2.0.1","@types/pify":"^3.0.2","@types/semver":"^7.3.9","@typescript-eslint/eslint-plugin":"^5.59.11","@typescript-eslint/parser":"^5.59.11","@typescript-eslint/typescript-estree":"^5.59.11","clang-format":"^1.0.55",eslint:"^8.42.0","eslint-config-prettier":"^8.8.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^4.2.1",execa:"^2.0.3",gulp:"^4.0.2","gulp-mocha":"^6.0.0",lodash:"^4.17.4",madge:"^5.0.1","mocha-jenkins-reporter":"^0.4.1",ncp:"^2.0.0",pify:"^4.0.1",prettier:"^2.8.8",rimraf:"^3.0.2",semver:"^7.3.5","ts-node":"^10.9.1",typescript:"^5.1.3"},contributors:[{name:"Google Inc."}],scripts:{build:"npm run compile",clean:"rimraf ./build",compile:"tsc -p .",format:'clang-format -i -style="{Language: JavaScript, BasedOnStyle: Google, ColumnLimit: 80}" src/*.ts test/*.ts',lint:"eslint src/*.ts test/*.ts",prepare:"npm run generate-types && npm run compile",test:"gulp test",check:"npm run lint",fix:"eslint --fix src/*.ts test/*.ts",pretest:"npm run generate-types && npm run generate-test-types && npm run compile",posttest:"npm run check && madge -c ./build/src","generate-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --includeDirs proto/ --include-dirs test/fixtures/ -O src/generated/ --grpcLib ../index channelz.proto","generate-test-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --include-dirs test/fixtures/ -O test/generated/ --grpcLib ../../src/index test_service.proto"},dependencies:{"@grpc/proto-loader":"^0.7.8","@types/node":">=12.12.47"},files:["src/**/*.ts","build/src/**/*.{js,d.ts,js.map}","proto/*.proto","LICENSE","deps/envoy-api/envoy/api/v2/**/*.proto","deps/envoy-api/envoy/config/**/*.proto","deps/envoy-api/envoy/service/**/*.proto","deps/envoy-api/envoy/type/**/*.proto","deps/udpa/udpa/**/*.proto","deps/googleapis/google/api/*.proto","deps/googleapis/google/rpc/*.proto","deps/protoc-gen-validate/validate/**/*.proto"]}});var pt=m(wn=>{"use strict";var lv,uv,hv,dv;Object.defineProperty(wn,"__esModule",{value:!0});wn.isTracerEnabled=wn.trace=wn.log=wn.setLoggerVerbosity=wn.setLogger=wn.getLogger=void 0;var $s=Re(),Fre=B("process"),Mre=cv().version,xre={error:(t,...e)=>{console.error("E "+t,...e)},info:(t,...e)=>{console.error("I "+t,...e)},debug:(t,...e)=>{console.error("D "+t,...e)}},Ia=xre,hc=$s.LogVerbosity.ERROR,Lre=(uv=(lv=process.env.GRPC_NODE_VERBOSITY)!==null&&lv!==void 0?lv:process.env.GRPC_VERBOSITY)!==null&&uv!==void 0?uv:"";switch(Lre.toUpperCase()){case"DEBUG":hc=$s.LogVerbosity.DEBUG;break;case"INFO":hc=$s.LogVerbosity.INFO;break;case"ERROR":hc=$s.LogVerbosity.ERROR;break;case"NONE":hc=$s.LogVerbosity.NONE;break;default:}var Ore=()=>Ia;wn.getLogger=Ore;var Ure=t=>{Ia=t};wn.setLogger=Ure;var Pre=t=>{hc=t};wn.setLoggerVerbosity=Pre;var Vre=(t,...e)=>{let n;if(t>=hc){switch(t){case $s.LogVerbosity.DEBUG:n=Ia.debug;break;case $s.LogVerbosity.INFO:n=Ia.info;break;case $s.LogVerbosity.ERROR:n=Ia.error;break}n||(n=Ia.error),n&&n.bind(Ia)(...e)}};wn.log=Vre;var qre=(dv=(hv=process.env.GRPC_NODE_TRACE)!==null&&hv!==void 0?hv:process.env.GRPC_TRACE)!==null&&dv!==void 0?dv:"",fv=new Set,KU=new Set;for(let t of qre.split(","))t.startsWith("-")?KU.add(t.substring(1)):fv.add(t);var Gre=fv.has("all");function Hre(t,e,n){$U(e)&&(0,wn.log)(t,new Date().toISOString()+" | v"+Mre+" "+Fre.pid+" | "+e+" | "+n)}wn.trace=Hre;function $U(t){return!KU.has(t)&&(Gre||fv.has(t))}wn.isTracerEnabled=$U});var jp=m(dc=>{"use strict";Object.defineProperty(dc,"__esModule",{value:!0});dc.getErrorCode=dc.getErrorMessage=void 0;function Yre(t){return t instanceof Error?t.message:String(t)}dc.getErrorMessage=Yre;function Wre(t){return typeof t=="object"&&t!==null&&"code"in t&&typeof t.code=="number"?t.code:null}dc.getErrorCode=Wre});var vn=m($p=>{"use strict";Object.defineProperty($p,"__esModule",{value:!0});$p.Metadata=void 0;var Jre=pt(),zre=Re(),jre=jp(),Kre=/^[0-9a-z_.-]+$/,$re=/^[ -~]*$/;function Xre(t){return Kre.test(t)}function Zre(t){return $re.test(t)}function ZU(t){return t.endsWith("-bin")}function eie(t){return!t.startsWith("grpc-")}function Kp(t){return t.toLowerCase()}function XU(t,e){if(!Xre(t))throw new Error('Metadata key "'+t+'" contains illegal characters');if(e!=null)if(ZU(t)){if(!Buffer.isBuffer(e))throw new Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(e))throw new Error("keys that don't end with '-bin' must have String values");if(!Zre(e))throw new Error('Metadata string value "'+e+'" contains illegal characters')}}var gv=class t{constructor(e={}){this.internalRepr=new Map,this.options=e}set(e,n){e=Kp(e),XU(e,n),this.internalRepr.set(e,[n])}add(e,n){e=Kp(e),XU(e,n);let r=this.internalRepr.get(e);r===void 0?this.internalRepr.set(e,[n]):r.push(n)}remove(e){e=Kp(e),this.internalRepr.delete(e)}get(e){return e=Kp(e),this.internalRepr.get(e)||[]}getMap(){let e={};for(let[n,r]of this.internalRepr)if(r.length>0){let i=r[0];e[n]=Buffer.isBuffer(i)?Buffer.from(i):i}return e}clone(){let e=new t(this.options),n=e.internalRepr;for(let[r,i]of this.internalRepr){let s=i.map(o=>Buffer.isBuffer(o)?Buffer.from(o):o);n.set(r,s)}return e}merge(e){for(let[n,r]of e.internalRepr){let i=(this.internalRepr.get(n)||[]).concat(r);this.internalRepr.set(n,i)}}setOptions(e){this.options=e}getOptions(){return this.options}toHttp2Headers(){let e={};for(let[n,r]of this.internalRepr)e[n]=r.map(tie);return e}toJSON(){let e={};for(let[n,r]of this.internalRepr)e[n]=r;return e}static fromHttp2Headers(e){let n=new t;for(let r of Object.keys(e)){if(r.charAt(0)===":")continue;let i=e[r];try{ZU(r)?Array.isArray(i)?i.forEach(s=>{n.add(r,Buffer.from(s,"base64"))}):i!==void 0&&(eie(r)?i.split(",").forEach(s=>{n.add(r,Buffer.from(s.trim(),"base64"))}):n.add(r,Buffer.from(i,"base64"))):Array.isArray(i)?i.forEach(s=>{n.add(r,s)}):i!==void 0&&n.add(r,i)}catch(s){let o=`Failed to add metadata entry ${r}: ${i}. ${(0,jre.getErrorMessage)(s)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,Jre.log)(zre.LogVerbosity.ERROR,o)}}return n}};$p.Metadata=gv;var tie=t=>Buffer.isBuffer(t)?t.toString("base64"):t});var Iv=m(Xp=>{"use strict";Object.defineProperty(Xp,"__esModule",{value:!0});Xp.CallCredentials=void 0;var Cv=vn();function nie(t){return"getRequestHeaders"in t&&typeof t.getRequestHeaders=="function"}var fc=class t{static createFromMetadataGenerator(e){return new Ev(e)}static createFromGoogleCredential(e){return t.createFromMetadataGenerator((n,r)=>{let i;nie(e)?i=e.getRequestHeaders(n.service_url):i=new Promise((s,o)=>{e.getRequestMetadata(n.service_url,(a,A)=>{if(a){o(a);return}if(!A){o(new Error("Headers not set by metadata plugin"));return}s(A)})}),i.then(s=>{let o=new Cv.Metadata;for(let a of Object.keys(s))o.add(a,s[a]);r(null,o)},s=>{r(s)})})}static createEmpty(){return new mv}};Xp.CallCredentials=fc;var pv=class t extends fc{constructor(e){super(),this.creds=e}generateMetadata(e){return p(this,null,function*(){let n=new Cv.Metadata,r=yield Promise.all(this.creds.map(i=>i.generateMetadata(e)));for(let i of r)n.merge(i);return n})}compose(e){return new t(this.creds.concat([e]))}_equals(e){return this===e?!0:e instanceof t?this.creds.every((n,r)=>n._equals(e.creds[r])):!1}},Ev=class t extends fc{constructor(e){super(),this.metadataGenerator=e}generateMetadata(e){return new Promise((n,r)=>{this.metadataGenerator(e,(i,s)=>{s!==void 0?n(s):r(i)})})}compose(e){return new pv([this,e])}_equals(e){return this===e?!0:e instanceof t?this.metadataGenerator===e.metadataGenerator:!1}},mv=class t extends fc{generateMetadata(e){return Promise.resolve(new Cv.Metadata)}compose(e){return e}_equals(e){return e instanceof t}}});var Bv=m(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});gc.getDefaultRootsData=gc.CIPHER_SUITES=void 0;var rie=B("fs");gc.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;var eP=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,yv=null;function iie(){return eP?(yv===null&&(yv=rie.readFileSync(eP)),yv):null}gc.getDefaultRootsData=iie});var tE=m(eE=>{"use strict";Object.defineProperty(eE,"__esModule",{value:!0});eE.ChannelCredentials=void 0;var sie=B("tls"),oie=Iv(),tP=Bv();function Qv(t,e){if(t&&!(t instanceof Buffer))throw new TypeError(`${e}, if provided, must be a Buffer.`)}var pc=class{constructor(e){this.callCredentials=e||oie.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(e,n,r,i){var s;if(Qv(e,"Root certificate"),Qv(n,"Private key"),Qv(r,"Certificate chain"),n&&!r)throw new Error("Private key must be given with accompanying certificate chain");if(!n&&r)throw new Error("Certificate chain must be given with accompanying private key");let o=(0,sie.createSecureContext)({ca:(s=e??(0,tP.getDefaultRootsData)())!==null&&s!==void 0?s:void 0,key:n??void 0,cert:r??void 0,ciphers:tP.CIPHER_SUITES});return new Zp(o,i??{})}static createFromSecureContext(e,n){return new Zp(e,n??{})}static createInsecure(){return new wv}};eE.ChannelCredentials=pc;var wv=class t extends pc{constructor(e){super(e)}compose(e){throw new Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return!1}_equals(e){return e instanceof t}},Zp=class t extends pc{constructor(e,n){super(),this.secureContext=e,this.verifyOptions=n,this.connectionOptions={secureContext:e},n?.checkServerIdentity&&(this.connectionOptions.checkServerIdentity=n.checkServerIdentity)}compose(e){let n=this.callCredentials.compose(e);return new vv(this,n)}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return!0}_equals(e){return this===e?!0:e instanceof t?this.secureContext===e.secureContext&&this.verifyOptions.checkServerIdentity===e.verifyOptions.checkServerIdentity:!1}},vv=class t extends pc{constructor(e,n){super(n),this.channelCredentials=e}compose(e){let n=this.callCredentials.compose(e);return new t(this.channelCredentials,n)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return!0}_equals(e){return this===e?!0:e instanceof t?this.channelCredentials._equals(e.channelCredentials)&&this.callCredentials._equals(e.callCredentials):!1}}});var Zs=m(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.validateLoadBalancingConfig=an.getFirstUsableConfig=an.isLoadBalancerNameRegistered=an.createLoadBalancer=an.registerDefaultLoadBalancerType=an.registerLoadBalancerType=an.createChildChannelControlHelper=void 0;function aie(t,e){var n,r,i,s,o,a,A,c,l,u;return{createSubchannel:(r=(n=e.createSubchannel)===null||n===void 0?void 0:n.bind(e))!==null&&r!==void 0?r:t.createSubchannel.bind(t),updateState:(s=(i=e.updateState)===null||i===void 0?void 0:i.bind(e))!==null&&s!==void 0?s:t.updateState.bind(t),requestReresolution:(a=(o=e.requestReresolution)===null||o===void 0?void 0:o.bind(e))!==null&&a!==void 0?a:t.requestReresolution.bind(t),addChannelzChild:(c=(A=e.addChannelzChild)===null||A===void 0?void 0:A.bind(e))!==null&&c!==void 0?c:t.addChannelzChild.bind(t),removeChannelzChild:(u=(l=e.removeChannelzChild)===null||l===void 0?void 0:l.bind(e))!==null&&u!==void 0?u:t.removeChannelzChild.bind(t)}}an.createChildChannelControlHelper=aie;var Xs={},_v=null;function Aie(t,e,n){Xs[t]={LoadBalancer:e,LoadBalancingConfig:n}}an.registerLoadBalancerType=Aie;function cie(t){_v=t}an.registerDefaultLoadBalancerType=cie;function lie(t,e){let n=t.getLoadBalancerName();return n in Xs?new Xs[n].LoadBalancer(e):null}an.createLoadBalancer=lie;function uie(t){return t in Xs}an.isLoadBalancerNameRegistered=uie;function hie(t,e=!1){for(let n of t)if(n.getLoadBalancerName()in Xs)return n;return e&&_v?new Xs[_v].LoadBalancingConfig:null}an.getFirstUsableConfig=hie;function die(t){if(!(t!==null&&typeof t=="object"))throw new Error("Load balancing config must be an object");let e=Object.keys(t);if(e.length!==1)throw new Error("Provided load balancing config has multiple conflicting entries");let n=e[0];if(n in Xs)return Xs[n].LoadBalancingConfig.createFromJson(t[n]);throw new Error(`Unrecognized load balancing config name ${n}`)}an.validateLoadBalancingConfig=die});var Sv=m(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.extractAndSelectServiceConfig=eo.validateServiceConfig=eo.validateRetryThrottling=void 0;var fie=B("os"),nE=Re(),gie=Zs(),rE=/^\d+(\.\d{1,9})?s$/,pie="node";function Eie(t){if("service"in t&&t.service!==""){if(typeof t.service!="string")throw new Error(`Invalid method config name: invalid service: expected type string, got ${typeof t.service}`);if("method"in t&&t.method!==""){if(typeof t.method!="string")throw new Error(`Invalid method config name: invalid method: expected type string, got ${typeof t.service}`);return{service:t.service,method:t.method}}else return{service:t.service}}else{if("method"in t&&t.method!==void 0)throw new Error("Invalid method config name: method set with empty or unset service");return{}}}function mie(t){if(!("maxAttempts"in t)||!Number.isInteger(t.maxAttempts)||t.maxAttempts<2)throw new Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in t)||typeof t.initialBackoff!="string"||!rE.test(t.initialBackoff))throw new Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer followed by s");if(!("maxBackoff"in t)||typeof t.maxBackoff!="string"||!rE.test(t.maxBackoff))throw new Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer followed by s");if(!("backoffMultiplier"in t)||typeof t.backoffMultiplier!="number"||t.backoffMultiplier<=0)throw new Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in t&&Array.isArray(t.retryableStatusCodes)))throw new Error("Invalid method config retry policy: retryableStatusCodes is required");if(t.retryableStatusCodes.length===0)throw new Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(let e of t.retryableStatusCodes)if(typeof e=="number"){if(!Object.values(nE.Status).includes(e))throw new Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if(typeof e=="string"){if(!Object.values(nE.Status).includes(e.toUpperCase()))throw new Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw new Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:t.maxAttempts,initialBackoff:t.initialBackoff,maxBackoff:t.maxBackoff,backoffMultiplier:t.backoffMultiplier,retryableStatusCodes:t.retryableStatusCodes}}function Cie(t){if(!("maxAttempts"in t)||!Number.isInteger(t.maxAttempts)||t.maxAttempts<2)throw new Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in t&&(typeof t.hedgingDelay!="string"||!rE.test(t.hedgingDelay)))throw new Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in t&&Array.isArray(t.nonFatalStatusCodes))for(let n of t.nonFatalStatusCodes)if(typeof n=="number"){if(!Object.values(nE.Status).includes(n))throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if(typeof n=="string"){if(!Object.values(nE.Status).includes(n.toUpperCase()))throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value must be a string or number");let e={maxAttempts:t.maxAttempts};return t.hedgingDelay&&(e.hedgingDelay=t.hedgingDelay),t.nonFatalStatusCodes&&(e.nonFatalStatusCodes=t.nonFatalStatusCodes),e}function Iie(t){var e;let n={name:[]};if(!("name"in t)||!Array.isArray(t.name))throw new Error("Invalid method config: invalid name array");for(let r of t.name)n.name.push(Eie(r));if("waitForReady"in t){if(typeof t.waitForReady!="boolean")throw new Error("Invalid method config: invalid waitForReady");n.waitForReady=t.waitForReady}if("timeout"in t)if(typeof t.timeout=="object"){if(!("seconds"in t.timeout)||typeof t.timeout.seconds!="number")throw new Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in t.timeout)||typeof t.timeout.nanos!="number")throw new Error("Invalid method config: invalid timeout.nanos");n.timeout=t.timeout}else if(typeof t.timeout=="string"&&rE.test(t.timeout)){let r=t.timeout.substring(0,t.timeout.length-1).split(".");n.timeout={seconds:r[0]|0,nanos:((e=r[1])!==null&&e!==void 0?e:0)|0}}else throw new Error("Invalid method config: invalid timeout");if("maxRequestBytes"in t){if(typeof t.maxRequestBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");n.maxRequestBytes=t.maxRequestBytes}if("maxResponseBytes"in t){if(typeof t.maxResponseBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");n.maxResponseBytes=t.maxResponseBytes}if("retryPolicy"in t){if("hedgingPolicy"in t)throw new Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");n.retryPolicy=mie(t.retryPolicy)}else"hedgingPolicy"in t&&(n.hedgingPolicy=Cie(t.hedgingPolicy));return n}function nP(t){if(!("maxTokens"in t)||typeof t.maxTokens!="number"||t.maxTokens<=0||t.maxTokens>1e3)throw new Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in t)||typeof t.tokenRatio!="number"||t.tokenRatio<=0)throw new Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+t.maxTokens.toFixed(3),tokenRatio:+t.tokenRatio.toFixed(3)}}eo.validateRetryThrottling=nP;function rP(t){let e={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in t)if(typeof t.loadBalancingPolicy=="string")e.loadBalancingPolicy=t.loadBalancingPolicy;else throw new Error("Invalid service config: invalid loadBalancingPolicy");if("loadBalancingConfig"in t)if(Array.isArray(t.loadBalancingConfig))for(let r of t.loadBalancingConfig)e.loadBalancingConfig.push((0,gie.validateLoadBalancingConfig)(r));else throw new Error("Invalid service config: invalid loadBalancingConfig");if("methodConfig"in t&&Array.isArray(t.methodConfig))for(let r of t.methodConfig)e.methodConfig.push(Iie(r));"retryThrottling"in t&&(e.retryThrottling=nP(t.retryThrottling));let n=[];for(let r of e.methodConfig)for(let i of r.name){for(let s of n)if(i.service===s.service&&i.method===s.method)throw new Error(`Invalid service config: duplicate name ${i.service}/${i.method}`);n.push(i)}return e}eo.validateServiceConfig=rP;function yie(t){if(!("serviceConfig"in t))throw new Error("Invalid service config choice: missing service config");let e={serviceConfig:rP(t.serviceConfig)};if("clientLanguage"in t)if(Array.isArray(t.clientLanguage)){e.clientLanguage=[];for(let r of t.clientLanguage)if(typeof r=="string")e.clientLanguage.push(r);else throw new Error("Invalid service config choice: invalid clientLanguage")}else throw new Error("Invalid service config choice: invalid clientLanguage");if("clientHostname"in t)if(Array.isArray(t.clientHostname)){e.clientHostname=[];for(let r of t.clientHostname)if(typeof r=="string")e.clientHostname.push(r);else throw new Error("Invalid service config choice: invalid clientHostname")}else throw new Error("Invalid service config choice: invalid clientHostname");if("percentage"in t)if(typeof t.percentage=="number"&&0<=t.percentage&&t.percentage<=100)e.percentage=t.percentage;else throw new Error("Invalid service config choice: invalid percentage");let n=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let r in t)if(!n.includes(r))throw new Error(`Invalid service config choice: unexpected field ${r}`);return e}function Bie(t,e){if(!Array.isArray(t))throw new Error("Invalid service config list");for(let n of t){let r=yie(n);if(!(typeof r.percentage=="number"&&e>r.percentage)){if(Array.isArray(r.clientHostname)){let i=!1;for(let s of r.clientHostname)s===fie.hostname()&&(i=!0);if(!i)continue}if(Array.isArray(r.clientLanguage)){let i=!1;for(let s of r.clientLanguage)s===pie&&(i=!0);if(!i)continue}return r.serviceConfig}}throw new Error("No matching service config found")}function Qie(t,e){for(let n of t)if(n.length>0&&n[0].startsWith("grpc_config=")){let r=n.join("").substring(12),i=JSON.parse(r);return Bie(i,e)}return null}eo.extractAndSelectServiceConfig=Qie});var yr=m(iE=>{"use strict";Object.defineProperty(iE,"__esModule",{value:!0});iE.ConnectivityState=void 0;var iP=function(t){return t[t.IDLE=0]="IDLE",t[t.CONNECTING=1]="CONNECTING",t[t.READY=2]="READY",t[t.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",t[t.SHUTDOWN=4]="SHUTDOWN",t}(iP||(iE.ConnectivityState=iP={}))});var ir=m(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});to.uriToString=to.splitHostPort=to.parseUri=void 0;var wie=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function vie(t){let e=wie.exec(t);return e===null?null:{scheme:e[1],authority:e[2],path:e[3]}}to.parseUri=vie;var sP=/^\d+$/;function _ie(t){if(t.startsWith("[")){let e=t.indexOf("]");if(e===-1)return null;let n=t.substring(1,e);if(n.indexOf(":")===-1)return null;if(t.length>e+1)if(t[e+1]===":"){let r=t.substring(e+2);return sP.test(r)?{host:n,port:+r}:null}else return null;else return{host:n}}else{let e=t.split(":");return e.length===2?sP.test(e[1])?{host:e[0],port:+e[1]}:null:{host:t}}}to.splitHostPort=_ie;function Sie(t){let e="";return t.scheme!==void 0&&(e+=t.scheme+":"),t.authority!==void 0&&(e+="//"+t.authority+"/"),e+=t.path,e}to.uriToString=Sie});var Di=m(Br=>{"use strict";Object.defineProperty(Br,"__esModule",{value:!0});Br.mapUriDefaultScheme=Br.getDefaultAuthority=Br.createResolver=Br.registerDefaultScheme=Br.registerResolver=void 0;var Dv=ir(),Ec={},bv=null;function bie(t,e){Ec[t]=e}Br.registerResolver=bie;function Die(t){bv=t}Br.registerDefaultScheme=Die;function Rie(t,e,n){if(t.scheme!==void 0&&t.scheme in Ec)return new Ec[t.scheme](t,e,n);throw new Error(`No resolver could be created for target ${(0,Dv.uriToString)(t)}`)}Br.createResolver=Rie;function Tie(t){if(t.scheme!==void 0&&t.scheme in Ec)return Ec[t.scheme].getDefaultAuthority(t);throw new Error(`Invalid target ${(0,Dv.uriToString)(t)}`)}Br.getDefaultAuthority=Tie;function Nie(t){return t.scheme===void 0||!(t.scheme in Ec)?bv!==null?{scheme:bv,authority:void 0,path:(0,Dv.uriToString)(t)}:null:t}Br.mapUriDefaultScheme=Nie});var ro=m(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.QueuePicker=no.UnavailablePicker=no.PickResultType=void 0;var kie=vn(),Fie=Re(),sE=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.QUEUE=1]="QUEUE",t[t.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",t[t.DROP=3]="DROP",t}(sE||(no.PickResultType=sE={})),Rv=class{constructor(e){this.status=Object.assign({code:Fie.Status.UNAVAILABLE,details:"No connection established",metadata:new kie.Metadata},e)}pick(e){return{pickResultType:sE.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}};no.UnavailablePicker=Rv;var Tv=class{constructor(e){this.loadBalancer=e,this.calledExitIdle=!1}pick(e){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),{pickResultType:sE.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}};no.QueuePicker=Tv});var Ih=m(oE=>{"use strict";Object.defineProperty(oE,"__esModule",{value:!0});oE.BackoffTimeout=void 0;var Mie=1e3,xie=1.6,Lie=12e4,Oie=.2;function Uie(t,e){return Math.random()*(e-t)+t}var Nv=class{constructor(e,n){this.callback=e,this.initialDelay=Mie,this.multiplier=xie,this.maxDelay=Lie,this.jitter=Oie,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,n&&(n.initialDelay&&(this.initialDelay=n.initialDelay),n.multiplier&&(this.multiplier=n.multiplier),n.jitter&&(this.jitter=n.jitter),n.maxDelay&&(this.maxDelay=n.maxDelay)),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}runTimer(e){var n,r;this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.callback(),this.running=!1},e),this.hasRef||(r=(n=this.timerId).unref)===null||r===void 0||r.call(n)}runOnce(){this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);let e=Math.min(this.nextDelay*this.multiplier,this.maxDelay),n=e*this.jitter;this.nextDelay=e+Uie(-n,n)}stop(){clearTimeout(this.timerId),this.running=!1}reset(){if(this.nextDelay=this.initialDelay,this.running){let e=new Date,n=this.startTime;n.setMilliseconds(n.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),e<n?this.runTimer(n.getTime()-e.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var e,n;this.hasRef=!0,(n=(e=this.timerId).ref)===null||n===void 0||n.call(e)}unref(){var e,n;this.hasRef=!1,(n=(e=this.timerId).unref)===null||n===void 0||n.call(e)}getEndTime(){return this.endTime}};oE.BackoffTimeout=Nv});var AE=m(aE=>{"use strict";Object.defineProperty(aE,"__esModule",{value:!0});aE.ChildLoadBalancerHandler=void 0;var Pie=Zs(),Vie=yr(),qie="child_load_balancer_helper",kv=class{constructor(e){this.channelControlHelper=e,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(n){this.parent=n,this.child=null}createSubchannel(n,r){return this.parent.channelControlHelper.createSubchannel(n,r)}updateState(n,r){var i;if(this.calledByPendingChild()){if(n===Vie.ConnectivityState.CONNECTING)return;(i=this.parent.currentChild)===null||i===void 0||i.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(n,r)}requestReresolution(){var n;let r=(n=this.parent.pendingChild)!==null&&n!==void 0?n:this.parent.currentChild;this.child===r&&this.parent.channelControlHelper.requestReresolution()}setChild(n){this.child=n}addChannelzChild(n){this.parent.channelControlHelper.addChannelzChild(n)}removeChannelzChild(n){this.parent.channelControlHelper.removeChannelzChild(n)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(e,n){return e.getLoadBalancerName()!==n.getLoadBalancerName()}updateAddressList(e,n,r){let i;if(this.currentChild===null||this.latestConfig===null||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,n)){let s=new this.ChildPolicyHelper(this),o=(0,Pie.createLoadBalancer)(n,s);s.setChild(o),this.currentChild===null?(this.currentChild=o,i=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=o,i=this.pendingChild)}else this.pendingChild===null?i=this.currentChild:i=this.pendingChild;this.latestConfig=n,i.updateAddressList(e,n,r)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return qie}};aE.ChildLoadBalancerHandler=kv});var aP=m(cE=>{"use strict";Object.defineProperty(cE,"__esModule",{value:!0});cE.ResolvingLoadBalancer=void 0;var Gie=Zs(),Hie=Sv(),Pn=yr(),Yie=Di(),mc=ro(),Wie=Ih(),Fv=Re(),Jie=vn(),zie=pt(),jie=Re(),Kie=ir(),$ie=AE(),Xie="resolving_load_balancer";function oP(t){zie.trace(jie.LogVerbosity.DEBUG,Xie,t)}var Zie=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function ese(t,e,n,r){for(let i of n.name)switch(r){case"EMPTY":if(!i.service&&!i.method)return!0;break;case"SERVICE":if(i.service===t&&!i.method)return!0;break;case"SERVICE_AND_METHOD":if(i.service===t&&i.method===e)return!0}return!1}function tse(t,e,n,r){for(let i of n)if(ese(t,e,i,r))return i;return null}function nse(t){return function(n,r){var i,s;let o=n.split("/").filter(c=>c.length>0),a=(i=o[0])!==null&&i!==void 0?i:"",A=(s=o[1])!==null&&s!==void 0?s:"";if(t&&t.methodConfig)for(let c of Zie){let l=tse(a,A,t.methodConfig,c);if(l)return{methodConfig:l,pickInformation:{},status:Fv.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:Fv.Status.OK,dynamicFilterFactories:[]}}}var Mv=class{constructor(e,n,r,i,s){this.target=e,this.channelControlHelper=n,this.onSuccessfulResolution=i,this.onFailedResolution=s,this.latestChildState=Pn.ConnectivityState.IDLE,this.latestChildPicker=new mc.QueuePicker(this),this.currentState=Pn.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,r["grpc.service_config"]?this.defaultServiceConfig=(0,Hie.validateServiceConfig)(JSON.parse(r["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(Pn.ConnectivityState.IDLE,new mc.QueuePicker(this)),this.childLoadBalancer=new $ie.ChildLoadBalancerHandler({createSubchannel:n.createSubchannel.bind(n),requestReresolution:()=>{this.backoffTimeout.isRunning()?(oP("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0):this.updateResolution()},updateState:(a,A)=>{this.latestChildState=a,this.latestChildPicker=A,this.updateState(a,A)},addChannelzChild:n.addChannelzChild.bind(n),removeChannelzChild:n.removeChannelzChild.bind(n)}),this.innerResolver=(0,Yie.createResolver)(e,{onSuccessfulResolution:(a,A,c,l,u)=>{var h;this.backoffTimeout.stop(),this.backoffTimeout.reset();let d=null;A===null?c===null?(this.previousServiceConfig=null,d=this.defaultServiceConfig):this.previousServiceConfig===null?this.handleResolutionFailure(c):d=this.previousServiceConfig:(d=A,this.previousServiceConfig=A);let f=(h=d?.loadBalancingConfig)!==null&&h!==void 0?h:[],E=(0,Gie.getFirstUsableConfig)(f,!0);if(E===null){this.handleResolutionFailure({code:Fv.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new Jie.Metadata});return}this.childLoadBalancer.updateAddressList(a,E,u);let C=d??this.defaultServiceConfig;this.onSuccessfulResolution(C,l??nse(C))},onError:a=>{this.handleResolutionFailure(a)}},r);let o={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new Wie.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker)},o),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===Pn.ConnectivityState.IDLE&&this.updateState(Pn.ConnectivityState.CONNECTING,new mc.QueuePicker(this)),this.backoffTimeout.runOnce()}updateState(e,n){oP((0,Kie.uriToString)(this.target)+" "+Pn.ConnectivityState[this.currentState]+" -> "+Pn.ConnectivityState[e]),e===Pn.ConnectivityState.IDLE&&(n=new mc.QueuePicker(this)),this.currentState=e,this.channelControlHelper.updateState(e,n)}handleResolutionFailure(e){this.latestChildState===Pn.ConnectivityState.IDLE&&(this.updateState(Pn.ConnectivityState.TRANSIENT_FAILURE,new mc.UnavailablePicker(e)),this.onFailedResolution(e))}exitIdle(){(this.currentState===Pn.ConnectivityState.IDLE||this.currentState===Pn.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList(e,n){throw new Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=Pn.ConnectivityState.IDLE,this.latestChildPicker=new mc.QueuePicker(this),this.currentState=Pn.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}};cE.ResolvingLoadBalancer=Mv});var AP=m(Cc=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});Cc.channelOptionsEqual=Cc.recognizedOptions=void 0;Cc.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0};function rse(t,e){let n=Object.keys(t).sort(),r=Object.keys(e).sort();if(n.length!==r.length)return!1;for(let i=0;i<n.length;i+=1)if(n[i]!==r[i]||t[n[i]]!==e[r[i]])return!1;return!0}Cc.channelOptionsEqual=rse});var Ti=m(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.stringToSubchannelAddress=Ri.subchannelAddressToString=Ri.subchannelAddressEqual=Ri.isTcpSubchannelAddress=void 0;var ise=B("net");function yh(t){return"port"in t}Ri.isTcpSubchannelAddress=yh;function sse(t,e){return!t&&!e?!0:!t||!e?!1:yh(t)?yh(e)&&t.host===e.host&&t.port===e.port:!yh(e)&&t.path===e.path}Ri.subchannelAddressEqual=sse;function ose(t){return yh(t)?t.host+":"+t.port:t.path}Ri.subchannelAddressToString=ose;var ase=443;function Ase(t,e){return(0,ise.isIP)(t)?{host:t,port:e??ase}:{path:t}}Ri.stringToSubchannelAddress=Ase});var lE=m(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});Ic.addAdminServicesToServer=Ic.registerAdminService=void 0;var cP=[];function cse(t,e){cP.push({getServiceDefinition:t,getHandlers:e})}Ic.registerAdminService=cse;function lse(t){for(let{getServiceDefinition:e,getHandlers:n}of cP)t.addService(e(),n())}Ic.addAdminServicesToServer=lse});var lP=m(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.ClientDuplexStreamImpl=Qr.ClientWritableStreamImpl=Qr.ClientReadableStreamImpl=Qr.ClientUnaryCallImpl=Qr.callErrorFromStatus=void 0;var use=B("events"),Pv=B("stream"),Bh=Re();function hse(t,e){let n=`${t.code} ${Bh.Status[t.code]}: ${t.details}`,i=`${new Error(n).stack}
for call at
${e}`;return Object.assign(new Error(n),t,{stack:i})}Qr.callErrorFromStatus=hse;var xv=class extends use.EventEmitter{constructor(){super()}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Bh.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,n;return(n=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&n!==void 0?n:"unknown"}};Qr.ClientUnaryCallImpl=xv;var Lv=class extends Pv.Readable{constructor(e){super({objectMode:!0}),this.deserialize=e}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Bh.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,n;return(n=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&n!==void 0?n:"unknown"}_read(e){var n;(n=this.call)===null||n===void 0||n.startRead()}};Qr.ClientReadableStreamImpl=Lv;var Ov=class extends Pv.Writable{constructor(e){super({objectMode:!0}),this.serialize=e}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Bh.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,n;return(n=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&n!==void 0?n:"unknown"}_write(e,n,r){var i;let s={callback:r},o=Number(n);Number.isNaN(o)||(s.flags=o),(i=this.call)===null||i===void 0||i.sendMessageWithContext(s,e)}_final(e){var n;(n=this.call)===null||n===void 0||n.halfClose(),e()}};Qr.ClientWritableStreamImpl=Ov;var Uv=class extends Pv.Duplex{constructor(e,n){super({objectMode:!0}),this.serialize=e,this.deserialize=n}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Bh.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,n;return(n=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&n!==void 0?n:"unknown"}_read(e){var n;(n=this.call)===null||n===void 0||n.startRead()}_write(e,n,r){var i;let s={callback:r},o=Number(n);Number.isNaN(o)||(s.flags=o),(i=this.call)===null||i===void 0||i.sendMessageWithContext(s,e)}_final(e){var n;(n=this.call)===null||n===void 0||n.halfClose(),e()}};Qr.ClientDuplexStreamImpl=Uv});var uP=m(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});yc.InterceptingListenerImpl=yc.isInterceptingListener=void 0;function dse(t){return t.onReceiveMetadata!==void 0&&t.onReceiveMetadata.length===1}yc.isInterceptingListener=dse;var Vv=class{constructor(e,n){this.listener=e,this.nextListener=n,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(e){this.processingMetadata=!0,this.listener.onReceiveMetadata(e,n=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(n),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(e){this.processingMessage=!0,this.listener.onReceiveMessage(e,n=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=n,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(n),this.processPendingStatus())})}onReceiveStatus(e){this.listener.onReceiveStatus(e,n=>{this.processingMetadata||this.processingMessage?this.pendingStatus=n:this.nextListener.onReceiveStatus(n)})}};yc.InterceptingListenerImpl=Vv});var zv=m(wr=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});wr.getInterceptingCall=wr.InterceptingCall=wr.RequesterBuilder=wr.ListenerBuilder=wr.InterceptorConfigurationError=void 0;var fse=vn(),hP=uP(),dP=Re(),fP=jp(),wh=class t extends Error{constructor(e){super(e),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,t)}};wr.InterceptorConfigurationError=wh;var Gv=class{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveStatus(e){return this.status=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}};wr.ListenerBuilder=Gv;var Hv=class{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(e){return this.start=e,this}withSendMessage(e){return this.message=e,this}withHalfClose(e){return this.halfClose=e,this}withCancel(e){return this.cancel=e,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}};wr.RequesterBuilder=Hv;var qv={onReceiveMetadata:(t,e)=>{e(t)},onReceiveMessage:(t,e)=>{e(t)},onReceiveStatus:(t,e)=>{e(t)}},Qh={start:(t,e,n)=>{n(t,e)},sendMessage:(t,e)=>{e(t)},halfClose:t=>{t()},cancel:t=>{t()}},Yv=class{constructor(e,n){var r,i,s,o;this.nextCall=e,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,n?this.requester={start:(r=n.start)!==null&&r!==void 0?r:Qh.start,sendMessage:(i=n.sendMessage)!==null&&i!==void 0?i:Qh.sendMessage,halfClose:(s=n.halfClose)!==null&&s!==void 0?s:Qh.halfClose,cancel:(o=n.cancel)!==null&&o!==void 0?o:Qh.cancel}:this.requester=Qh}cancelWithStatus(e,n){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(e,n)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(e,n){var r,i,s,o,a,A;let c={onReceiveMetadata:(i=(r=n?.onReceiveMetadata)===null||r===void 0?void 0:r.bind(n))!==null&&i!==void 0?i:l=>{},onReceiveMessage:(o=(s=n?.onReceiveMessage)===null||s===void 0?void 0:s.bind(n))!==null&&o!==void 0?o:l=>{},onReceiveStatus:(A=(a=n?.onReceiveStatus)===null||a===void 0?void 0:a.bind(n))!==null&&A!==void 0?A:l=>{}};this.processingMetadata=!0,this.requester.start(e,c,(l,u)=>{var h,d,f;this.processingMetadata=!1;let E;if((0,hP.isInterceptingListener)(u))E=u;else{let C={onReceiveMetadata:(h=u.onReceiveMetadata)!==null&&h!==void 0?h:qv.onReceiveMetadata,onReceiveMessage:(d=u.onReceiveMessage)!==null&&d!==void 0?d:qv.onReceiveMessage,onReceiveStatus:(f=u.onReceiveStatus)!==null&&f!==void 0?f:qv.onReceiveStatus};E=new hP.InterceptingListenerImpl(C,c)}this.nextCall.start(l,E),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(e,n){this.processingMessage=!0,this.requester.sendMessage(n,r=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=e,this.pendingMessage=n):(this.nextCall.sendMessageWithContext(e,r),this.processPendingHalfClose())})}sendMessage(e){this.sendMessageWithContext({},e)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}};wr.InterceptingCall=Yv;function gse(t,e,n){var r,i;let s=(r=n.deadline)!==null&&r!==void 0?r:1/0,o=n.host,a=(i=n.parent)!==null&&i!==void 0?i:null,A=n.propagate_flags,c=n.credentials,l=t.createCall(e,s,o,a,A);return c&&l.setCredentials(c),l}var uE=class{constructor(e,n){this.call=e,this.methodDefinition=n}cancelWithStatus(e,n){this.call.cancelWithStatus(e,n)}getPeer(){return this.call.getPeer()}sendMessageWithContext(e,n){let r;try{r=this.methodDefinition.requestSerialize(n)}catch(i){this.call.cancelWithStatus(dP.Status.INTERNAL,`Request message serialization failure: ${(0,fP.getErrorMessage)(i)}`);return}this.call.sendMessageWithContext(e,r)}sendMessage(e){this.sendMessageWithContext({},e)}start(e,n){let r=null;this.call.start(e,{onReceiveMetadata:i=>{var s;(s=n?.onReceiveMetadata)===null||s===void 0||s.call(n,i)},onReceiveMessage:i=>{var s;let o;try{o=this.methodDefinition.responseDeserialize(i)}catch(a){r={code:dP.Status.INTERNAL,details:`Response message parsing error: ${(0,fP.getErrorMessage)(a)}`,metadata:new fse.Metadata},this.call.cancelWithStatus(r.code,r.details);return}(s=n?.onReceiveMessage)===null||s===void 0||s.call(n,o)},onReceiveStatus:i=>{var s,o;r?(s=n?.onReceiveStatus)===null||s===void 0||s.call(n,r):(o=n?.onReceiveStatus)===null||o===void 0||o.call(n,i)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}},Wv=class extends uE{constructor(e,n){super(e,n)}start(e,n){var r,i;let s=!1,o={onReceiveMetadata:(i=(r=n?.onReceiveMetadata)===null||r===void 0?void 0:r.bind(n))!==null&&i!==void 0?i:a=>{},onReceiveMessage:a=>{var A;s=!0,(A=n?.onReceiveMessage)===null||A===void 0||A.call(n,a)},onReceiveStatus:a=>{var A,c;s||(A=n?.onReceiveMessage)===null||A===void 0||A.call(n,null),(c=n?.onReceiveStatus)===null||c===void 0||c.call(n,a)}};super.start(e,o),this.call.startRead()}},Jv=class extends uE{};function pse(t,e,n){let r=gse(t,n.path,e);return n.responseStream?new Jv(r,n):new Wv(r,n)}function Ese(t,e,n,r){if(t.clientInterceptors.length>0&&t.clientInterceptorProviders.length>0)throw new wh("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(t.callInterceptors.length>0&&t.callInterceptorProviders.length>0)throw new wh("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let i=[];t.callInterceptors.length>0||t.callInterceptorProviders.length>0?i=[].concat(t.callInterceptors,t.callInterceptorProviders.map(a=>a(e))).filter(a=>a):i=[].concat(t.clientInterceptors,t.clientInterceptorProviders.map(a=>a(e))).filter(a=>a);let s=Object.assign({},n,{method_definition:e});return i.reduceRight((a,A)=>c=>A(c,a),a=>pse(r,a,e))(s)}wr.getInterceptingCall=Ese});var $v=m(dE=>{"use strict";Object.defineProperty(dE,"__esModule",{value:!0});dE.Client=void 0;var Ni=lP(),mse=Xv(),Cse=yr(),io=Re(),Bc=vn(),hE=zv(),Yr=Symbol(),Qc=Symbol(),wc=Symbol(),gs=Symbol();function jv(t){return typeof t=="function"}function vc(t){return t.stack.split(`
`).slice(1).join(`
`)}var Kv=class{constructor(e,n,r={}){var i,s;if(r=Object.assign({},r),this[Qc]=(i=r.interceptors)!==null&&i!==void 0?i:[],delete r.interceptors,this[wc]=(s=r.interceptor_providers)!==null&&s!==void 0?s:[],delete r.interceptor_providers,this[Qc].length>0&&this[wc].length>0)throw new Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[gs]=r.callInvocationTransformer,delete r.callInvocationTransformer,r.channelOverride)this[Yr]=r.channelOverride;else if(r.channelFactoryOverride){let o=r.channelFactoryOverride;delete r.channelFactoryOverride,this[Yr]=o(e,n,r)}else this[Yr]=new mse.ChannelImplementation(e,n,r)}close(){this[Yr].close()}getChannel(){return this[Yr]}waitForReady(e,n){let r=i=>{if(i){n(new Error("Failed to connect before the deadline"));return}let s;try{s=this[Yr].getConnectivityState(!0)}catch{n(new Error("The channel has been closed"));return}if(s===Cse.ConnectivityState.READY)n();else try{this[Yr].watchConnectivityState(s,e,r)}catch{n(new Error("The channel has been closed"))}};setImmediate(r)}checkOptionalUnaryResponseArguments(e,n,r){if(jv(e))return{metadata:new Bc.Metadata,options:{},callback:e};if(jv(n))return e instanceof Bc.Metadata?{metadata:e,options:{},callback:n}:{metadata:new Bc.Metadata,options:e,callback:n};if(!(e instanceof Bc.Metadata&&n instanceof Object&&jv(r)))throw new Error("Incorrect arguments passed");return{metadata:e,options:n,callback:r}}makeUnaryRequest(e,n,r,i,s,o,a){var A,c;let l=this.checkOptionalUnaryResponseArguments(s,o,a),u={path:e,requestStream:!1,responseStream:!1,requestSerialize:n,responseDeserialize:r},h={argument:i,metadata:l.metadata,call:new Ni.ClientUnaryCallImpl,channel:this[Yr],methodDefinition:u,callOptions:l.options,callback:l.callback};this[gs]&&(h=this[gs](h));let d=h.call,f={clientInterceptors:this[Qc],clientInterceptorProviders:this[wc],callInterceptors:(A=h.callOptions.interceptors)!==null&&A!==void 0?A:[],callInterceptorProviders:(c=h.callOptions.interceptor_providers)!==null&&c!==void 0?c:[]},E=(0,hE.getInterceptingCall)(f,h.methodDefinition,h.callOptions,h.channel);d.call=E;let C=null,y=!1,I=new Error;return E.start(h.metadata,{onReceiveMetadata:S=>{d.emit("metadata",S)},onReceiveMessage(S){C!==null&&E.cancelWithStatus(io.Status.INTERNAL,"Too many responses received"),C=S},onReceiveStatus(S){if(!y){if(y=!0,S.code===io.Status.OK)if(C===null){let v=vc(I);h.callback((0,Ni.callErrorFromStatus)({code:io.Status.INTERNAL,details:"No message received",metadata:S.metadata},v))}else h.callback(null,C);else{let v=vc(I);h.callback((0,Ni.callErrorFromStatus)(S,v))}I=null,d.emit("status",S)}}}),E.sendMessage(i),E.halfClose(),d}makeClientStreamRequest(e,n,r,i,s,o){var a,A;let c=this.checkOptionalUnaryResponseArguments(i,s,o),l={path:e,requestStream:!0,responseStream:!1,requestSerialize:n,responseDeserialize:r},u={metadata:c.metadata,call:new Ni.ClientWritableStreamImpl(n),channel:this[Yr],methodDefinition:l,callOptions:c.options,callback:c.callback};this[gs]&&(u=this[gs](u));let h=u.call,d={clientInterceptors:this[Qc],clientInterceptorProviders:this[wc],callInterceptors:(a=u.callOptions.interceptors)!==null&&a!==void 0?a:[],callInterceptorProviders:(A=u.callOptions.interceptor_providers)!==null&&A!==void 0?A:[]},f=(0,hE.getInterceptingCall)(d,u.methodDefinition,u.callOptions,u.channel);h.call=f;let E=null,C=!1,y=new Error;return f.start(u.metadata,{onReceiveMetadata:I=>{h.emit("metadata",I)},onReceiveMessage(I){E!==null&&f.cancelWithStatus(io.Status.INTERNAL,"Too many responses received"),E=I},onReceiveStatus(I){if(!C){if(C=!0,I.code===io.Status.OK)if(E===null){let S=vc(y);u.callback((0,Ni.callErrorFromStatus)({code:io.Status.INTERNAL,details:"No message received",metadata:I.metadata},S))}else u.callback(null,E);else{let S=vc(y);u.callback((0,Ni.callErrorFromStatus)(I,S))}y=null,h.emit("status",I)}}}),h}checkMetadataAndOptions(e,n){let r,i;return e instanceof Bc.Metadata?(r=e,n?i=n:i={}):(e?i=e:i={},r=new Bc.Metadata),{metadata:r,options:i}}makeServerStreamRequest(e,n,r,i,s,o){var a,A;let c=this.checkMetadataAndOptions(s,o),l={path:e,requestStream:!1,responseStream:!0,requestSerialize:n,responseDeserialize:r},u={argument:i,metadata:c.metadata,call:new Ni.ClientReadableStreamImpl(r),channel:this[Yr],methodDefinition:l,callOptions:c.options};this[gs]&&(u=this[gs](u));let h=u.call,d={clientInterceptors:this[Qc],clientInterceptorProviders:this[wc],callInterceptors:(a=u.callOptions.interceptors)!==null&&a!==void 0?a:[],callInterceptorProviders:(A=u.callOptions.interceptor_providers)!==null&&A!==void 0?A:[]},f=(0,hE.getInterceptingCall)(d,u.methodDefinition,u.callOptions,u.channel);h.call=f;let E=!1,C=new Error;return f.start(u.metadata,{onReceiveMetadata(y){h.emit("metadata",y)},onReceiveMessage(y){h.push(y)},onReceiveStatus(y){if(!E){if(E=!0,h.push(null),y.code!==io.Status.OK){let I=vc(C);h.emit("error",(0,Ni.callErrorFromStatus)(y,I))}C=null,h.emit("status",y)}}}),f.sendMessage(i),f.halfClose(),h}makeBidiStreamRequest(e,n,r,i,s){var o,a;let A=this.checkMetadataAndOptions(i,s),c={path:e,requestStream:!0,responseStream:!0,requestSerialize:n,responseDeserialize:r},l={metadata:A.metadata,call:new Ni.ClientDuplexStreamImpl(n,r),channel:this[Yr],methodDefinition:c,callOptions:A.options};this[gs]&&(l=this[gs](l));let u=l.call,h={clientInterceptors:this[Qc],clientInterceptorProviders:this[wc],callInterceptors:(o=l.callOptions.interceptors)!==null&&o!==void 0?o:[],callInterceptorProviders:(a=l.callOptions.interceptor_providers)!==null&&a!==void 0?a:[]},d=(0,hE.getInterceptingCall)(h,l.methodDefinition,l.callOptions,l.channel);u.call=d;let f=!1,E=new Error;return d.start(l.metadata,{onReceiveMetadata(C){u.emit("metadata",C)},onReceiveMessage(C){u.push(C)},onReceiveStatus(C){if(!f){if(f=!0,u.push(null),C.code!==io.Status.OK){let y=vc(E);u.emit("error",(0,Ni.callErrorFromStatus)(C,y))}E=null,u.emit("status",C)}}}),u}};dE.Client=Kv});var e_=m(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});_c.loadPackageDefinition=_c.makeClientConstructor=void 0;var vh=$v(),Ise={unary:vh.Client.prototype.makeUnaryRequest,server_stream:vh.Client.prototype.makeServerStreamRequest,client_stream:vh.Client.prototype.makeClientStreamRequest,bidi:vh.Client.prototype.makeBidiStreamRequest};function Zv(t){return["__proto__","prototype","constructor"].includes(t)}function gP(t,e,n){n||(n={});class r extends vh.Client{}return Object.keys(t).forEach(i=>{if(Zv(i))return;let s=t[i],o;if(typeof i=="string"&&i.charAt(0)==="$")throw new Error("Method names cannot start with $");s.requestStream?s.responseStream?o="bidi":o="client_stream":s.responseStream?o="server_stream":o="unary";let a=s.requestSerialize,A=s.responseDeserialize,c=yse(Ise[o],s.path,a,A);r.prototype[i]=c,Object.assign(r.prototype[i],s),s.originalName&&!Zv(s.originalName)&&(r.prototype[s.originalName]=r.prototype[i])}),r.service=t,r.serviceName=e,r}_c.makeClientConstructor=gP;function yse(t,e,n,r){return function(...i){return t.call(this,e,n,r,...i)}}function Bse(t){return"format"in t}function Qse(t){let e={};for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)){let r=t[n],i=n.split(".");if(i.some(a=>Zv(a)))continue;let s=i[i.length-1],o=e;for(let a of i.slice(0,-1))o[a]||(o[a]={}),o=o[a];Bse(r)?o[s]=r:o[s]=gP(r,s,{})}return e}_c.loadPackageDefinition=Qse});var PP=m((T_e,UP)=>{"use strict";var wse=1/0,vse="[object Symbol]",_se=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Sse=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,gE="\\ud800-\\udfff",QP="\\u0300-\\u036f\\ufe20-\\ufe23",wP="\\u20d0-\\u20f0",vP="\\u2700-\\u27bf",_P="a-z\\xdf-\\xf6\\xf8-\\xff",bse="\\xac\\xb1\\xd7\\xf7",Dse="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Rse="\\u2000-\\u206f",Tse=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",SP="A-Z\\xc0-\\xd6\\xd8-\\xde",bP="\\ufe0e\\ufe0f",DP=bse+Dse+Rse+Tse,n_="['\u2019]",Nse="["+gE+"]",pP="["+DP+"]",fE="["+QP+wP+"]",RP="\\d+",kse="["+vP+"]",TP="["+_P+"]",NP="[^"+gE+DP+RP+vP+_P+SP+"]",t_="\\ud83c[\\udffb-\\udfff]",Fse="(?:"+fE+"|"+t_+")",kP="[^"+gE+"]",r_="(?:\\ud83c[\\udde6-\\uddff]){2}",i_="[\\ud800-\\udbff][\\udc00-\\udfff]",Sc="["+SP+"]",FP="\\u200d",EP="(?:"+TP+"|"+NP+")",Mse="(?:"+Sc+"|"+NP+")",mP="(?:"+n_+"(?:d|ll|m|re|s|t|ve))?",CP="(?:"+n_+"(?:D|LL|M|RE|S|T|VE))?",MP=Fse+"?",xP="["+bP+"]?",xse="(?:"+FP+"(?:"+[kP,r_,i_].join("|")+")"+xP+MP+")*",LP=xP+MP+xse,Lse="(?:"+[kse,r_,i_].join("|")+")"+LP,Ose="(?:"+[kP+fE+"?",fE,r_,i_,Nse].join("|")+")",Use=RegExp(n_,"g"),Pse=RegExp(fE,"g"),Vse=RegExp(t_+"(?="+t_+")|"+Ose+LP,"g"),qse=RegExp([Sc+"?"+TP+"+"+mP+"(?="+[pP,Sc,"$"].join("|")+")",Mse+"+"+CP+"(?="+[pP,Sc+EP,"$"].join("|")+")",Sc+"?"+EP+"+"+mP,Sc+"+"+CP,RP,Lse].join("|"),"g"),Gse=RegExp("["+FP+gE+QP+wP+bP+"]"),Hse=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Yse={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"ss"},Wse=typeof global=="object"&&global&&global.Object===Object&&global,Jse=typeof self=="object"&&self&&self.Object===Object&&self,zse=Wse||Jse||Function("return this")();function jse(t,e,n,r){var i=-1,s=t?t.length:0;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function Kse(t){return t.split("")}function $se(t){return t.match(_se)||[]}function Xse(t){return function(e){return t?.[e]}}var Zse=Xse(Yse);function OP(t){return Gse.test(t)}function eoe(t){return Hse.test(t)}function toe(t){return OP(t)?noe(t):Kse(t)}function noe(t){return t.match(Vse)||[]}function roe(t){return t.match(qse)||[]}var ioe=Object.prototype,soe=ioe.toString,IP=zse.Symbol,yP=IP?IP.prototype:void 0,BP=yP?yP.toString:void 0;function ooe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}function aoe(t){if(typeof t=="string")return t;if(hoe(t))return BP?BP.call(t):"";var e=t+"";return e=="0"&&1/t==-wse?"-0":e}function Aoe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:ooe(t,e,n)}function coe(t){return function(e){e=pE(e);var n=OP(e)?toe(e):void 0,r=n?n[0]:e.charAt(0),i=n?Aoe(n,1).join(""):e.slice(1);return r[t]()+i}}function loe(t){return function(e){return jse(Eoe(goe(e).replace(Use,"")),t,"")}}function uoe(t){return!!t&&typeof t=="object"}function hoe(t){return typeof t=="symbol"||uoe(t)&&soe.call(t)==vse}function pE(t){return t==null?"":aoe(t)}var doe=loe(function(t,e,n){return e=e.toLowerCase(),t+(n?foe(e):e)});function foe(t){return poe(pE(t).toLowerCase())}function goe(t){return t=pE(t),t&&t.replace(Sse,Zse).replace(Pse,"")}var poe=coe("toUpperCase");function Eoe(t,e,n){return t=pE(t),e=n?void 0:e,e===void 0?eoe(t)?roe(t):$se(t):t.match(e)||[]}UP.exports=doe});var s_=m((N_e,VP)=>{"use strict";VP.exports=moe;function moe(t,e){for(var n=new Array(arguments.length-1),r=0,i=2,s=!0;i<arguments.length;)n[r++]=arguments[i++];return new Promise(function(a,A){n[r]=function(l){if(s)if(s=!1,l)A(l);else{for(var u=new Array(arguments.length-1),h=0;h<u.length;)u[h++]=arguments[h];a.apply(null,u)}};try{t.apply(e||null,n)}catch(c){s&&(s=!1,A(c))}})}});var YP=m(HP=>{"use strict";var EE=HP;EE.length=function(e){var n=e.length;if(!n)return 0;for(var r=0;--n%4>1&&e.charAt(n)==="=";)++r;return Math.ceil(e.length*3)/4-r};var bc=new Array(64),GP=new Array(123);for(Wr=0;Wr<64;)GP[bc[Wr]=Wr<26?Wr+65:Wr<52?Wr+71:Wr<62?Wr-4:Wr-59|43]=Wr++;var Wr;EE.encode=function(e,n,r){for(var i=null,s=[],o=0,a=0,A;n<r;){var c=e[n++];switch(a){case 0:s[o++]=bc[c>>2],A=(c&3)<<4,a=1;break;case 1:s[o++]=bc[A|c>>4],A=(c&15)<<2,a=2;break;case 2:s[o++]=bc[A|c>>6],s[o++]=bc[c&63],a=0;break}o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),o=0)}return a&&(s[o++]=bc[A],s[o++]=61,a===1&&(s[o++]=61)),i?(o&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var qP="invalid encoding";EE.decode=function(e,n,r){for(var i=r,s=0,o,a=0;a<e.length;){var A=e.charCodeAt(a++);if(A===61&&s>1)break;if((A=GP[A])===void 0)throw Error(qP);switch(s){case 0:o=A,s=1;break;case 1:n[r++]=o<<2|(A&48)>>4,o=A,s=2;break;case 2:n[r++]=(o&15)<<4|(A&60)>>2,o=A,s=3;break;case 3:n[r++]=(o&3)<<6|A,s=0;break}}if(s===1)throw Error(qP);return r-i};EE.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var JP=m((F_e,WP)=>{"use strict";WP.exports=mE;function mE(){this._listeners={}}mE.prototype.on=function(e,n,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:n,ctx:r||this}),this};mE.prototype.off=function(e,n){if(e===void 0)this._listeners={};else if(n===void 0)this._listeners[e]=[];else for(var r=this._listeners[e],i=0;i<r.length;)r[i].fn===n?r.splice(i,1):++i;return this};mE.prototype.emit=function(e){var n=this._listeners[e];if(n){for(var r=[],i=1;i<arguments.length;)r.push(arguments[i++]);for(i=0;i<n.length;)n[i].fn.apply(n[i++].ctx,r)}return this}});var e2=m((M_e,ZP)=>{"use strict";ZP.exports=zP(zP);function zP(t){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),n=new Uint8Array(e.buffer),r=n[3]===128;function i(A,c,l){e[0]=A,c[l]=n[0],c[l+1]=n[1],c[l+2]=n[2],c[l+3]=n[3]}function s(A,c,l){e[0]=A,c[l]=n[3],c[l+1]=n[2],c[l+2]=n[1],c[l+3]=n[0]}t.writeFloatLE=r?i:s,t.writeFloatBE=r?s:i;function o(A,c){return n[0]=A[c],n[1]=A[c+1],n[2]=A[c+2],n[3]=A[c+3],e[0]}function a(A,c){return n[3]=A[c],n[2]=A[c+1],n[1]=A[c+2],n[0]=A[c+3],e[0]}t.readFloatLE=r?o:a,t.readFloatBE=r?a:o}():function(){function e(r,i,s,o){var a=i<0?1:0;if(a&&(i=-i),i===0)r(1/i>0?0:2147483648,s,o);else if(isNaN(i))r(2143289344,s,o);else if(i>34028234663852886e22)r((a<<31|2139095040)>>>0,s,o);else if(i<11754943508222875e-54)r((a<<31|Math.round(i/1401298464324817e-60))>>>0,s,o);else{var A=Math.floor(Math.log(i)/Math.LN2),c=Math.round(i*Math.pow(2,-A)*8388608)&8388607;r((a<<31|A+127<<23|c)>>>0,s,o)}}t.writeFloatLE=e.bind(null,jP),t.writeFloatBE=e.bind(null,KP);function n(r,i,s){var o=r(i,s),a=(o>>31)*2+1,A=o>>>23&255,c=o&8388607;return A===255?c?NaN:a*(1/0):A===0?a*1401298464324817e-60*c:a*Math.pow(2,A-150)*(c+8388608)}t.readFloatLE=n.bind(null,$P),t.readFloatBE=n.bind(null,XP)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),n=new Uint8Array(e.buffer),r=n[7]===128;function i(A,c,l){e[0]=A,c[l]=n[0],c[l+1]=n[1],c[l+2]=n[2],c[l+3]=n[3],c[l+4]=n[4],c[l+5]=n[5],c[l+6]=n[6],c[l+7]=n[7]}function s(A,c,l){e[0]=A,c[l]=n[7],c[l+1]=n[6],c[l+2]=n[5],c[l+3]=n[4],c[l+4]=n[3],c[l+5]=n[2],c[l+6]=n[1],c[l+7]=n[0]}t.writeDoubleLE=r?i:s,t.writeDoubleBE=r?s:i;function o(A,c){return n[0]=A[c],n[1]=A[c+1],n[2]=A[c+2],n[3]=A[c+3],n[4]=A[c+4],n[5]=A[c+5],n[6]=A[c+6],n[7]=A[c+7],e[0]}function a(A,c){return n[7]=A[c],n[6]=A[c+1],n[5]=A[c+2],n[4]=A[c+3],n[3]=A[c+4],n[2]=A[c+5],n[1]=A[c+6],n[0]=A[c+7],e[0]}t.readDoubleLE=r?o:a,t.readDoubleBE=r?a:o}():function(){function e(r,i,s,o,a,A){var c=o<0?1:0;if(c&&(o=-o),o===0)r(0,a,A+i),r(1/o>0?0:2147483648,a,A+s);else if(isNaN(o))r(0,a,A+i),r(2146959360,a,A+s);else if(o>17976931348623157e292)r(0,a,A+i),r((c<<31|2146435072)>>>0,a,A+s);else{var l;if(o<22250738585072014e-324)l=o/5e-324,r(l>>>0,a,A+i),r((c<<31|l/4294967296)>>>0,a,A+s);else{var u=Math.floor(Math.log(o)/Math.LN2);u===1024&&(u=1023),l=o*Math.pow(2,-u),r(l*4503599627370496>>>0,a,A+i),r((c<<31|u+1023<<20|l*1048576&1048575)>>>0,a,A+s)}}}t.writeDoubleLE=e.bind(null,jP,0,4),t.writeDoubleBE=e.bind(null,KP,4,0);function n(r,i,s,o,a){var A=r(o,a+i),c=r(o,a+s),l=(c>>31)*2+1,u=c>>>20&2047,h=4294967296*(c&1048575)+A;return u===2047?h?NaN:l*(1/0):u===0?l*5e-324*h:l*Math.pow(2,u-1075)*(h+4503599627370496)}t.readDoubleLE=n.bind(null,$P,0,4),t.readDoubleBE=n.bind(null,XP,4,0)}(),t}function jP(t,e,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}function KP(t,e,n){e[n]=t>>>24,e[n+1]=t>>>16&255,e[n+2]=t>>>8&255,e[n+3]=t&255}function $P(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function XP(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var o_=m((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var n2=m(t2=>{"use strict";var a_=t2;a_.length=function(e){for(var n=0,r=0,i=0;i<e.length;++i)r=e.charCodeAt(i),r<128?n+=1:r<2048?n+=2:(r&64512)===55296&&(e.charCodeAt(i+1)&64512)===56320?(++i,n+=4):n+=3;return n};a_.read=function(e,n,r){var i=r-n;if(i<1)return"";for(var s=null,o=[],a=0,A;n<r;)A=e[n++],A<128?o[a++]=A:A>191&&A<224?o[a++]=(A&31)<<6|e[n++]&63:A>239&&A<365?(A=((A&7)<<18|(e[n++]&63)<<12|(e[n++]&63)<<6|e[n++]&63)-65536,o[a++]=55296+(A>>10),o[a++]=56320+(A&1023)):o[a++]=(A&15)<<12|(e[n++]&63)<<6|e[n++]&63,a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0);return s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};a_.write=function(e,n,r){for(var i=r,s,o,a=0;a<e.length;++a)s=e.charCodeAt(a),s<128?n[r++]=s:s<2048?(n[r++]=s>>6|192,n[r++]=s&63|128):(s&64512)===55296&&((o=e.charCodeAt(a+1))&64512)===56320?(s=65536+((s&1023)<<10)+(o&1023),++a,n[r++]=s>>18|240,n[r++]=s>>12&63|128,n[r++]=s>>6&63|128,n[r++]=s&63|128):(n[r++]=s>>12|224,n[r++]=s>>6&63|128,n[r++]=s&63|128);return r-i}});var i2=m((L_e,r2)=>{"use strict";r2.exports=Coe;function Coe(t,e,n){var r=n||8192,i=r>>>1,s=null,o=r;return function(A){if(A<1||A>i)return t(A);o+A>r&&(s=t(r),o=0);var c=e.call(s,o,o+=A);return o&7&&(o=(o|7)+1),c}}});var o2=m((O_e,s2)=>{"use strict";s2.exports=Mt;var _h=ki();function Mt(t,e){this.lo=t>>>0,this.hi=e>>>0}var ya=Mt.zero=new Mt(0,0);ya.toNumber=function(){return 0};ya.zzEncode=ya.zzDecode=function(){return this};ya.length=function(){return 1};var Ioe=Mt.zeroHash="\0\0\0\0\0\0\0\0";Mt.fromNumber=function(e){if(e===0)return ya;var n=e<0;n&&(e=-e);var r=e>>>0,i=(e-r)/4294967296>>>0;return n&&(i=~i>>>0,r=~r>>>0,++r>4294967295&&(r=0,++i>4294967295&&(i=0))),new Mt(r,i)};Mt.from=function(e){if(typeof e=="number")return Mt.fromNumber(e);if(_h.isString(e))if(_h.Long)e=_h.Long.fromString(e);else return Mt.fromNumber(parseInt(e,10));return e.low||e.high?new Mt(e.low>>>0,e.high>>>0):ya};Mt.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var n=~this.lo+1>>>0,r=~this.hi>>>0;return n||(r=r+1>>>0),-(n+r*4294967296)}return this.lo+this.hi*4294967296};Mt.prototype.toLong=function(e){return _h.Long?new _h.Long(this.lo|0,this.hi|0,!!e):{low:this.lo|0,high:this.hi|0,unsigned:!!e}};var so=String.prototype.charCodeAt;Mt.fromHash=function(e){return e===Ioe?ya:new Mt((so.call(e,0)|so.call(e,1)<<8|so.call(e,2)<<16|so.call(e,3)<<24)>>>0,(so.call(e,4)|so.call(e,5)<<8|so.call(e,6)<<16|so.call(e,7)<<24)>>>0)};Mt.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};Mt.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};Mt.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};Mt.prototype.length=function(){var e=this.lo,n=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return r===0?n===0?e<16384?e<128?1:2:e<2097152?3:4:n<16384?n<128?5:6:n<2097152?7:8:r<128?9:10}});var ki=m(A_=>{"use strict";var H=A_;H.asPromise=s_();H.base64=YP();H.EventEmitter=JP();H.float=e2();H.inquire=o_();H.utf8=n2();H.pool=i2();H.LongBits=o2();H.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);H.global=H.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||A_;H.emptyArray=Object.freeze?Object.freeze([]):[];H.emptyObject=Object.freeze?Object.freeze({}):{};H.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};H.isString=function(e){return typeof e=="string"||e instanceof String};H.isObject=function(e){return e&&typeof e=="object"};H.isset=H.isSet=function(e,n){var r=e[n];return r!=null&&e.hasOwnProperty(n)?typeof r!="object"||(Array.isArray(r)?r.length:Object.keys(r).length)>0:!1};H.Buffer=function(){try{var t=H.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch{return null}}();H._Buffer_from=null;H._Buffer_allocUnsafe=null;H.newBuffer=function(e){return typeof e=="number"?H.Buffer?H._Buffer_allocUnsafe(e):new H.Array(e):H.Buffer?H._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};H.Array=typeof Uint8Array<"u"?Uint8Array:Array;H.Long=H.global.dcodeIO&&H.global.dcodeIO.Long||H.global.Long||H.inquire("long");H.key2Re=/^true|false|0|1$/;H.key32Re=/^-?(?:0|[1-9][0-9]*)$/;H.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;H.longToHash=function(e){return e?H.LongBits.from(e).toHash():H.LongBits.zeroHash};H.longFromHash=function(e,n){var r=H.LongBits.fromHash(e);return H.Long?H.Long.fromBits(r.lo,r.hi,n):r.toNumber(!!n)};function a2(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;++i)(t[r[i]]===void 0||!n)&&(t[r[i]]=e[r[i]]);return t}H.merge=a2;H.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function A2(t){function e(n,r){if(!(this instanceof e))return new e(n,r);Object.defineProperty(this,"message",{get:function(){return n}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),r&&a2(this,r)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return t},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}H.newError=A2;H.ProtocolError=A2("ProtocolError");H.oneOfGetter=function(e){for(var n={},r=0;r<e.length;++r)n[e[r]]=1;return function(){for(var i=Object.keys(this),s=i.length-1;s>-1;--s)if(n[i[s]]===1&&this[i[s]]!==void 0&&this[i[s]]!==null)return i[s]}};H.oneOfSetter=function(e){return function(n){for(var r=0;r<e.length;++r)e[r]!==n&&delete this[e[r]]}};H.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};H._configure=function(){var t=H.Buffer;if(!t){H._Buffer_from=H._Buffer_allocUnsafe=null;return}H._Buffer_from=t.from!==Uint8Array.from&&t.from||function(n,r){return new t(n,r)},H._Buffer_allocUnsafe=t.allocUnsafe||function(n){return new t(n)}}});var IE=m((P_e,h2)=>{"use strict";h2.exports=De;var vr=ki(),c_,CE=vr.LongBits,c2=vr.base64,l2=vr.utf8;function Sh(t,e,n){this.fn=t,this.len=e,this.next=void 0,this.val=n}function u_(){}function yoe(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function De(){this.len=0,this.head=new Sh(u_,0,0),this.tail=this.head,this.states=null}var u2=function(){return vr.Buffer?function(){return(De.create=function(){return new c_})()}:function(){return new De}};De.create=u2();De.alloc=function(e){return new vr.Array(e)};vr.Array!==Array&&(De.alloc=vr.pool(De.alloc,vr.Array.prototype.subarray));De.prototype._push=function(e,n,r){return this.tail=this.tail.next=new Sh(e,n,r),this.len+=n,this};function h_(t,e,n){e[n]=t&255}function Boe(t,e,n){for(;t>127;)e[n++]=t&127|128,t>>>=7;e[n]=t}function d_(t,e){this.len=t,this.next=void 0,this.val=e}d_.prototype=Object.create(Sh.prototype);d_.prototype.fn=Boe;De.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new d_((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};De.prototype.int32=function(e){return e<0?this._push(f_,10,CE.fromNumber(e)):this.uint32(e)};De.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function f_(t,e,n){for(;t.hi;)e[n++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[n++]=t.lo&127|128,t.lo=t.lo>>>7;e[n++]=t.lo}De.prototype.uint64=function(e){var n=CE.from(e);return this._push(f_,n.length(),n)};De.prototype.int64=De.prototype.uint64;De.prototype.sint64=function(e){var n=CE.from(e).zzEncode();return this._push(f_,n.length(),n)};De.prototype.bool=function(e){return this._push(h_,1,e?1:0)};function l_(t,e,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}De.prototype.fixed32=function(e){return this._push(l_,4,e>>>0)};De.prototype.sfixed32=De.prototype.fixed32;De.prototype.fixed64=function(e){var n=CE.from(e);return this._push(l_,4,n.lo)._push(l_,4,n.hi)};De.prototype.sfixed64=De.prototype.fixed64;De.prototype.float=function(e){return this._push(vr.float.writeFloatLE,4,e)};De.prototype.double=function(e){return this._push(vr.float.writeDoubleLE,8,e)};var Qoe=vr.Array.prototype.set?function(e,n,r){n.set(e,r)}:function(e,n,r){for(var i=0;i<e.length;++i)n[r+i]=e[i]};De.prototype.bytes=function(e){var n=e.length>>>0;if(!n)return this._push(h_,1,0);if(vr.isString(e)){var r=De.alloc(n=c2.length(e));c2.decode(e,r,0),e=r}return this.uint32(n)._push(Qoe,n,e)};De.prototype.string=function(e){var n=l2.length(e);return n?this.uint32(n)._push(l2.write,n,e):this._push(h_,1,0)};De.prototype.fork=function(){return this.states=new yoe(this),this.head=this.tail=new Sh(u_,0,0),this.len=0,this};De.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Sh(u_,0,0),this.len=0),this};De.prototype.ldelim=function(){var e=this.head,n=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=n,this.len+=r),this};De.prototype.finish=function(){for(var e=this.head.next,n=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,n,r),r+=e.len,e=e.next;return n};De._configure=function(t){c_=t,De.create=u2(),c_._configure()}});var g2=m((V_e,f2)=>{"use strict";f2.exports=Fi;var d2=IE();(Fi.prototype=Object.create(d2.prototype)).constructor=Fi;var oo=ki();function Fi(){d2.call(this)}Fi._configure=function(){Fi.alloc=oo._Buffer_allocUnsafe,Fi.writeBytesBuffer=oo.Buffer&&oo.Buffer.prototype instanceof Uint8Array&&oo.Buffer.prototype.set.name==="set"?function(e,n,r){n.set(e,r)}:function(e,n,r){if(e.copy)e.copy(n,r,0,e.length);else for(var i=0;i<e.length;)n[r++]=e[i++]}};Fi.prototype.bytes=function(e){oo.isString(e)&&(e=oo._Buffer_from(e,"base64"));var n=e.length>>>0;return this.uint32(n),n&&this._push(Fi.writeBytesBuffer,n,e),this};function woe(t,e,n){t.length<40?oo.utf8.write(t,e,n):e.utf8Write?e.utf8Write(t,n):e.write(t,n)}Fi.prototype.string=function(e){var n=oo.Buffer.byteLength(e);return this.uint32(n),n&&this._push(woe,n,e),this};Fi._configure()});var BE=m((q_e,I2)=>{"use strict";I2.exports=yt;var Jr=ki(),p_,m2=Jr.LongBits,voe=Jr.utf8;function zr(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function yt(t){this.buf=t,this.pos=0,this.len=t.length}var p2=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new yt(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new yt(e);throw Error("illegal buffer")},C2=function(){return Jr.Buffer?function(n){return(yt.create=function(i){return Jr.Buffer.isBuffer(i)?new p_(i):p2(i)})(n)}:p2};yt.create=C2();yt.prototype._slice=Jr.Array.prototype.subarray||Jr.Array.prototype.slice;yt.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,zr(this,10);return e}}();yt.prototype.int32=function(){return this.uint32()|0};yt.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function g_(){var t=new m2(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw zr(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw zr(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}yt.prototype.bool=function(){return this.uint32()!==0};function yE(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}yt.prototype.fixed32=function(){if(this.pos+4>this.len)throw zr(this,4);return yE(this.buf,this.pos+=4)};yt.prototype.sfixed32=function(){if(this.pos+4>this.len)throw zr(this,4);return yE(this.buf,this.pos+=4)|0};function E2(){if(this.pos+8>this.len)throw zr(this,8);return new m2(yE(this.buf,this.pos+=4),yE(this.buf,this.pos+=4))}yt.prototype.float=function(){if(this.pos+4>this.len)throw zr(this,4);var e=Jr.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};yt.prototype.double=function(){if(this.pos+8>this.len)throw zr(this,4);var e=Jr.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};yt.prototype.bytes=function(){var e=this.uint32(),n=this.pos,r=this.pos+e;if(r>this.len)throw zr(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(n,r);if(n===r){var i=Jr.Buffer;return i?i.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,n,r)};yt.prototype.string=function(){var e=this.bytes();return voe.read(e,0,e.length)};yt.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw zr(this,e);this.pos+=e}else do if(this.pos>=this.len)throw zr(this);while(this.buf[this.pos++]&128);return this};yt.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};yt._configure=function(t){p_=t,yt.create=C2(),p_._configure();var e=Jr.Long?"toLong":"toNumber";Jr.merge(yt.prototype,{int64:function(){return g_.call(this)[e](!1)},uint64:function(){return g_.call(this)[e](!0)},sint64:function(){return g_.call(this).zzDecode()[e](!1)},fixed64:function(){return E2.call(this)[e](!0)},sfixed64:function(){return E2.call(this)[e](!1)}})}});var w2=m((G_e,Q2)=>{"use strict";Q2.exports=Ba;var B2=BE();(Ba.prototype=Object.create(B2.prototype)).constructor=Ba;var y2=ki();function Ba(t){B2.call(this,t)}Ba._configure=function(){y2.Buffer&&(Ba.prototype._slice=y2.Buffer.prototype.slice)};Ba.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};Ba._configure()});var _2=m((H_e,v2)=>{"use strict";v2.exports=bh;var E_=ki();(bh.prototype=Object.create(E_.EventEmitter.prototype)).constructor=bh;function bh(t,e,n){if(typeof t!="function")throw TypeError("rpcImpl must be a function");E_.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=!!e,this.responseDelimited=!!n}bh.prototype.rpcCall=function t(e,n,r,i,s){if(!i)throw TypeError("request must be specified");var o=this;if(!s)return E_.asPromise(t,o,e,n,r,i);if(!o.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return o.rpcImpl(e,n[o.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(A,c){if(A)return o.emit("error",A,e),s(A);if(c===null){o.end(!0);return}if(!(c instanceof r))try{c=r[o.responseDelimited?"decodeDelimited":"decode"](c)}catch(l){return o.emit("error",l,e),s(l)}return o.emit("data",c,e),s(null,c)})}catch(a){o.emit("error",a,e),setTimeout(function(){s(a)},0);return}};bh.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var m_=m(S2=>{"use strict";var _oe=S2;_oe.Service=_2()});var C_=m((W_e,b2)=>{"use strict";b2.exports={}});var T2=m(R2=>{"use strict";var Vn=R2;Vn.build="minimal";Vn.Writer=IE();Vn.BufferWriter=g2();Vn.Reader=BE();Vn.BufferReader=w2();Vn.util=ki();Vn.rpc=m_();Vn.roots=C_();Vn.configure=D2;function D2(){Vn.util._configure(),Vn.Writer._configure(Vn.BufferWriter),Vn.Reader._configure(Vn.BufferReader)}D2()});var k2=m((z_e,N2)=>{"use strict";N2.exports=I_;function I_(t,e){typeof t=="string"&&(e=t,t=void 0);var n=[];function r(s){if(typeof s!="string"){var o=i();if(I_.verbose&&console.log("codegen: "+o),o="return "+o,s){for(var a=Object.keys(s),A=new Array(a.length+1),c=new Array(a.length),l=0;l<a.length;)A[l]=a[l],c[l]=s[a[l++]];return A[l]=o,Function.apply(null,A).apply(null,c)}return Function(o)()}for(var u=new Array(arguments.length-1),h=0;h<u.length;)u[h]=arguments[++h];if(h=0,s=s.replace(/%([%dfijs])/g,function(f,E){var C=u[h++];switch(E){case"d":case"f":return String(Number(C));case"i":return String(Math.floor(C));case"j":return JSON.stringify(C);case"s":return String(C)}return"%"}),h!==u.length)throw Error("parameter count mismatch");return n.push(s),r}function i(s){return"function "+(s||e||"")+"("+(t&&t.join(",")||"")+`){
  `+n.join(`
  `)+`
}`}return r.toString=i,r}I_.verbose=!1});var M2=m((j_e,F2)=>{"use strict";F2.exports=Dh;var Soe=s_(),boe=o_(),y_=boe("fs");function Dh(t,e,n){return typeof e=="function"?(n=e,e={}):e||(e={}),n?!e.xhr&&y_&&y_.readFile?y_.readFile(t,function(i,s){return i&&typeof XMLHttpRequest<"u"?Dh.xhr(t,e,n):i?n(i):n(null,e.binary?s:s.toString("utf8"))}):Dh.xhr(t,e,n):Soe(Dh,this,t,e)}Dh.xhr=function(e,n,r){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===4){if(i.status!==0&&i.status!==200)return r(Error("status "+i.status));if(n.binary){var o=i.response;if(!o){o=[];for(var a=0;a<i.responseText.length;++a)o.push(i.responseText.charCodeAt(a)&255)}return r(null,typeof Uint8Array<"u"?new Uint8Array(o):o)}return r(null,i.responseText)}},n.binary&&("overrideMimeType"in i&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.responseType="arraybuffer"),i.open("GET",e),i.send()}});var O2=m(L2=>{"use strict";var Q_=L2,x2=Q_.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},B_=Q_.normalize=function(e){e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var n=e.split("/"),r=x2(e),i="";r&&(i=n.shift()+"/");for(var s=0;s<n.length;)n[s]===".."?s>0&&n[s-1]!==".."?n.splice(--s,2):r?n.splice(s,1):++s:n[s]==="."?n.splice(s,1):++s;return i+n.join("/")};Q_.resolve=function(e,n,r){return r||(n=B_(n)),x2(n)?n:(r||(e=B_(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?B_(e+"/"+n):n)}});var Qa=m(U2=>{"use strict";var Rh=U2,Doe=xt(),Roe=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function Th(t,e){var n=0,r={};for(e|=0;n<t.length;)r[Roe[n+e]]=t[n++];return r}Rh.basic=Th([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]);Rh.defaults=Th([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",Doe.emptyArray,null]);Rh.long=Th([0,0,0,1,1],7);Rh.mapKey=Th([0,0,0,5,5,0,0,0,1,1,0,2],2);Rh.packed=Th([1,5,0,0,0,5,5,0,0,0,1,1,0])});var ao=m((X_e,q2)=>{"use strict";q2.exports=_r;var QE=wa();((_r.prototype=Object.create(QE.prototype)).constructor=_r).className="Field";var P2=jr(),V2=Qa(),vt=xt(),w_,Toe=/^required|optional|repeated$/;_r.fromJSON=function(e,n){return new _r(e,n.id,n.type,n.rule,n.extend,n.options,n.comment)};function _r(t,e,n,r,i,s,o){if(vt.isObject(r)?(o=i,s=r,r=i=void 0):vt.isObject(i)&&(o=s,s=i,i=void 0),QE.call(this,t,s),!vt.isInteger(e)||e<0)throw TypeError("id must be a non-negative integer");if(!vt.isString(n))throw TypeError("type must be a string");if(r!==void 0&&!Toe.test(r=r.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(i!==void 0&&!vt.isString(i))throw TypeError("extend must be a string");r==="proto3_optional"&&(r="optional"),this.rule=r&&r!=="optional"?r:void 0,this.type=n,this.id=e,this.extend=i||void 0,this.required=r==="required",this.optional=!this.required,this.repeated=r==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=vt.Long?V2.long[n]!==void 0:!1,this.bytes=n==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=o}Object.defineProperty(_r.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}});_r.prototype.setOption=function(e,n,r){return e==="packed"&&(this._packed=null),QE.prototype.setOption.call(this,e,n,r)};_r.prototype.toJSON=function(e){var n=e?!!e.keepComments:!1;return vt.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",n?this.comment:void 0])};_r.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=V2.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof w_?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof P2&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&((this.options.packed===!0||this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof P2))&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=vt.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var e;vt.base64.test(this.typeDefault)?vt.base64.decode(this.typeDefault,e=vt.newBuffer(vt.base64.length(this.typeDefault)),0):vt.utf8.write(this.typeDefault,e=vt.newBuffer(vt.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=vt.emptyObject:this.repeated?this.defaultValue=vt.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof w_&&(this.parent.ctor.prototype[this.name]=this.defaultValue),QE.prototype.resolve.call(this)};_r.d=function(e,n,r,i){return typeof n=="function"?n=vt.decorateType(n).name:n&&typeof n=="object"&&(n=vt.decorateEnum(n).name),function(o,a){vt.decorateType(o.constructor).add(new _r(a,e,n,r,{default:i}))}};_r._configure=function(e){w_=e}});var Dc=m((Z_e,Y2)=>{"use strict";Y2.exports=Sr;var vE=wa();((Sr.prototype=Object.create(vE.prototype)).constructor=Sr).className="OneOf";var G2=ao(),wE=xt();function Sr(t,e,n,r){if(Array.isArray(e)||(n=e,e=void 0),vE.call(this,t,n),!(e===void 0||Array.isArray(e)))throw TypeError("fieldNames must be an Array");this.oneof=e||[],this.fieldsArray=[],this.comment=r}Sr.fromJSON=function(e,n){return new Sr(e,n.oneof,n.options,n.comment)};Sr.prototype.toJSON=function(e){var n=e?!!e.keepComments:!1;return wE.toObject(["options",this.options,"oneof",this.oneof,"comment",n?this.comment:void 0])};function H2(t){if(t.parent)for(var e=0;e<t.fieldsArray.length;++e)t.fieldsArray[e].parent||t.parent.add(t.fieldsArray[e])}Sr.prototype.add=function(e){if(!(e instanceof G2))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,H2(this),this};Sr.prototype.remove=function(e){if(!(e instanceof G2))throw TypeError("field must be a Field");var n=this.fieldsArray.indexOf(e);if(n<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(n,1),n=this.oneof.indexOf(e.name),n>-1&&this.oneof.splice(n,1),e.partOf=null,this};Sr.prototype.onAdd=function(e){vE.prototype.onAdd.call(this,e);for(var n=this,r=0;r<this.oneof.length;++r){var i=e.get(this.oneof[r]);i&&!i.partOf&&(i.partOf=n,n.fieldsArray.push(i))}H2(this)};Sr.prototype.onRemove=function(e){for(var n=0,r;n<this.fieldsArray.length;++n)(r=this.fieldsArray[n]).parent&&r.parent.remove(r);vE.prototype.onRemove.call(this,e)};Sr.d=function(){for(var e=new Array(arguments.length),n=0;n<arguments.length;)e[n]=arguments[n++];return function(i,s){wE.decorateType(i.constructor).add(new Sr(s,e)),Object.defineProperty(i,s,{get:wE.oneOfGetter(e),set:wE.oneOfSetter(e)})}}});var Nc=m((eSe,j2)=>{"use strict";j2.exports=Te;var v_=wa();((Te.prototype=Object.create(v_.prototype)).constructor=Te).className="Namespace";var W2=ao(),_E=xt(),Noe=Dc(),Rc,Nh,Tc;Te.fromJSON=function(e,n){return new Te(e,n.options).addJSON(n.nested)};function J2(t,e){if(t&&t.length){for(var n={},r=0;r<t.length;++r)n[t[r].name]=t[r].toJSON(e);return n}}Te.arrayToJSON=J2;Te.isReservedId=function(e,n){if(e){for(var r=0;r<e.length;++r)if(typeof e[r]!="string"&&e[r][0]<=n&&e[r][1]>n)return!0}return!1};Te.isReservedName=function(e,n){if(e){for(var r=0;r<e.length;++r)if(e[r]===n)return!0}return!1};function Te(t,e){v_.call(this,t,e),this.nested=void 0,this._nestedArray=null}function z2(t){return t._nestedArray=null,t}Object.defineProperty(Te.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=_E.toArray(this.nested))}});Te.prototype.toJSON=function(e){return _E.toObject(["options",this.options,"nested",J2(this.nestedArray,e)])};Te.prototype.addJSON=function(e){var n=this;if(e)for(var r=Object.keys(e),i=0,s;i<r.length;++i)s=e[r[i]],n.add((s.fields!==void 0?Rc.fromJSON:s.values!==void 0?Tc.fromJSON:s.methods!==void 0?Nh.fromJSON:s.id!==void 0?W2.fromJSON:Te.fromJSON)(r[i],s));return this};Te.prototype.get=function(e){return this.nested&&this.nested[e]||null};Te.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof Tc)return this.nested[e].values;throw Error("no such enum: "+e)};Te.prototype.add=function(e){if(!(e instanceof W2&&e.extend!==void 0||e instanceof Rc||e instanceof Noe||e instanceof Tc||e instanceof Nh||e instanceof Te))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var n=this.get(e.name);if(n)if(n instanceof Te&&e instanceof Te&&!(n instanceof Rc||n instanceof Nh)){for(var r=n.nestedArray,i=0;i<r.length;++i)e.add(r[i]);this.remove(n),this.nested||(this.nested={}),e.setOptions(n.options,!0)}else throw Error("duplicate name '"+e.name+"' in "+this)}return this.nested[e.name]=e,e.onAdd(this),z2(this)};Te.prototype.remove=function(e){if(!(e instanceof v_))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),z2(this)};Te.prototype.define=function(e,n){if(_E.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&e[0]==="")throw Error("path must be relative");for(var r=this;e.length>0;){var i=e.shift();if(r.nested&&r.nested[i]){if(r=r.nested[i],!(r instanceof Te))throw Error("path conflicts with non-namespace objects")}else r.add(r=new Te(i))}return n&&r.addJSON(n),r};Te.prototype.resolveAll=function(){for(var e=this.nestedArray,n=0;n<e.length;)e[n]instanceof Te?e[n++].resolveAll():e[n++].resolve();return this.resolve()};Te.prototype.lookup=function(e,n,r){if(typeof n=="boolean"?(r=n,n=void 0):n&&!Array.isArray(n)&&(n=[n]),_E.isString(e)&&e.length){if(e===".")return this.root;e=e.split(".")}else if(!e.length)return this;if(e[0]==="")return this.root.lookup(e.slice(1),n);var i=this.get(e[0]);if(i){if(e.length===1){if(!n||n.indexOf(i.constructor)>-1)return i}else if(i instanceof Te&&(i=i.lookup(e.slice(1),n,!0)))return i}else for(var s=0;s<this.nestedArray.length;++s)if(this._nestedArray[s]instanceof Te&&(i=this._nestedArray[s].lookup(e,n,!0)))return i;return this.parent===null||r?null:this.parent.lookup(e,n)};Te.prototype.lookupType=function(e){var n=this.lookup(e,[Rc]);if(!n)throw Error("no such type: "+e);return n};Te.prototype.lookupEnum=function(e){var n=this.lookup(e,[Tc]);if(!n)throw Error("no such Enum '"+e+"' in "+this);return n};Te.prototype.lookupTypeOrEnum=function(e){var n=this.lookup(e,[Rc,Tc]);if(!n)throw Error("no such Type or Enum '"+e+"' in "+this);return n};Te.prototype.lookupService=function(e){var n=this.lookup(e,[Nh]);if(!n)throw Error("no such Service '"+e+"' in "+this);return n};Te._configure=function(t,e,n){Rc=t,Nh=e,Tc=n}});var SE=m((tSe,K2)=>{"use strict";K2.exports=ps;var __=ao();((ps.prototype=Object.create(__.prototype)).constructor=ps).className="MapField";var koe=Qa(),kh=xt();function ps(t,e,n,r,i,s){if(__.call(this,t,e,r,void 0,void 0,i,s),!kh.isString(n))throw TypeError("keyType must be a string");this.keyType=n,this.resolvedKeyType=null,this.map=!0}ps.fromJSON=function(e,n){return new ps(e,n.id,n.keyType,n.type,n.options,n.comment)};ps.prototype.toJSON=function(e){var n=e?!!e.keepComments:!1;return kh.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",n?this.comment:void 0])};ps.prototype.resolve=function(){if(this.resolved)return this;if(koe.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return __.prototype.resolve.call(this)};ps.d=function(e,n,r){return typeof r=="function"?r=kh.decorateType(r).name:r&&typeof r=="object"&&(r=kh.decorateEnum(r).name),function(s,o){kh.decorateType(s.constructor).add(new ps(o,e,n,r))}}});var bE=m((nSe,$2)=>{"use strict";$2.exports=va;var S_=wa();((va.prototype=Object.create(S_.prototype)).constructor=va).className="Method";var kc=xt();function va(t,e,n,r,i,s,o,a,A){if(kc.isObject(i)?(o=i,i=s=void 0):kc.isObject(s)&&(o=s,s=void 0),!(e===void 0||kc.isString(e)))throw TypeError("type must be a string");if(!kc.isString(n))throw TypeError("requestType must be a string");if(!kc.isString(r))throw TypeError("responseType must be a string");S_.call(this,t,o),this.type=e||"rpc",this.requestType=n,this.requestStream=i?!0:void 0,this.responseType=r,this.responseStream=s?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=a,this.parsedOptions=A}va.fromJSON=function(e,n){return new va(e,n.type,n.requestType,n.responseType,n.requestStream,n.responseStream,n.options,n.comment,n.parsedOptions)};va.prototype.toJSON=function(e){var n=e?!!e.keepComments:!1;return kc.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",n?this.comment:void 0,"parsedOptions",this.parsedOptions])};va.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),S_.prototype.resolve.call(this))}});var DE=m((rSe,Z2)=>{"use strict";Z2.exports=br;var Ao=Nc();((br.prototype=Object.create(Ao.prototype)).constructor=br).className="Service";var b_=bE(),Fh=xt(),Foe=m_();function br(t,e){Ao.call(this,t,e),this.methods={},this._methodsArray=null}br.fromJSON=function(e,n){var r=new br(e,n.options);if(n.methods)for(var i=Object.keys(n.methods),s=0;s<i.length;++s)r.add(b_.fromJSON(i[s],n.methods[i[s]]));return n.nested&&r.addJSON(n.nested),r.comment=n.comment,r};br.prototype.toJSON=function(e){var n=Ao.prototype.toJSON.call(this,e),r=e?!!e.keepComments:!1;return Fh.toObject(["options",n&&n.options||void 0,"methods",Ao.arrayToJSON(this.methodsArray,e)||{},"nested",n&&n.nested||void 0,"comment",r?this.comment:void 0])};Object.defineProperty(br.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=Fh.toArray(this.methods))}});function X2(t){return t._methodsArray=null,t}br.prototype.get=function(e){return this.methods[e]||Ao.prototype.get.call(this,e)};br.prototype.resolveAll=function(){for(var e=this.methodsArray,n=0;n<e.length;++n)e[n].resolve();return Ao.prototype.resolve.call(this)};br.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof b_?(this.methods[e.name]=e,e.parent=this,X2(this)):Ao.prototype.add.call(this,e)};br.prototype.remove=function(e){if(e instanceof b_){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,X2(this)}return Ao.prototype.remove.call(this,e)};br.prototype.create=function(e,n,r){for(var i=new Foe.Service(e,n,r),s=0,o;s<this.methodsArray.length;++s){var a=Fh.lcFirst((o=this._methodsArray[s]).resolve().name).replace(/[^$\w_]/g,"");i[a]=Fh.codegen(["r","c"],Fh.isReserved(a)?a+"_":a)("return this.rpcCall(m,q,s,r,c)")({m:o,q:o.resolvedRequestType.ctor,s:o.resolvedResponseType.ctor})}return i}});var RE=m((iSe,eV)=>{"use strict";eV.exports=Mi;var Moe=ki();function Mi(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)this[e[n]]=t[e[n]]}Mi.create=function(e){return this.$type.create(e)};Mi.encode=function(e,n){return this.$type.encode(e,n)};Mi.encodeDelimited=function(e,n){return this.$type.encodeDelimited(e,n)};Mi.decode=function(e){return this.$type.decode(e)};Mi.decodeDelimited=function(e){return this.$type.decodeDelimited(e)};Mi.verify=function(e){return this.$type.verify(e)};Mi.fromObject=function(e){return this.$type.fromObject(e)};Mi.toObject=function(e,n){return this.$type.toObject(e,n)};Mi.prototype.toJSON=function(){return this.$type.toObject(this,Moe.toJSONOptions)}});var D_=m((sSe,nV)=>{"use strict";nV.exports=Ooe;var xoe=jr(),Es=Qa(),tV=xt();function Loe(t){return"missing required '"+t.name+"'"}function Ooe(t){var e=tV.codegen(["r","l"],t.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(t.fieldsArray.filter(function(a){return a.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");t.group&&e("if((t&7)===4)")("break"),e("switch(t>>>3){");for(var n=0;n<t.fieldsArray.length;++n){var r=t._fieldsArray[n].resolve(),i=r.resolvedType instanceof xoe?"int32":r.type,s="m"+tV.safeProp(r.name);e("case %i: {",r.id),r.map?(e("if(%s===util.emptyObject)",s)("%s={}",s)("var c2 = r.uint32()+r.pos"),Es.defaults[r.keyType]!==void 0?e("k=%j",Es.defaults[r.keyType]):e("k=null"),Es.defaults[i]!==void 0?e("value=%j",Es.defaults[i]):e("value=null"),e("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",r.keyType)("case 2:"),Es.basic[i]===void 0?e("value=types[%i].decode(r,r.uint32())",n):e("value=r.%s()",i),e("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),Es.long[r.keyType]!==void 0?e('%s[typeof k==="object"?util.longToHash(k):k]=value',s):e("%s[k]=value",s)):r.repeated?(e("if(!(%s&&%s.length))",s,s)("%s=[]",s),Es.packed[i]!==void 0&&e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",s,i)("}else"),Es.basic[i]===void 0?e(r.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",s,n):e("%s.push(r.%s())",s,i)):Es.basic[i]===void 0?e(r.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",s,n):e("%s=r.%s()",s,i),e("break")("}")}for(e("default:")("r.skipType(t&7)")("break")("}")("}"),n=0;n<t._fieldsArray.length;++n){var o=t._fieldsArray[n];o.required&&e("if(!m.hasOwnProperty(%j))",o.name)("throw util.ProtocolError(%j,{instance:m})",Loe(o))}return e("return m")}});var N_=m((oSe,rV)=>{"use strict";rV.exports=Voe;var Uoe=jr(),R_=xt();function Dr(t,e){return t.name+": "+e+(t.repeated&&e!=="array"?"[]":t.map&&e!=="object"?"{k:"+t.keyType+"}":"")+" expected"}function T_(t,e,n,r){if(e.resolvedType)if(e.resolvedType instanceof Uoe){t("switch(%s){",r)("default:")("return%j",Dr(e,"enum value"));for(var i=Object.keys(e.resolvedType.values),s=0;s<i.length;++s)t("case %i:",e.resolvedType.values[i[s]]);t("break")("}")}else t("{")("var e=types[%i].verify(%s);",n,r)("if(e)")("return%j+e",e.name+".")("}");else switch(e.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.isInteger(%s))",r)("return%j",Dr(e,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",r,r,r,r)("return%j",Dr(e,"integer|Long"));break;case"float":case"double":t('if(typeof %s!=="number")',r)("return%j",Dr(e,"number"));break;case"bool":t('if(typeof %s!=="boolean")',r)("return%j",Dr(e,"boolean"));break;case"string":t("if(!util.isString(%s))",r)("return%j",Dr(e,"string"));break;case"bytes":t('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',r,r,r)("return%j",Dr(e,"buffer"));break}return t}function Poe(t,e,n){switch(e.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.key32Re.test(%s))",n)("return%j",Dr(e,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.key64Re.test(%s))",n)("return%j",Dr(e,"integer|Long key"));break;case"bool":t("if(!util.key2Re.test(%s))",n)("return%j",Dr(e,"boolean key"));break}return t}function Voe(t){var e=R_.codegen(["m"],t.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),n=t.oneofsArray,r={};n.length&&e("var p={}");for(var i=0;i<t.fieldsArray.length;++i){var s=t._fieldsArray[i].resolve(),o="m"+R_.safeProp(s.name);if(s.optional&&e("if(%s!=null&&m.hasOwnProperty(%j)){",o,s.name),s.map)e("if(!util.isObject(%s))",o)("return%j",Dr(s,"object"))("var k=Object.keys(%s)",o)("for(var i=0;i<k.length;++i){"),Poe(e,s,"k[i]"),T_(e,s,i,o+"[k[i]]")("}");else if(s.repeated)e("if(!Array.isArray(%s))",o)("return%j",Dr(s,"array"))("for(var i=0;i<%s.length;++i){",o),T_(e,s,i,o+"[i]")("}");else{if(s.partOf){var a=R_.safeProp(s.partOf.name);r[s.partOf.name]===1&&e("if(p%s===1)",a)("return%j",s.partOf.name+": multiple values"),r[s.partOf.name]=1,e("p%s=1",a)}T_(e,s,i,o)}s.optional&&e("}")}return e("return null")}});var M_=m(sV=>{"use strict";var iV=sV,Mh=jr(),xi=xt();function k_(t,e,n,r){var i=!1;if(e.resolvedType)if(e.resolvedType instanceof Mh){t("switch(d%s){",r);for(var s=e.resolvedType.values,o=Object.keys(s),a=0;a<o.length;++a)s[o[a]]===e.typeDefault&&!i&&(t("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',r,r,r),e.repeated||t("break"),i=!0),t("case%j:",o[a])("case %i:",s[o[a]])("m%s=%j",r,s[o[a]])("break");t("}")}else t('if(typeof d%s!=="object")',r)("throw TypeError(%j)",e.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",r,n,r);else{var A=!1;switch(e.type){case"double":case"float":t("m%s=Number(d%s)",r,r);break;case"uint32":case"fixed32":t("m%s=d%s>>>0",r,r);break;case"int32":case"sint32":case"sfixed32":t("m%s=d%s|0",r,r);break;case"uint64":A=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",r,r,A)('else if(typeof d%s==="string")',r)("m%s=parseInt(d%s,10)",r,r)('else if(typeof d%s==="number")',r)("m%s=d%s",r,r)('else if(typeof d%s==="object")',r)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",r,r,r,A?"true":"");break;case"bytes":t('if(typeof d%s==="string")',r)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",r,r,r)("else if(d%s.length >= 0)",r)("m%s=d%s",r,r);break;case"string":t("m%s=String(d%s)",r,r);break;case"bool":t("m%s=Boolean(d%s)",r,r);break}}return t}iV.fromObject=function(e){var n=e.fieldsArray,r=xi.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!n.length)return r("return new this.ctor");r("var m=new this.ctor");for(var i=0;i<n.length;++i){var s=n[i].resolve(),o=xi.safeProp(s.name);s.map?(r("if(d%s){",o)('if(typeof d%s!=="object")',o)("throw TypeError(%j)",s.fullName+": object expected")("m%s={}",o)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",o),k_(r,s,i,o+"[ks[i]]")("}")("}")):s.repeated?(r("if(d%s){",o)("if(!Array.isArray(d%s))",o)("throw TypeError(%j)",s.fullName+": array expected")("m%s=[]",o)("for(var i=0;i<d%s.length;++i){",o),k_(r,s,i,o+"[i]")("}")("}")):(s.resolvedType instanceof Mh||r("if(d%s!=null){",o),k_(r,s,i,o),s.resolvedType instanceof Mh||r("}"))}return r("return m")};function F_(t,e,n,r){if(e.resolvedType)e.resolvedType instanceof Mh?t("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",r,n,r,r,n,r,r):t("d%s=types[%i].toObject(m%s,o)",r,n,r);else{var i=!1;switch(e.type){case"double":case"float":t("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",r,r,r,r);break;case"uint64":i=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t('if(typeof m%s==="number")',r)("d%s=o.longs===String?String(m%s):m%s",r,r,r)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",r,r,r,r,i?"true":"",r);break;case"bytes":t("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",r,r,r,r,r);break;default:t("d%s=m%s",r,r);break}}return t}iV.toObject=function(e){var n=e.fieldsArray.slice().sort(xi.compareFieldsById);if(!n.length)return xi.codegen()("return {}");for(var r=xi.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),i=[],s=[],o=[],a=0;a<n.length;++a)n[a].partOf||(n[a].resolve().repeated?i:n[a].map?s:o).push(n[a]);if(i.length){for(r("if(o.arrays||o.defaults){"),a=0;a<i.length;++a)r("d%s=[]",xi.safeProp(i[a].name));r("}")}if(s.length){for(r("if(o.objects||o.defaults){"),a=0;a<s.length;++a)r("d%s={}",xi.safeProp(s[a].name));r("}")}if(o.length){for(r("if(o.defaults){"),a=0;a<o.length;++a){var A=o[a],c=xi.safeProp(A.name);if(A.resolvedType instanceof Mh)r("d%s=o.enums===String?%j:%j",c,A.resolvedType.valuesById[A.typeDefault],A.typeDefault);else if(A.long)r("if(util.Long){")("var n=new util.Long(%i,%i,%j)",A.typeDefault.low,A.typeDefault.high,A.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",c)("}else")("d%s=o.longs===String?%j:%i",c,A.typeDefault.toString(),A.typeDefault.toNumber());else if(A.bytes){var l="["+Array.prototype.slice.call(A.typeDefault).join(",")+"]";r("if(o.bytes===String)d%s=%j",c,String.fromCharCode.apply(String,A.typeDefault))("else{")("d%s=%s",c,l)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",c,c)("}")}else r("d%s=%j",c,A.typeDefault)}r("}")}var u=!1;for(a=0;a<n.length;++a){var A=n[a],h=e._fieldsArray.indexOf(A),c=xi.safeProp(A.name);A.map?(u||(u=!0,r("var ks2")),r("if(m%s&&(ks2=Object.keys(m%s)).length){",c,c)("d%s={}",c)("for(var j=0;j<ks2.length;++j){"),F_(r,A,h,c+"[ks2[j]]")("}")):A.repeated?(r("if(m%s&&m%s.length){",c,c)("d%s=[]",c)("for(var j=0;j<m%s.length;++j){",c),F_(r,A,h,c+"[j]")("}")):(r("if(m%s!=null&&m.hasOwnProperty(%j)){",c,A.name),F_(r,A,h,c),A.partOf&&r("if(o.oneofs)")("d%s=%j",xi.safeProp(A.partOf.name),A.name)),r("}")}return r("return d")}});var x_=m(oV=>{"use strict";var qoe=oV,Goe=RE();qoe[".google.protobuf.Any"]={fromObject:function(t){if(t&&t["@type"]){var e=t["@type"].substring(t["@type"].lastIndexOf("/")+1),n=this.lookup(e);if(n){var r=t["@type"].charAt(0)==="."?t["@type"].slice(1):t["@type"];return r.indexOf("/")===-1&&(r="/"+r),this.create({type_url:r,value:n.encode(n.fromObject(t)).finish()})}}return this.fromObject(t)},toObject:function(t,e){var n="type.googleapis.com/",r="",i="";if(e&&e.json&&t.type_url&&t.value){i=t.type_url.substring(t.type_url.lastIndexOf("/")+1),r=t.type_url.substring(0,t.type_url.lastIndexOf("/")+1);var s=this.lookup(i);s&&(t=s.decode(t.value))}if(!(t instanceof this.ctor)&&t instanceof Goe){var o=t.$type.toObject(t,e),a=t.$type.fullName[0]==="."?t.$type.fullName.slice(1):t.$type.fullName;return r===""&&(r=n),i=r+a,o["@type"]=i,o}return this.toObject(t,e)}}});var kE=m((cSe,AV)=>{"use strict";AV.exports=Ke;var Kr=Nc();((Ke.prototype=Object.create(Kr.prototype)).constructor=Ke).className="Type";var Hoe=jr(),U_=Dc(),TE=ao(),Yoe=SE(),Woe=DE(),L_=RE(),O_=BE(),Joe=IE(),An=xt(),zoe=P_(),joe=D_(),Koe=N_(),aV=M_(),$oe=x_();function Ke(t,e){Kr.call(this,t,e),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(Ke.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var t=Object.keys(this.fields),e=0;e<t.length;++e){var n=this.fields[t[e]],r=n.id;if(this._fieldsById[r])throw Error("duplicate id "+r+" in "+this);this._fieldsById[r]=n}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=An.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=An.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=Ke.generateConstructor(this)())},set:function(t){var e=t.prototype;e instanceof L_||((t.prototype=new L_).constructor=t,An.merge(t.prototype,e)),t.$type=t.prototype.$type=this,An.merge(t,L_,!0),this._ctor=t;for(var n=0;n<this.fieldsArray.length;++n)this._fieldsArray[n].resolve();var r={};for(n=0;n<this.oneofsArray.length;++n)r[this._oneofsArray[n].resolve().name]={get:An.oneOfGetter(this._oneofsArray[n].oneof),set:An.oneOfSetter(this._oneofsArray[n].oneof)};n&&Object.defineProperties(t.prototype,r)}}});Ke.generateConstructor=function(e){for(var n=An.codegen(["p"],e.name),r=0,i;r<e.fieldsArray.length;++r)(i=e._fieldsArray[r]).map?n("this%s={}",An.safeProp(i.name)):i.repeated&&n("this%s=[]",An.safeProp(i.name));return n("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function NE(t){return t._fieldsById=t._fieldsArray=t._oneofsArray=null,delete t.encode,delete t.decode,delete t.verify,t}Ke.fromJSON=function(e,n){var r=new Ke(e,n.options);r.extensions=n.extensions,r.reserved=n.reserved;for(var i=Object.keys(n.fields),s=0;s<i.length;++s)r.add((typeof n.fields[i[s]].keyType<"u"?Yoe.fromJSON:TE.fromJSON)(i[s],n.fields[i[s]]));if(n.oneofs)for(i=Object.keys(n.oneofs),s=0;s<i.length;++s)r.add(U_.fromJSON(i[s],n.oneofs[i[s]]));if(n.nested)for(i=Object.keys(n.nested),s=0;s<i.length;++s){var o=n.nested[i[s]];r.add((o.id!==void 0?TE.fromJSON:o.fields!==void 0?Ke.fromJSON:o.values!==void 0?Hoe.fromJSON:o.methods!==void 0?Woe.fromJSON:Kr.fromJSON)(i[s],o))}return n.extensions&&n.extensions.length&&(r.extensions=n.extensions),n.reserved&&n.reserved.length&&(r.reserved=n.reserved),n.group&&(r.group=!0),n.comment&&(r.comment=n.comment),r};Ke.prototype.toJSON=function(e){var n=Kr.prototype.toJSON.call(this,e),r=e?!!e.keepComments:!1;return An.toObject(["options",n&&n.options||void 0,"oneofs",Kr.arrayToJSON(this.oneofsArray,e),"fields",Kr.arrayToJSON(this.fieldsArray.filter(function(i){return!i.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",n&&n.nested||void 0,"comment",r?this.comment:void 0])};Ke.prototype.resolveAll=function(){for(var e=this.fieldsArray,n=0;n<e.length;)e[n++].resolve();var r=this.oneofsArray;for(n=0;n<r.length;)r[n++].resolve();return Kr.prototype.resolveAll.call(this)};Ke.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null};Ke.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof TE&&e.extend===void 0){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),NE(this)}return e instanceof U_?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),NE(this)):Kr.prototype.add.call(this,e)};Ke.prototype.remove=function(e){if(e instanceof TE&&e.extend===void 0){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),NE(this)}if(e instanceof U_){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),NE(this)}return Kr.prototype.remove.call(this,e)};Ke.prototype.isReservedId=function(e){return Kr.isReservedId(this.reserved,e)};Ke.prototype.isReservedName=function(e){return Kr.isReservedName(this.reserved,e)};Ke.prototype.create=function(e){return new this.ctor(e)};Ke.prototype.setup=function(){for(var e=this.fullName,n=[],r=0;r<this.fieldsArray.length;++r)n.push(this._fieldsArray[r].resolve().resolvedType);this.encode=zoe(this)({Writer:Joe,types:n,util:An}),this.decode=joe(this)({Reader:O_,types:n,util:An}),this.verify=Koe(this)({types:n,util:An}),this.fromObject=aV.fromObject(this)({types:n,util:An}),this.toObject=aV.toObject(this)({types:n,util:An});var i=$oe[e];if(i){var s=Object.create(this);s.fromObject=this.fromObject,this.fromObject=i.fromObject.bind(s),s.toObject=this.toObject,this.toObject=i.toObject.bind(s)}return this};Ke.prototype.encode=function(e,n){return this.setup().encode(e,n)};Ke.prototype.encodeDelimited=function(e,n){return this.encode(e,n&&n.len?n.fork():n).ldelim()};Ke.prototype.decode=function(e,n){return this.setup().decode(e,n)};Ke.prototype.decodeDelimited=function(e){return e instanceof O_||(e=O_.create(e)),this.decode(e,e.uint32())};Ke.prototype.verify=function(e){return this.setup().verify(e)};Ke.prototype.fromObject=function(e){return this.setup().fromObject(e)};Ke.prototype.toObject=function(e,n){return this.setup().toObject(e,n)};Ke.d=function(e){return function(r){An.decorateType(r,e)}}});var xE=m((lSe,dV)=>{"use strict";dV.exports=sr;var ME=Nc();((sr.prototype=Object.create(ME.prototype)).constructor=sr).className="Root";var q_=ao(),lV=jr(),Xoe=Dc(),co=xt(),uV,V_,xh;function sr(t){ME.call(this,"",t),this.deferred=[],this.files=[]}sr.fromJSON=function(e,n){return n||(n=new sr),e.options&&n.setOptions(e.options),n.addJSON(e.nested)};sr.prototype.resolvePath=co.path.resolve;sr.prototype.fetch=co.fetch;function hV(){}sr.prototype.load=function t(e,n,r){typeof n=="function"&&(r=n,n=void 0);var i=this;if(!r)return co.asPromise(t,i,e,n);var s=r===hV;function o(d,f){if(r){if(s)throw d;var E=r;r=null,E(d,f)}}function a(d){var f=d.lastIndexOf("google/protobuf/");if(f>-1){var E=d.substring(f);if(E in xh)return E}return null}function A(d,f){try{if(co.isString(f)&&f.charAt(0)==="{"&&(f=JSON.parse(f)),!co.isString(f))i.setOptions(f.options).addJSON(f.nested);else{V_.filename=d;var E=V_(f,i,n),C,y=0;if(E.imports)for(;y<E.imports.length;++y)(C=a(E.imports[y])||i.resolvePath(d,E.imports[y]))&&c(C);if(E.weakImports)for(y=0;y<E.weakImports.length;++y)(C=a(E.weakImports[y])||i.resolvePath(d,E.weakImports[y]))&&c(C,!0)}}catch(I){o(I)}!s&&!l&&o(null,i)}function c(d,f){if(d=a(d)||d,!(i.files.indexOf(d)>-1)){if(i.files.push(d),d in xh){s?A(d,xh[d]):(++l,setTimeout(function(){--l,A(d,xh[d])}));return}if(s){var E;try{E=co.fs.readFileSync(d).toString("utf8")}catch(C){f||o(C);return}A(d,E)}else++l,i.fetch(d,function(C,y){if(--l,!!r){if(C){f?l||o(null,i):o(C);return}A(d,y)}})}}var l=0;co.isString(e)&&(e=[e]);for(var u=0,h;u<e.length;++u)(h=i.resolvePath("",e[u]))&&c(h);if(s)return i;l||o(null,i)};sr.prototype.loadSync=function(e,n){if(!co.isNode)throw Error("not supported");return this.load(e,n,hV)};sr.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return ME.prototype.resolveAll.call(this)};var FE=/^[A-Z]/;function cV(t,e){var n=e.parent.lookup(e.extend);if(n){var r=new q_(e.fullName,e.id,e.type,e.rule,void 0,e.options);return n.get(r.name)||(r.declaringField=e,e.extensionField=r,n.add(r)),!0}return!1}sr.prototype._handleAdd=function(e){if(e instanceof q_)e.extend!==void 0&&!e.extensionField&&(cV(this,e)||this.deferred.push(e));else if(e instanceof lV)FE.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof Xoe)){if(e instanceof uV)for(var n=0;n<this.deferred.length;)cV(this,this.deferred[n])?this.deferred.splice(n,1):++n;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);FE.test(e.name)&&(e.parent[e.name]=e)}};sr.prototype._handleRemove=function(e){if(e instanceof q_){if(e.extend!==void 0)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var n=this.deferred.indexOf(e);n>-1&&this.deferred.splice(n,1)}}else if(e instanceof lV)FE.test(e.name)&&delete e.parent[e.name];else if(e instanceof ME){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);FE.test(e.name)&&delete e.parent[e.name]}};sr._configure=function(t,e,n){uV=t,V_=e,xh=n}});var xt=m((uSe,gV)=>{"use strict";var Bt=gV.exports=ki(),fV=C_(),G_,H_;Bt.codegen=k2();Bt.fetch=M2();Bt.path=O2();Bt.fs=Bt.inquire("fs");Bt.toArray=function(e){if(e){for(var n=Object.keys(e),r=new Array(n.length),i=0;i<n.length;)r[i]=e[n[i++]];return r}return[]};Bt.toObject=function(e){for(var n={},r=0;r<e.length;){var i=e[r++],s=e[r++];s!==void 0&&(n[i]=s)}return n};var Zoe=/\\/g,eae=/"/g;Bt.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)};Bt.safeProp=function(e){return!/^[$\w_]+$/.test(e)||Bt.isReserved(e)?'["'+e.replace(Zoe,"\\\\").replace(eae,'\\"')+'"]':"."+e};Bt.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var tae=/_([a-z])/g;Bt.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(tae,function(n,r){return r.toUpperCase()})};Bt.compareFieldsById=function(e,n){return e.id-n.id};Bt.decorateType=function(e,n){if(e.$type)return n&&e.$type.name!==n&&(Bt.decorateRoot.remove(e.$type),e.$type.name=n,Bt.decorateRoot.add(e.$type)),e.$type;G_||(G_=kE());var r=new G_(n||e.name);return Bt.decorateRoot.add(r),r.ctor=e,Object.defineProperty(e,"$type",{value:r,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:r,enumerable:!1}),r};var nae=0;Bt.decorateEnum=function(e){if(e.$type)return e.$type;H_||(H_=jr());var n=new H_("Enum"+nae++,e);return Bt.decorateRoot.add(n),Object.defineProperty(e,"$type",{value:n,enumerable:!1}),n};Bt.setProperty=function(e,n,r){function i(s,o,a){var A=o.shift();if(A==="__proto__"||A==="prototype")return s;if(o.length>0)s[A]=i(s[A]||{},o,a);else{var c=s[A];c&&(a=[].concat(c).concat(a)),s[A]=a}return s}if(typeof e!="object")throw TypeError("dst must be an object");if(!n)throw TypeError("path must be specified");return n=n.split("."),i(e,n,r)};Object.defineProperty(Bt,"decorateRoot",{get:function(){return fV.decorated||(fV.decorated=new(xE()))}})});var wa=m((hSe,pV)=>{"use strict";pV.exports=or;or.className="ReflectionObject";var LE=xt(),OE;function or(t,e){if(!LE.isString(t))throw TypeError("name must be a string");if(e&&!LE.isObject(e))throw TypeError("options must be an object");this.options=e,this.parsedOptions=null,this.name=t,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(or.prototype,{root:{get:function(){for(var t=this;t.parent!==null;)t=t.parent;return t}},fullName:{get:function(){for(var t=[this.name],e=this.parent;e;)t.unshift(e.name),e=e.parent;return t.join(".")}}});or.prototype.toJSON=function(){throw Error()};or.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var n=e.root;n instanceof OE&&n._handleAdd(this)};or.prototype.onRemove=function(e){var n=e.root;n instanceof OE&&n._handleRemove(this),this.parent=null,this.resolved=!1};or.prototype.resolve=function(){return this.resolved?this:(this.root instanceof OE&&(this.resolved=!0),this)};or.prototype.getOption=function(e){if(this.options)return this.options[e]};or.prototype.setOption=function(e,n,r){return(!r||!this.options||this.options[e]===void 0)&&((this.options||(this.options={}))[e]=n),this};or.prototype.setParsedOption=function(e,n,r){this.parsedOptions||(this.parsedOptions=[]);var i=this.parsedOptions;if(r){var s=i.find(function(A){return Object.prototype.hasOwnProperty.call(A,e)});if(s){var o=s[e];LE.setProperty(o,r,n)}else s={},s[e]=LE.setProperty({},r,n),i.push(s)}else{var a={};a[e]=n,i.push(a)}return this};or.prototype.setOptions=function(e,n){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)this.setOption(r[i],e[r[i]],n);return this};or.prototype.toString=function(){var e=this.constructor.className,n=this.fullName;return n.length?e+" "+n:e};or._configure=function(t){OE=t}});var jr=m((dSe,CV)=>{"use strict";CV.exports=Li;var EV=wa();((Li.prototype=Object.create(EV.prototype)).constructor=Li).className="Enum";var mV=Nc(),UE=xt();function Li(t,e,n,r,i,s){if(EV.call(this,t,n),e&&typeof e!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=r,this.comments=i||{},this.valuesOptions=s,this.reserved=void 0,e)for(var o=Object.keys(e),a=0;a<o.length;++a)typeof e[o[a]]=="number"&&(this.valuesById[this.values[o[a]]=e[o[a]]]=o[a])}Li.fromJSON=function(e,n){var r=new Li(e,n.values,n.options,n.comment,n.comments);return r.reserved=n.reserved,r};Li.prototype.toJSON=function(e){var n=e?!!e.keepComments:!1;return UE.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",n?this.comment:void 0,"comments",n?this.comments:void 0])};Li.prototype.add=function(e,n,r,i){if(!UE.isString(e))throw TypeError("name must be a string");if(!UE.isInteger(n))throw TypeError("id must be an integer");if(this.values[e]!==void 0)throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(n))throw Error("id "+n+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(this.valuesById[n]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+n+" in "+this);this.values[e]=n}else this.valuesById[this.values[e]=n]=e;return i&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[e]=i||null),this.comments[e]=r||null,this};Li.prototype.remove=function(e){if(!UE.isString(e))throw TypeError("name must be a string");var n=this.values[e];if(n==null)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[n],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this};Li.prototype.isReservedId=function(e){return mV.isReservedId(this.reserved,e)};Li.prototype.isReservedName=function(e){return mV.isReservedName(this.reserved,e)}});var P_=m((fSe,yV)=>{"use strict";yV.exports=iae;var rae=jr(),Y_=Qa(),W_=xt();function IV(t,e,n,r){return e.resolvedType.group?t("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",n,r,(e.id<<3|3)>>>0,(e.id<<3|4)>>>0):t("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",n,r,(e.id<<3|2)>>>0)}function iae(t){for(var e=W_.codegen(["m","w"],t.name+"$encode")("if(!w)")("w=Writer.create()"),n,r,i=t.fieldsArray.slice().sort(W_.compareFieldsById),n=0;n<i.length;++n){var s=i[n].resolve(),o=t._fieldsArray.indexOf(s),a=s.resolvedType instanceof rae?"int32":s.type,A=Y_.basic[a];r="m"+W_.safeProp(s.name),s.map?(e("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",r,s.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",r)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(s.id<<3|2)>>>0,8|Y_.mapKey[s.keyType],s.keyType),A===void 0?e("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",o,r):e(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|A,a,r),e("}")("}")):s.repeated?(e("if(%s!=null&&%s.length){",r,r),s.packed&&Y_.packed[a]!==void 0?e("w.uint32(%i).fork()",(s.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",r)("w.%s(%s[i])",a,r)("w.ldelim()"):(e("for(var i=0;i<%s.length;++i)",r),A===void 0?IV(e,s,o,r+"[i]"):e("w.uint32(%i).%s(%s[i])",(s.id<<3|A)>>>0,a,r)),e("}")):(s.optional&&e("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",r,s.name),A===void 0?IV(e,s,o,r):e("w.uint32(%i).%s(%s)",(s.id<<3|A)>>>0,a,r))}return e("return w")}});var QV=m((gSe,BV)=>{"use strict";var we=BV.exports=T2();we.build="light";function sae(t,e,n){return typeof e=="function"?(n=e,e=new we.Root):e||(e=new we.Root),e.load(t,n)}we.load=sae;function oae(t,e){return e||(e=new we.Root),e.loadSync(t)}we.loadSync=oae;we.encoder=P_();we.decoder=D_();we.verifier=N_();we.converter=M_();we.ReflectionObject=wa();we.Namespace=Nc();we.Root=xE();we.Enum=jr();we.Type=kE();we.Field=ao();we.OneOf=Dc();we.MapField=SE();we.Service=DE();we.Method=bE();we.Message=RE();we.wrappers=x_();we.types=Qa();we.util=xt();we.ReflectionObject._configure(we.Root);we.Namespace._configure(we.Type,we.Service,we.Enum);we.Root._configure(we.Type);we.Field._configure(we.Type)});var z_=m((pSe,_V)=>{"use strict";_V.exports=vV;var J_=/[\s{}=;:[\],'"()<>]/g,aae=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,Aae=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,cae=/^ *[*/]+ */,lae=/^\s*\*?\/*/,uae=/\n/g,hae=/\s/,dae=/\\(.?)/g,fae={0:"\0",r:"\r",n:`
`,t:"	"};function wV(t){return t.replace(dae,function(e,n){switch(n){case"\\":case"":return n;default:return fae[n]||""}})}vV.unescape=wV;function vV(t,e){t=t.toString();var n=0,r=t.length,i=1,s=0,o={},a=[],A=null;function c(v){return Error("illegal "+v+" (line "+i+")")}function l(){var v=A==="'"?Aae:aae;v.lastIndex=n-1;var _=v.exec(t);if(!_)throw c("string");return n=v.lastIndex,C(A),A=null,wV(_[1])}function u(v){return t.charAt(v)}function h(v,_,D){var W={type:t.charAt(v++),lineEmpty:!1,leading:D},de;e?de=2:de=3;var Ce=v-de,le;do if(--Ce<0||(le=t.charAt(Ce))===`
`){W.lineEmpty=!0;break}while(le===" "||le==="	");for(var Q=t.substring(v,_).split(uae),ne=0;ne<Q.length;++ne)Q[ne]=Q[ne].replace(e?lae:cae,"").trim();W.text=Q.join(`
`).trim(),o[i]=W,s=i}function d(v){var _=f(v),D=t.substring(v,_),W=/^\s*\/\//.test(D);return W}function f(v){for(var _=v;_<r&&u(_)!==`
`;)_++;return _}function E(){if(a.length>0)return a.shift();if(A)return l();var v,_,D,W,de,Ce=n===0;do{if(n===r)return null;for(v=!1;hae.test(D=u(n));)if(D===`
`&&(Ce=!0,++i),++n===r)return null;if(u(n)==="/"){if(++n===r)throw c("comment");if(u(n)==="/")if(e){if(W=n,de=!1,d(n-1)){de=!0;do if(n=f(n),n===r||(n++,!Ce))break;while(d(n))}else n=Math.min(r,f(n)+1);de&&(h(W,n,Ce),Ce=!0),i++,v=!0}else{for(de=u(W=n+1)==="/";u(++n)!==`
`;)if(n===r)return null;++n,de&&(h(W,n-1,Ce),Ce=!0),++i,v=!0}else if((D=u(n))==="*"){W=n+1,de=e||u(W)==="*";do{if(D===`
`&&++i,++n===r)throw c("comment");_=D,D=u(n)}while(_!=="*"||D!=="/");++n,de&&(h(W,n-2,Ce),Ce=!0),v=!0}else return"/"}}while(v);var le=n;J_.lastIndex=0;var Q=J_.test(u(le++));if(!Q)for(;le<r&&!J_.test(u(le));)++le;var ne=t.substring(n,n=le);return(ne==='"'||ne==="'")&&(A=ne),ne}function C(v){a.push(v)}function y(){if(!a.length){var v=E();if(v===null)return null;C(v)}return a[0]}function I(v,_){var D=y(),W=D===v;if(W)return E(),!0;if(!_)throw c("token '"+D+"', '"+v+"' expected");return!1}function S(v){var _=null,D;return v===void 0?(D=o[i-1],delete o[i-1],D&&(e||D.type==="*"||D.lineEmpty)&&(_=D.leading?D.text:null)):(s<v&&y(),D=o[v],delete o[v],D&&!D.lineEmpty&&(e||D.type==="/")&&(_=D.leading?null:D.text)),_}return Object.defineProperty({next:E,peek:y,push:C,skip:I,cmnt:S},"line",{get:function(){return i}})}});var NV=m((ESe,TV)=>{"use strict";TV.exports=ms;ms.filename=null;ms.defaults={keepCase:!1};var gae=z_(),SV=xE(),bV=kE(),DV=ao(),pae=SE(),RV=Dc(),Eae=jr(),mae=DE(),Cae=bE(),j_=Qa(),K_=xt(),Iae=/^[1-9][0-9]*$/,yae=/^-?[1-9][0-9]*$/,Bae=/^0[x][0-9a-fA-F]+$/,Qae=/^-?0[x][0-9a-fA-F]+$/,wae=/^0[0-7]+$/,vae=/^-?0[0-7]+$/,_ae=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,Oi=/^[a-zA-Z_][a-zA-Z_0-9]*$/,Ui=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,Sae=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function ms(t,e,n){e instanceof SV||(n=e,e=new SV),n||(n=ms.defaults);var r=n.preferTrailingComment||!1,i=gae(t,n.alternateCommentMode||!1),s=i.next,o=i.push,a=i.peek,A=i.skip,c=i.cmnt,l=!0,u,h,d,f,E=!1,C=e,y=n.keepCase?function(R){return R}:K_.camelCase;function I(R,T,x){var z=ms.filename;return x||(ms.filename=null),Error("illegal "+(T||"token")+" '"+R+"' ("+(z?z+", ":"")+"line "+i.line+")")}function S(){var R=[],T;do{if((T=s())!=='"'&&T!=="'")throw I(T);R.push(s()),A(T),T=a()}while(T==='"'||T==="'");return R.join("")}function v(R){var T=s();switch(T){case"'":case'"':return o(T),S();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return D(T,!0)}catch{if(R&&Ui.test(T))return T;throw I(T,"value")}}function _(R,T){var x,z;do T&&((x=a())==='"'||x==="'")?R.push(S()):R.push([z=W(s()),A("to",!0)?W(s()):z]);while(A(",",!0));A(";")}function D(R,T){var x=1;switch(R.charAt(0)==="-"&&(x=-1,R=R.substring(1)),R){case"inf":case"INF":case"Inf":return x*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(Iae.test(R))return x*parseInt(R,10);if(Bae.test(R))return x*parseInt(R,16);if(wae.test(R))return x*parseInt(R,8);if(_ae.test(R))return x*parseFloat(R);throw I(R,"number",T)}function W(R,T){switch(R){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!T&&R.charAt(0)==="-")throw I(R,"id");if(yae.test(R))return parseInt(R,10);if(Qae.test(R))return parseInt(R,16);if(vae.test(R))return parseInt(R,8);throw I(R,"id")}function de(){if(u!==void 0)throw I("package");if(u=s(),!Ui.test(u))throw I(u,"name");C=C.define(u),A(";")}function Ce(){var R=a(),T;switch(R){case"weak":T=d||(d=[]),s();break;case"public":s();default:T=h||(h=[]);break}R=S(),A(";"),T.push(R)}function le(){if(A("="),f=S(),E=f==="proto3",!E&&f!=="proto2")throw I(f,"syntax");A(";")}function Q(R,T){switch(T){case"option":return Ne(R,T),A(";"),!0;case"message":return w(R,T),!0;case"enum":return be(R,T),!0;case"service":return xe(R,T),!0;case"extend":return AA(R,T),!0}return!1}function ne(R,T,x){var z=i.line;if(R&&(typeof R.comment!="string"&&(R.comment=c()),R.filename=ms.filename),A("{",!0)){for(var Y;(Y=s())!=="}";)T(Y);A(";",!0)}else x&&x(),A(";"),R&&(typeof R.comment!="string"||r)&&(R.comment=c(z)||R.comment)}function w(R,T){if(!Oi.test(T=s()))throw I(T,"type name");var x=new bV(T);ne(x,function(Y){if(!Q(x,Y))switch(Y){case"map":J(x,Y);break;case"required":case"repeated":g(x,Y);break;case"optional":E?g(x,"proto3_optional"):g(x,"optional");break;case"oneof":Se(x,Y);break;case"extensions":_(x.extensions||(x.extensions=[]));break;case"reserved":_(x.reserved||(x.reserved=[]),!0);break;default:if(!E||!Ui.test(Y))throw I(Y);o(Y),g(x,"optional");break}}),R.add(x)}function g(R,T,x){var z=s();if(z==="group"){F(R,T);return}for(;z.endsWith(".")||a().startsWith(".");)z+=s();if(!Ui.test(z))throw I(z,"type");var Y=s();if(!Oi.test(Y))throw I(Y,"name");Y=y(Y),A("=");var me=new DV(Y,W(s()),z,T,x);if(ne(me,function(Hn){if(Hn==="option")Ne(me,Hn),A(";");else throw I(Hn)},function(){Ge(me)}),T==="proto3_optional"){var qt=new RV("_"+Y);me.setOption("proto3_optional",!0),qt.add(me),R.add(qt)}else R.add(me);!E&&me.repeated&&(j_.packed[z]!==void 0||j_.basic[z]===void 0)&&me.setOption("packed",!1,!0)}function F(R,T){var x=s();if(!Oi.test(x))throw I(x,"name");var z=K_.lcFirst(x);x===z&&(x=K_.ucFirst(x)),A("=");var Y=W(s()),me=new bV(x);me.group=!0;var qt=new DV(z,Y,x,T);qt.filename=ms.filename,ne(me,function(Hn){switch(Hn){case"option":Ne(me,Hn),A(";");break;case"required":case"repeated":g(me,Hn);break;case"optional":E?g(me,"proto3_optional"):g(me,"optional");break;case"message":w(me,Hn);break;case"enum":be(me,Hn);break;default:throw I(Hn)}}),R.add(me).add(qt)}function J(R){A("<");var T=s();if(j_.mapKey[T]===void 0)throw I(T,"type");A(",");var x=s();if(!Ui.test(x))throw I(x,"type");A(">");var z=s();if(!Oi.test(z))throw I(z,"name");A("=");var Y=new pae(y(z),W(s()),T,x);ne(Y,function(qt){if(qt==="option")Ne(Y,qt),A(";");else throw I(qt)},function(){Ge(Y)}),R.add(Y)}function Se(R,T){if(!Oi.test(T=s()))throw I(T,"name");var x=new RV(y(T));ne(x,function(Y){Y==="option"?(Ne(x,Y),A(";")):(o(Y),g(x,"optional"))}),R.add(x)}function be(R,T){if(!Oi.test(T=s()))throw I(T,"name");var x=new Eae(T);ne(x,function(Y){switch(Y){case"option":Ne(x,Y),A(";");break;case"reserved":_(x.reserved||(x.reserved=[]),!0);break;default:qe(x,Y)}}),R.add(x)}function qe(R,T){if(!Oi.test(T))throw I(T,"name");A("=");var x=W(s(),!0),z={options:void 0};z.setOption=function(Y,me){this.options===void 0&&(this.options={}),this.options[Y]=me},ne(z,function(me){if(me==="option")Ne(z,me),A(";");else throw I(me)},function(){Ge(z)}),R.add(T,x,z.comment,z.options)}function Ne(R,T){var x=A("(",!0);if(!Ui.test(T=s()))throw I(T,"name");var z=T,Y=z,me;x&&(A(")"),z="("+z+")",Y=z,T=a(),Sae.test(T)&&(me=T.slice(1),z+=T,s())),A("=");var qt=bt(R,z);ue(R,Y,qt,me)}function bt(R,T){if(A("{",!0)){for(var x={};!A("}",!0);){if(!Oi.test($t=s()))throw I($t,"name");if($t===null)throw I($t,"end of input");var z,Y=$t;if(A(":",!0),a()==="{")z=bt(R,T+"."+$t);else if(a()==="["){z=[];var me;if(A("[",!0)){do me=v(!0),z.push(me);while(A(",",!0));A("]"),typeof me<"u"&&it(R,T+"."+$t,me)}}else z=v(!0),it(R,T+"."+$t,z);var qt=x[Y];qt&&(z=[].concat(qt).concat(z)),x[Y]=z,A(",",!0),A(";",!0)}return x}var Ds=v(!0);return it(R,T,Ds),Ds}function it(R,T,x){R.setOption&&R.setOption(T,x)}function ue(R,T,x,z){R.setParsedOption&&R.setParsedOption(T,x,z)}function Ge(R){if(A("[",!0)){do Ne(R,"option");while(A(",",!0));A("]")}return R}function xe(R,T){if(!Oi.test(T=s()))throw I(T,"service name");var x=new mae(T);ne(x,function(Y){if(!Q(x,Y))if(Y==="rpc")Vt(x,Y);else throw I(Y)}),R.add(x)}function Vt(R,T){var x=c(),z=T;if(!Oi.test(T=s()))throw I(T,"name");var Y=T,me,qt,Ds,Hn;if(A("("),A("stream",!0)&&(qt=!0),!Ui.test(T=s())||(me=T,A(")"),A("returns"),A("("),A("stream",!0)&&(Hn=!0),!Ui.test(T=s())))throw I(T);Ds=T,A(")");var af=new Cae(Y,z,me,Ds,qt,Hn);af.comment=x,ne(af,function(vI){if(vI==="option")Ne(af,vI),A(";");else throw I(vI)}),R.add(af)}function AA(R,T){if(!Ui.test(T=s()))throw I(T,"reference");var x=T;ne(null,function(Y){switch(Y){case"required":case"repeated":g(R,Y,x);break;case"optional":E?g(R,"proto3_optional",x):g(R,"optional",x);break;default:if(!E||!Ui.test(Y))throw I(Y);o(Y),g(R,"optional",x);break}})}for(var $t;($t=s())!==null;)switch($t){case"package":if(!l)throw I($t);de();break;case"import":if(!l)throw I($t);Ce();break;case"syntax":if(!l)throw I($t);le();break;case"option":Ne(C,$t),A(";");break;default:if(Q(C,$t)){l=!1;continue}throw I($t)}return ms.filename=null,{package:u,imports:h,weakImports:d,syntax:f,root:e}}});var MV=m((mSe,FV)=>{"use strict";FV.exports=$r;var bae=/\/|\./;function $r(t,e){bae.test(t)||(t="google/protobuf/"+t+".proto",e={nested:{google:{nested:{protobuf:{nested:e}}}}}),$r[t]=e}$r("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var kV;$r("duration",{Duration:kV={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}});$r("timestamp",{Timestamp:kV});$r("empty",{Empty:{fields:{}}});$r("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}});$r("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}});$r("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}});$r.get=function(e){return $r[e]||null}});var LV=m((CSe,xV)=>{"use strict";var lo=xV.exports=QV();lo.build="full";lo.tokenize=z_();lo.parse=NV();lo.common=MV();lo.Root._configure(lo.Type,lo.parse,lo.common)});var PE=m((ISe,OV)=>{"use strict";OV.exports=LV()});var $_=m((ySe,Dae)=>{Dae.exports={nested:{google:{nested:{protobuf:{nested:{FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}}}}}}}}});var GV=m((Ee,qV)=>{"use strict";var _n=PE();qV.exports=Ee=_n.descriptor=_n.Root.fromJSON($_()).lookup(".google.protobuf");var UV=_n.Namespace,Lh=_n.Root,Cs=_n.Enum,uo=_n.Type,ho=_n.Field,Rae=_n.MapField,VE=_n.OneOf,Oh=_n.Service,qE=_n.Method;Lh.fromDescriptor=function(e){typeof e.length=="number"&&(e=Ee.FileDescriptorSet.decode(e));var n=new Lh;if(e.file)for(var r,i,s=0,o;s<e.file.length;++s){if(i=n,(r=e.file[s]).package&&r.package.length&&(i=n.define(r.package)),r.name&&r.name.length&&n.files.push(i.filename=r.name),r.messageType)for(o=0;o<r.messageType.length;++o)i.add(uo.fromDescriptor(r.messageType[o],r.syntax));if(r.enumType)for(o=0;o<r.enumType.length;++o)i.add(Cs.fromDescriptor(r.enumType[o]));if(r.extension)for(o=0;o<r.extension.length;++o)i.add(ho.fromDescriptor(r.extension[o]));if(r.service)for(o=0;o<r.service.length;++o)i.add(Oh.fromDescriptor(r.service[o]));var a=Fc(r.options,Ee.FileOptions);if(a){var A=Object.keys(a);for(o=0;o<A.length;++o)i.setOption(A[o],a[A[o]])}}return n};Lh.prototype.toDescriptor=function(e){var n=Ee.FileDescriptorSet.create();return PV(this,n.file,e),n};function PV(t,e,n){var r=Ee.FileDescriptorProto.create({name:t.filename||(t.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});n&&(r.syntax=n),t instanceof Lh||(r.package=t.fullName.substring(1));for(var i=0,s;i<t.nestedArray.length;++i)(s=t._nestedArray[i])instanceof uo?r.messageType.push(s.toDescriptor(n)):s instanceof Cs?r.enumType.push(s.toDescriptor()):s instanceof ho?r.extension.push(s.toDescriptor(n)):s instanceof Oh?r.service.push(s.toDescriptor()):s instanceof UV&&PV(s,e,n);r.options=Mc(t.options,Ee.FileOptions),r.messageType.length+r.enumType.length+r.extension.length+r.service.length&&e.push(r)}var Tae=0;uo.fromDescriptor=function(e,n){typeof e.length=="number"&&(e=Ee.DescriptorProto.decode(e));var r=new uo(e.name.length?e.name:"Type"+Tae++,Fc(e.options,Ee.MessageOptions)),i;if(e.oneofDecl)for(i=0;i<e.oneofDecl.length;++i)r.add(VE.fromDescriptor(e.oneofDecl[i]));if(e.field)for(i=0;i<e.field.length;++i){var s=ho.fromDescriptor(e.field[i],n);r.add(s),e.field[i].hasOwnProperty("oneofIndex")&&r.oneofsArray[e.field[i].oneofIndex].add(s)}if(e.extension)for(i=0;i<e.extension.length;++i)r.add(ho.fromDescriptor(e.extension[i],n));if(e.nestedType)for(i=0;i<e.nestedType.length;++i)r.add(uo.fromDescriptor(e.nestedType[i],n)),e.nestedType[i].options&&e.nestedType[i].options.mapEntry&&r.setOption("map_entry",!0);if(e.enumType)for(i=0;i<e.enumType.length;++i)r.add(Cs.fromDescriptor(e.enumType[i]));if(e.extensionRange&&e.extensionRange.length)for(r.extensions=[],i=0;i<e.extensionRange.length;++i)r.extensions.push([e.extensionRange[i].start,e.extensionRange[i].end]);if(e.reservedRange&&e.reservedRange.length||e.reservedName&&e.reservedName.length){if(r.reserved=[],e.reservedRange)for(i=0;i<e.reservedRange.length;++i)r.reserved.push([e.reservedRange[i].start,e.reservedRange[i].end]);if(e.reservedName)for(i=0;i<e.reservedName.length;++i)r.reserved.push(e.reservedName[i])}return r};uo.prototype.toDescriptor=function(e){var n=Ee.DescriptorProto.create({name:this.name}),r;for(r=0;r<this.fieldsArray.length;++r){var i;if(n.field.push(i=this._fieldsArray[r].toDescriptor(e)),this._fieldsArray[r]instanceof Rae){var s=X_(this._fieldsArray[r].keyType,this._fieldsArray[r].resolvedKeyType),o=X_(this._fieldsArray[r].type,this._fieldsArray[r].resolvedType),a=o===11||o===14?this._fieldsArray[r].resolvedType&&VV(this.parent,this._fieldsArray[r].resolvedType)||this._fieldsArray[r].type:void 0;n.nestedType.push(Ee.DescriptorProto.create({name:i.typeName,field:[Ee.FieldDescriptorProto.create({name:"key",number:1,label:1,type:s}),Ee.FieldDescriptorProto.create({name:"value",number:2,label:1,type:o,typeName:a})],options:Ee.MessageOptions.create({mapEntry:!0})}))}}for(r=0;r<this.oneofsArray.length;++r)n.oneofDecl.push(this._oneofsArray[r].toDescriptor());for(r=0;r<this.nestedArray.length;++r)this._nestedArray[r]instanceof ho?n.field.push(this._nestedArray[r].toDescriptor(e)):this._nestedArray[r]instanceof uo?n.nestedType.push(this._nestedArray[r].toDescriptor(e)):this._nestedArray[r]instanceof Cs&&n.enumType.push(this._nestedArray[r].toDescriptor());if(this.extensions)for(r=0;r<this.extensions.length;++r)n.extensionRange.push(Ee.DescriptorProto.ExtensionRange.create({start:this.extensions[r][0],end:this.extensions[r][1]}));if(this.reserved)for(r=0;r<this.reserved.length;++r)typeof this.reserved[r]=="string"?n.reservedName.push(this.reserved[r]):n.reservedRange.push(Ee.DescriptorProto.ReservedRange.create({start:this.reserved[r][0],end:this.reserved[r][1]}));return n.options=Mc(this.options,Ee.MessageOptions),n};var Nae=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;ho.fromDescriptor=function(e,n){if(typeof e.length=="number"&&(e=Ee.DescriptorProto.decode(e)),typeof e.number!="number")throw Error("missing field id");var r;e.typeName&&e.typeName.length?r=e.typeName:r=Lae(e.type);var i;switch(e.label){case 1:i=void 0;break;case 2:i="required";break;case 3:i="repeated";break;default:throw Error("illegal label: "+e.label)}var s=e.extendee;e.extendee!==void 0&&(s=s.length?s:void 0);var o=new ho(e.name.length?e.name:"field"+e.number,e.number,r,i,s);if(o.options=Fc(e.options,Ee.FieldOptions),e.defaultValue&&e.defaultValue.length){var a=e.defaultValue;switch(a){case"true":case"TRUE":a=!0;break;case"false":case"FALSE":a=!1;break;default:var A=Nae.exec(a);A&&(a=parseInt(a));break}o.setOption("default",a)}return Oae(e.type)&&(n==="proto3"?e.options&&!e.options.packed&&o.setOption("packed",!1):e.options&&e.options.packed||o.setOption("packed",!1)),o};ho.prototype.toDescriptor=function(e){var n=Ee.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)n.type=11,n.typeName=_n.util.ucFirst(this.name),n.label=3;else{switch(n.type=X_(this.type,this.resolve().resolvedType)){case 10:case 11:case 14:n.typeName=this.resolvedType?VV(this.parent,this.resolvedType):this.type;break}switch(this.rule){case"repeated":n.label=3;break;case"required":n.label=2;break;default:n.label=1;break}}if(n.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(n.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(n.options=Mc(this.options,Ee.FieldOptions),this.options.default!=null&&(n.defaultValue=String(this.options.default))),e==="proto3"?this.packed||((n.options||(n.options=Ee.FieldOptions.create())).packed=!1):this.packed&&((n.options||(n.options=Ee.FieldOptions.create())).packed=!0),n};var kae=0;Cs.fromDescriptor=function(e){typeof e.length=="number"&&(e=Ee.EnumDescriptorProto.decode(e));var n={};if(e.value)for(var r=0;r<e.value.length;++r){var i=e.value[r].name,s=e.value[r].number||0;n[i&&i.length?i:"NAME"+s]=s}return new Cs(e.name&&e.name.length?e.name:"Enum"+kae++,n,Fc(e.options,Ee.EnumOptions))};Cs.prototype.toDescriptor=function(){for(var e=[],n=0,r=Object.keys(this.values);n<r.length;++n)e.push(Ee.EnumValueDescriptorProto.create({name:r[n],number:this.values[r[n]]}));return Ee.EnumDescriptorProto.create({name:this.name,value:e,options:Mc(this.options,Ee.EnumOptions)})};var Fae=0;VE.fromDescriptor=function(e){return typeof e.length=="number"&&(e=Ee.OneofDescriptorProto.decode(e)),new VE(e.name&&e.name.length?e.name:"oneof"+Fae++)};VE.prototype.toDescriptor=function(){return Ee.OneofDescriptorProto.create({name:this.name})};var Mae=0;Oh.fromDescriptor=function(e){typeof e.length=="number"&&(e=Ee.ServiceDescriptorProto.decode(e));var n=new Oh(e.name&&e.name.length?e.name:"Service"+Mae++,Fc(e.options,Ee.ServiceOptions));if(e.method)for(var r=0;r<e.method.length;++r)n.add(qE.fromDescriptor(e.method[r]));return n};Oh.prototype.toDescriptor=function(){for(var e=[],n=0;n<this.methodsArray.length;++n)e.push(this._methodsArray[n].toDescriptor());return Ee.ServiceDescriptorProto.create({name:this.name,method:e,options:Mc(this.options,Ee.ServiceOptions)})};var xae=0;qE.fromDescriptor=function(e){return typeof e.length=="number"&&(e=Ee.MethodDescriptorProto.decode(e)),new qE(e.name&&e.name.length?e.name:"Method"+xae++,"rpc",e.inputType,e.outputType,!!e.clientStreaming,!!e.serverStreaming,Fc(e.options,Ee.MethodOptions))};qE.prototype.toDescriptor=function(){return Ee.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:Mc(this.options,Ee.MethodOptions)})};function Lae(t){switch(t){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+t)}function Oae(t){switch(t){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function X_(t,e){switch(t){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(e instanceof Cs)return 14;if(e instanceof uo)return e.group?10:11;throw Error("illegal type: "+t)}function Fc(t,e){if(t){for(var n=[],r=0,i,s,o;r<e.fieldsArray.length;++r)(s=(i=e._fieldsArray[r]).name)!=="uninterpretedOption"&&t.hasOwnProperty(s)&&(o=t[s],i.resolvedType instanceof Cs&&typeof o=="number"&&i.resolvedType.valuesById[o]!==void 0&&(o=i.resolvedType.valuesById[o]),n.push(Uae(s),o));return n.length?_n.util.toObject(n):void 0}}function Mc(t,e){if(t){for(var n=[],r=0,i=Object.keys(t),s,o;r<i.length;++r)if(o=t[s=i[r]],s!=="default"){var a=e.fields[s];!a&&!(a=e.fields[s=_n.util.camelCase(s)])||n.push(s,o)}return n.length?e.fromObject(_n.util.toObject(n)):void 0}}function VV(t,e){var n=t.fullName.split("."),r=e.fullName.split("."),i=0,s=0,o=r.length-1;if(!(t instanceof Lh)&&e instanceof UV)for(;i<n.length&&s<o&&n[i]===r[s];){var a=e.lookup(n[i++],!0);if(a!==null&&a!==e)break;++s}else for(;i<n.length&&s<o&&n[i]===r[s];++i,++s);return r.slice(s).join(".")}function Uae(t){return t.substring(0,1)+t.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(e,n){return"_"+n.toLowerCase()})}});var HV=m((BSe,Pae)=>{Pae.exports={nested:{google:{nested:{protobuf:{nested:{Api:{fields:{name:{type:"string",id:1},methods:{rule:"repeated",type:"Method",id:2},options:{rule:"repeated",type:"Option",id:3},version:{type:"string",id:4},sourceContext:{type:"SourceContext",id:5},mixins:{rule:"repeated",type:"Mixin",id:6},syntax:{type:"Syntax",id:7}}},Method:{fields:{name:{type:"string",id:1},requestTypeUrl:{type:"string",id:2},requestStreaming:{type:"bool",id:3},responseTypeUrl:{type:"string",id:4},responseStreaming:{type:"bool",id:5},options:{rule:"repeated",type:"Option",id:6},syntax:{type:"Syntax",id:7}}},Mixin:{fields:{name:{type:"string",id:1},root:{type:"string",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}}}}}}}}});var YV=m((QSe,Vae)=>{Vae.exports={nested:{google:{nested:{protobuf:{nested:{SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var WV=m((wSe,qae)=>{qae.exports={nested:{google:{nested:{protobuf:{nested:{Type:{fields:{name:{type:"string",id:1},fields:{rule:"repeated",type:"Field",id:2},oneofs:{rule:"repeated",type:"string",id:3},options:{rule:"repeated",type:"Option",id:4},sourceContext:{type:"SourceContext",id:5},syntax:{type:"Syntax",id:6}}},Field:{fields:{kind:{type:"Kind",id:1},cardinality:{type:"Cardinality",id:2},number:{type:"int32",id:3},name:{type:"string",id:4},typeUrl:{type:"string",id:6},oneofIndex:{type:"int32",id:7},packed:{type:"bool",id:8},options:{rule:"repeated",type:"Option",id:9},jsonName:{type:"string",id:10},defaultValue:{type:"string",id:11}},nested:{Kind:{values:{TYPE_UNKNOWN:0,TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Cardinality:{values:{CARDINALITY_UNKNOWN:0,CARDINALITY_OPTIONAL:1,CARDINALITY_REQUIRED:2,CARDINALITY_REPEATED:3}}}},Enum:{fields:{name:{type:"string",id:1},enumvalue:{rule:"repeated",type:"EnumValue",id:2},options:{rule:"repeated",type:"Option",id:3},sourceContext:{type:"SourceContext",id:4},syntax:{type:"Syntax",id:5}}},EnumValue:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{rule:"repeated",type:"Option",id:3}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}},Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var KV=m(fo=>{"use strict";Object.defineProperty(fo,"__esModule",{value:!0});fo.addCommonProtos=fo.loadProtosWithOptionsSync=fo.loadProtosWithOptions=void 0;var JV=B("fs"),zV=B("path"),xc=PE();function jV(t,e){let n=t.resolvePath;t.resolvePath=(r,i)=>{if(zV.isAbsolute(i))return i;for(let s of e){let o=zV.join(s,i);try{return JV.accessSync(o,JV.constants.R_OK),o}catch{continue}}return process.emitWarning(`${i} not found in any of the include paths ${e}`),n(r,i)}}function Gae(t,e){return p(this,null,function*(){let n=new xc.Root;if(e=e||{},e.includeDirs){if(!Array.isArray(e.includeDirs))return Promise.reject(new Error("The includeDirs option must be an array"));jV(n,e.includeDirs)}let r=yield n.load(t,e);return r.resolveAll(),r})}fo.loadProtosWithOptions=Gae;function Hae(t,e){let n=new xc.Root;if(e=e||{},e.includeDirs){if(!Array.isArray(e.includeDirs))throw new Error("The includeDirs option must be an array");jV(n,e.includeDirs)}let r=n.loadSync(t,e);return r.resolveAll(),r}fo.loadProtosWithOptionsSync=Hae;function Yae(){let t=HV(),e=$_(),n=YV(),r=WV();xc.common("api",t.nested.google.nested.protobuf.nested),xc.common("descriptor",e.nested.google.nested.protobuf.nested),xc.common("source_context",n.nested.google.nested.protobuf.nested),xc.common("type",r.nested.google.nested.protobuf.nested)}fo.addCommonProtos=Yae});var ZV=m((XV,Z_)=>{"use strict";var $V=function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=null;try{e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function n(w,g,F){this.low=w|0,this.high=g|0,this.unsigned=!!F}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0});function r(w){return(w&&w.__isLong__)===!0}function i(w){var g=Math.clz32(w&-w);return w?31-g:g}n.isLong=r;var s={},o={};function a(w,g){var F,J,Se;return g?(w>>>=0,(Se=0<=w&&w<256)&&(J=o[w],J)?J:(F=c(w,0,!0),Se&&(o[w]=F),F)):(w|=0,(Se=-128<=w&&w<128)&&(J=s[w],J)?J:(F=c(w,w<0?-1:0,!1),Se&&(s[w]=F),F))}n.fromInt=a;function A(w,g){if(isNaN(w))return g?v:S;if(g){if(w<0)return v;if(w>=C)return Ce}else{if(w<=-y)return le;if(w+1>=y)return de}return w<0?A(-w,g).neg():c(w%E|0,w/E|0,g)}n.fromNumber=A;function c(w,g,F){return new n(w,g,F)}n.fromBits=c;var l=Math.pow;function u(w,g,F){if(w.length===0)throw Error("empty string");if(typeof g=="number"?(F=g,g=!1):g=!!g,w==="NaN"||w==="Infinity"||w==="+Infinity"||w==="-Infinity")return g?v:S;if(F=F||10,F<2||36<F)throw RangeError("radix");var J;if((J=w.indexOf("-"))>0)throw Error("interior hyphen");if(J===0)return u(w.substring(1),g,F).neg();for(var Se=A(l(F,8)),be=S,qe=0;qe<w.length;qe+=8){var Ne=Math.min(8,w.length-qe),bt=parseInt(w.substring(qe,qe+Ne),F);if(Ne<8){var it=A(l(F,Ne));be=be.mul(it).add(A(bt))}else be=be.mul(Se),be=be.add(A(bt))}return be.unsigned=g,be}n.fromString=u;function h(w,g){return typeof w=="number"?A(w,g):typeof w=="string"?u(w,g):c(w.low,w.high,typeof g=="boolean"?g:w.unsigned)}n.fromValue=h;var d=65536,f=1<<24,E=d*d,C=E*E,y=C/2,I=a(f),S=a(0);n.ZERO=S;var v=a(0,!0);n.UZERO=v;var _=a(1);n.ONE=_;var D=a(1,!0);n.UONE=D;var W=a(-1);n.NEG_ONE=W;var de=c(-1,2147483647,!1);n.MAX_VALUE=de;var Ce=c(-1,-1,!0);n.MAX_UNSIGNED_VALUE=Ce;var le=c(0,-2147483648,!1);n.MIN_VALUE=le;var Q=n.prototype;Q.toInt=function(){return this.unsigned?this.low>>>0:this.low},Q.toNumber=function(){return this.unsigned?(this.high>>>0)*E+(this.low>>>0):this.high*E+(this.low>>>0)},Q.toString=function(g){if(g=g||10,g<2||36<g)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(le)){var F=A(g),J=this.div(F),Se=J.mul(F).sub(this);return J.toString(g)+Se.toInt().toString(g)}else return"-"+this.neg().toString(g);for(var be=A(l(g,6),this.unsigned),qe=this,Ne="";;){var bt=qe.div(be),it=qe.sub(bt.mul(be)).toInt()>>>0,ue=it.toString(g);if(qe=bt,qe.isZero())return ue+Ne;for(;ue.length<6;)ue="0"+ue;Ne=""+ue+Ne}},Q.getHighBits=function(){return this.high},Q.getHighBitsUnsigned=function(){return this.high>>>0},Q.getLowBits=function(){return this.low},Q.getLowBitsUnsigned=function(){return this.low>>>0},Q.getNumBitsAbs=function(){if(this.isNegative())return this.eq(le)?64:this.neg().getNumBitsAbs();for(var g=this.high!=0?this.high:this.low,F=31;F>0&&!(g&1<<F);F--);return this.high!=0?F+33:F+1},Q.isZero=function(){return this.high===0&&this.low===0},Q.eqz=Q.isZero,Q.isNegative=function(){return!this.unsigned&&this.high<0},Q.isPositive=function(){return this.unsigned||this.high>=0},Q.isOdd=function(){return(this.low&1)===1},Q.isEven=function(){return(this.low&1)===0},Q.equals=function(g){return r(g)||(g=h(g)),this.unsigned!==g.unsigned&&this.high>>>31===1&&g.high>>>31===1?!1:this.high===g.high&&this.low===g.low},Q.eq=Q.equals,Q.notEquals=function(g){return!this.eq(g)},Q.neq=Q.notEquals,Q.ne=Q.notEquals,Q.lessThan=function(g){return this.comp(g)<0},Q.lt=Q.lessThan,Q.lessThanOrEqual=function(g){return this.comp(g)<=0},Q.lte=Q.lessThanOrEqual,Q.le=Q.lessThanOrEqual,Q.greaterThan=function(g){return this.comp(g)>0},Q.gt=Q.greaterThan,Q.greaterThanOrEqual=function(g){return this.comp(g)>=0},Q.gte=Q.greaterThanOrEqual,Q.ge=Q.greaterThanOrEqual,Q.compare=function(g){if(r(g)||(g=h(g)),this.eq(g))return 0;var F=this.isNegative(),J=g.isNegative();return F&&!J?-1:!F&&J?1:this.unsigned?g.high>>>0>this.high>>>0||g.high===this.high&&g.low>>>0>this.low>>>0?-1:1:this.sub(g).isNegative()?-1:1},Q.comp=Q.compare,Q.negate=function(){return!this.unsigned&&this.eq(le)?le:this.not().add(_)},Q.neg=Q.negate,Q.add=function(g){r(g)||(g=h(g));var F=this.high>>>16,J=this.high&65535,Se=this.low>>>16,be=this.low&65535,qe=g.high>>>16,Ne=g.high&65535,bt=g.low>>>16,it=g.low&65535,ue=0,Ge=0,xe=0,Vt=0;return Vt+=be+it,xe+=Vt>>>16,Vt&=65535,xe+=Se+bt,Ge+=xe>>>16,xe&=65535,Ge+=J+Ne,ue+=Ge>>>16,Ge&=65535,ue+=F+qe,ue&=65535,c(xe<<16|Vt,ue<<16|Ge,this.unsigned)},Q.subtract=function(g){return r(g)||(g=h(g)),this.add(g.neg())},Q.sub=Q.subtract,Q.multiply=function(g){if(this.isZero())return this;if(r(g)||(g=h(g)),e){var F=e.mul(this.low,this.high,g.low,g.high);return c(F,e.get_high(),this.unsigned)}if(g.isZero())return this.unsigned?v:S;if(this.eq(le))return g.isOdd()?le:S;if(g.eq(le))return this.isOdd()?le:S;if(this.isNegative())return g.isNegative()?this.neg().mul(g.neg()):this.neg().mul(g).neg();if(g.isNegative())return this.mul(g.neg()).neg();if(this.lt(I)&&g.lt(I))return A(this.toNumber()*g.toNumber(),this.unsigned);var J=this.high>>>16,Se=this.high&65535,be=this.low>>>16,qe=this.low&65535,Ne=g.high>>>16,bt=g.high&65535,it=g.low>>>16,ue=g.low&65535,Ge=0,xe=0,Vt=0,AA=0;return AA+=qe*ue,Vt+=AA>>>16,AA&=65535,Vt+=be*ue,xe+=Vt>>>16,Vt&=65535,Vt+=qe*it,xe+=Vt>>>16,Vt&=65535,xe+=Se*ue,Ge+=xe>>>16,xe&=65535,xe+=be*it,Ge+=xe>>>16,xe&=65535,xe+=qe*bt,Ge+=xe>>>16,xe&=65535,Ge+=J*ue+Se*it+be*bt+qe*Ne,Ge&=65535,c(Vt<<16|AA,Ge<<16|xe,this.unsigned)},Q.mul=Q.multiply,Q.divide=function(g){if(r(g)||(g=h(g)),g.isZero())throw Error("division by zero");if(e){if(!this.unsigned&&this.high===-2147483648&&g.low===-1&&g.high===-1)return this;var F=(this.unsigned?e.div_u:e.div_s)(this.low,this.high,g.low,g.high);return c(F,e.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?v:S;var J,Se,be;if(this.unsigned){if(g.unsigned||(g=g.toUnsigned()),g.gt(this))return v;if(g.gt(this.shru(1)))return D;be=v}else{if(this.eq(le)){if(g.eq(_)||g.eq(W))return le;if(g.eq(le))return _;var qe=this.shr(1);return J=qe.div(g).shl(1),J.eq(S)?g.isNegative()?_:W:(Se=this.sub(g.mul(J)),be=J.add(Se.div(g)),be)}else if(g.eq(le))return this.unsigned?v:S;if(this.isNegative())return g.isNegative()?this.neg().div(g.neg()):this.neg().div(g).neg();if(g.isNegative())return this.div(g.neg()).neg();be=S}for(Se=this;Se.gte(g);){J=Math.max(1,Math.floor(Se.toNumber()/g.toNumber()));for(var Ne=Math.ceil(Math.log(J)/Math.LN2),bt=Ne<=48?1:l(2,Ne-48),it=A(J),ue=it.mul(g);ue.isNegative()||ue.gt(Se);)J-=bt,it=A(J,this.unsigned),ue=it.mul(g);it.isZero()&&(it=_),be=be.add(it),Se=Se.sub(ue)}return be},Q.div=Q.divide,Q.modulo=function(g){if(r(g)||(g=h(g)),e){var F=(this.unsigned?e.rem_u:e.rem_s)(this.low,this.high,g.low,g.high);return c(F,e.get_high(),this.unsigned)}return this.sub(this.div(g).mul(g))},Q.mod=Q.modulo,Q.rem=Q.modulo,Q.not=function(){return c(~this.low,~this.high,this.unsigned)},Q.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},Q.clz=Q.countLeadingZeros,Q.countTrailingZeros=function(){return this.low?i(this.low):i(this.high)+32},Q.ctz=Q.countTrailingZeros,Q.and=function(g){return r(g)||(g=h(g)),c(this.low&g.low,this.high&g.high,this.unsigned)},Q.or=function(g){return r(g)||(g=h(g)),c(this.low|g.low,this.high|g.high,this.unsigned)},Q.xor=function(g){return r(g)||(g=h(g)),c(this.low^g.low,this.high^g.high,this.unsigned)},Q.shiftLeft=function(g){return r(g)&&(g=g.toInt()),(g&=63)===0?this:g<32?c(this.low<<g,this.high<<g|this.low>>>32-g,this.unsigned):c(0,this.low<<g-32,this.unsigned)},Q.shl=Q.shiftLeft,Q.shiftRight=function(g){return r(g)&&(g=g.toInt()),(g&=63)===0?this:g<32?c(this.low>>>g|this.high<<32-g,this.high>>g,this.unsigned):c(this.high>>g-32,this.high>=0?0:-1,this.unsigned)},Q.shr=Q.shiftRight,Q.shiftRightUnsigned=function(g){return r(g)&&(g=g.toInt()),(g&=63)===0?this:g<32?c(this.low>>>g|this.high<<32-g,this.high>>>g,this.unsigned):g===32?c(this.high,0,this.unsigned):c(this.high>>>g-32,0,this.unsigned)},Q.shru=Q.shiftRightUnsigned,Q.shr_u=Q.shiftRightUnsigned,Q.rotateLeft=function(g){var F;return r(g)&&(g=g.toInt()),(g&=63)===0?this:g===32?c(this.high,this.low,this.unsigned):g<32?(F=32-g,c(this.low<<g|this.high>>>F,this.high<<g|this.low>>>F,this.unsigned)):(g-=32,F=32-g,c(this.high<<g|this.low>>>F,this.low<<g|this.high>>>F,this.unsigned))},Q.rotl=Q.rotateLeft,Q.rotateRight=function(g){var F;return r(g)&&(g=g.toInt()),(g&=63)===0?this:g===32?c(this.high,this.low,this.unsigned):g<32?(F=32-g,c(this.high<<F|this.low>>>g,this.low<<F|this.high>>>g,this.unsigned)):(g-=32,F=32-g,c(this.low<<F|this.high>>>g,this.high<<F|this.low>>>g,this.unsigned))},Q.rotr=Q.rotateRight,Q.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},Q.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},Q.toBytes=function(g){return g?this.toBytesLE():this.toBytesBE()},Q.toBytesLE=function(){var g=this.high,F=this.low;return[F&255,F>>>8&255,F>>>16&255,F>>>24,g&255,g>>>8&255,g>>>16&255,g>>>24]},Q.toBytesBE=function(){var g=this.high,F=this.low;return[g>>>24,g>>>16&255,g>>>8&255,g&255,F>>>24,F>>>16&255,F>>>8&255,F&255]},n.fromBytes=function(g,F,J){return J?n.fromBytesLE(g,F):n.fromBytesBE(g,F)},n.fromBytesLE=function(g,F){return new n(g[0]|g[1]<<8|g[2]<<16|g[3]<<24,g[4]|g[5]<<8|g[6]<<16|g[7]<<24,F)},n.fromBytesBE=function(g,F){return new n(g[4]<<24|g[5]<<16|g[6]<<8|g[7],g[0]<<24|g[1]<<16|g[2]<<8|g[3],F)};var ne=n;return t.default=ne,"default"in t?t.default:t}({});typeof define=="function"&&define.amd?define([],function(){return $V}):typeof Z_=="object"&&typeof XV=="object"&&(Z_.exports=$V)});var rS=m(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.loadFileDescriptorSetFromObject=cn.loadFileDescriptorSetFromBuffer=cn.fromJSON=cn.loadSync=cn.load=cn.isAnyExtension=cn.Long=void 0;var Wae=PP(),Pi=PE(),tS=GV(),nS=KV(),Jae=ZV();cn.Long=Jae;function zae(t){return"@type"in t&&typeof t["@type"]=="string"}cn.isAnyExtension=zae;var nq={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function jae(t,e){return t===""?e:t+"."+e}function Kae(t){return t instanceof Pi.Service||t instanceof Pi.Type||t instanceof Pi.Enum}function $ae(t){return t instanceof Pi.Namespace||t instanceof Pi.Root}function rq(t,e){let n=jae(e,t.name);return Kae(t)?[[n,t]]:$ae(t)&&typeof t.nested<"u"?Object.keys(t.nested).map(r=>rq(t.nested[r],n)).reduce((r,i)=>r.concat(i),[]):[]}function eq(t,e){return function(r){return t.toObject(t.decode(r),e)}}function tq(t){return function(n){if(Array.isArray(n))throw new Error(`Failed to serialize message: expected object with ${t.name} structure, got array instead`);let r=t.fromObject(n);return t.encode(r).finish()}}function Xae(t,e,n,r){let i=t.resolvedRequestType,s=t.resolvedResponseType;return{path:"/"+e+"/"+t.name,requestStream:!!t.requestStream,responseStream:!!t.responseStream,requestSerialize:tq(i),requestDeserialize:eq(i,n),responseSerialize:tq(s),responseDeserialize:eq(s,n),originalName:Wae(t.name),requestType:eS(i,r),responseType:eS(s,r)}}function Zae(t,e,n,r){let i={};for(let s of t.methodsArray)i[s.name]=Xae(s,e,n,r);return i}function eS(t,e){let n=t.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:n.$type.toObject(n,nq),fileDescriptorProtos:e}}function eAe(t,e){let n=t.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:n.$type.toObject(n,nq),fileDescriptorProtos:e}}function tAe(t,e,n,r){if(t instanceof Pi.Service)return Zae(t,e,n,r);if(t instanceof Pi.Type)return eS(t,r);if(t instanceof Pi.Enum)return eAe(t,r);throw new Error("Type mismatch in reflection object handling")}function GE(t,e){let n={};t.resolveAll();let i=t.toDescriptor("proto3").file.map(s=>Buffer.from(tS.FileDescriptorProto.encode(s).finish()));for(let[s,o]of rq(t,""))n[s]=tAe(o,s,e,i);return n}function iq(t,e){e=e||{};let n=Pi.Root.fromDescriptor(t);return n.resolveAll(),GE(n,e)}function nAe(t,e){return(0,nS.loadProtosWithOptions)(t,e).then(n=>GE(n,e))}cn.load=nAe;function rAe(t,e){let n=(0,nS.loadProtosWithOptionsSync)(t,e);return GE(n,e)}cn.loadSync=rAe;function iAe(t,e){e=e||{};let n=Pi.Root.fromJSON(t);return n.resolveAll(),GE(n,e)}cn.fromJSON=iAe;function sAe(t,e){let n=tS.FileDescriptorSet.decode(t);return iq(n,e)}cn.loadFileDescriptorSetFromBuffer=sAe;function oAe(t,e){let n=tS.FileDescriptorSet.fromObject(t);return iq(n,e)}cn.loadFileDescriptorSetFromObject=oAe;(0,nS.addCommonProtos)()});var _a=m(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.setup=ot.getChannelzServiceDefinition=ot.getChannelzHandlers=ot.unregisterChannelzRef=ot.registerChannelzSocket=ot.registerChannelzServer=ot.registerChannelzSubchannel=ot.registerChannelzChannel=ot.ChannelzCallTracker=ot.ChannelzChildrenTracker=ot.ChannelzTrace=void 0;var sq=B("net"),Uh=yr(),Vh=Re(),aAe=Ti(),AAe=lE(),cAe=e_();function iS(t){return{channel_id:t.id,name:t.name}}function AS(t){return{subchannel_id:t.id,name:t.name}}function lAe(t){return{server_id:t.id}}function YE(t){return{socket_id:t.id,name:t.name}}var oq=32,sS=class{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(e,n,r){let i=new Date;this.events.push({description:n,severity:e,timestamp:i,childChannel:r?.kind==="channel"?r:void 0,childSubchannel:r?.kind==="subchannel"?r:void 0}),this.events.length>=oq*2&&(this.events=this.events.slice(oq)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:Is(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(e=>({description:e.description,severity:e.severity,timestamp:Is(e.timestamp),channel_ref:e.childChannel?iS(e.childChannel):null,subchannel_ref:e.childSubchannel?AS(e.childSubchannel):null}))}}};ot.ChannelzTrace=sS;var oS=class{constructor(){this.channelChildren=new Map,this.subchannelChildren=new Map,this.socketChildren=new Map}refChild(e){var n,r,i;switch(e.kind){case"channel":{let s=(n=this.channelChildren.get(e.id))!==null&&n!==void 0?n:{ref:e,count:0};s.count+=1,this.channelChildren.set(e.id,s);break}case"subchannel":{let s=(r=this.subchannelChildren.get(e.id))!==null&&r!==void 0?r:{ref:e,count:0};s.count+=1,this.subchannelChildren.set(e.id,s);break}case"socket":{let s=(i=this.socketChildren.get(e.id))!==null&&i!==void 0?i:{ref:e,count:0};s.count+=1,this.socketChildren.set(e.id,s);break}}}unrefChild(e){switch(e.kind){case"channel":{let n=this.channelChildren.get(e.id);n!==void 0&&(n.count-=1,n.count===0?this.channelChildren.delete(e.id):this.channelChildren.set(e.id,n));break}case"subchannel":{let n=this.subchannelChildren.get(e.id);n!==void 0&&(n.count-=1,n.count===0?this.subchannelChildren.delete(e.id):this.subchannelChildren.set(e.id,n));break}case"socket":{let n=this.socketChildren.get(e.id);n!==void 0&&(n.count-=1,n.count===0?this.socketChildren.delete(e.id):this.socketChildren.set(e.id,n));break}}}getChildLists(){let e=[];for(let{ref:i}of this.channelChildren.values())e.push(i);let n=[];for(let{ref:i}of this.subchannelChildren.values())n.push(i);let r=[];for(let{ref:i}of this.socketChildren.values())r.push(i);return{channels:e,subchannels:n,sockets:r}}};ot.ChannelzChildrenTracker=oS;var aS=class{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}};ot.ChannelzCallTracker=aS;var uAe=1;function WE(){return uAe++}var Ph=[],cS=[],go=[],lS=[];function hAe(t,e,n){let r=WE(),i={id:r,name:t,kind:"channel"};return n&&(Ph[r]={ref:i,getInfo:e}),i}ot.registerChannelzChannel=hAe;function dAe(t,e,n){let r=WE(),i={id:r,name:t,kind:"subchannel"};return n&&(cS[r]={ref:i,getInfo:e}),i}ot.registerChannelzSubchannel=dAe;function fAe(t,e){let n=WE(),r={id:n,kind:"server"};return e&&(go[n]={ref:r,getInfo:t}),r}ot.registerChannelzServer=fAe;function gAe(t,e,n){let r=WE(),i={id:r,name:t,kind:"socket"};return n&&(lS[r]={ref:i,getInfo:e}),i}ot.registerChannelzSocket=gAe;function pAe(t){switch(t.kind){case"channel":delete Ph[t.id];return;case"subchannel":delete cS[t.id];return;case"server":delete go[t.id];return;case"socket":delete lS[t.id];return}}ot.unregisterChannelzRef=pAe;function EAe(t){let e=Number.parseInt(t,16);return[e/256|0,e%256]}function aq(t){if(t==="")return[];let e=t.split(":").map(r=>EAe(r));return[].concat(...e)}function mAe(t){if((0,sq.isIPv4)(t))return Buffer.from(Uint8Array.from(t.split(".").map(e=>Number.parseInt(e))));if((0,sq.isIPv6)(t)){let e,n,r=t.indexOf("::");r===-1?(e=t,n=""):(e=t.substring(0,r),n=t.substring(r+2));let i=Buffer.from(aq(e)),s=Buffer.from(aq(n)),o=Buffer.alloc(16-i.length-s.length,0);return Buffer.concat([i,o,s])}else return null}function cq(t){switch(t){case Uh.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case Uh.ConnectivityState.IDLE:return{state:"IDLE"};case Uh.ConnectivityState.READY:return{state:"READY"};case Uh.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case Uh.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function Is(t){if(!t)return null;let e=t.getTime();return{seconds:e/1e3|0,nanos:e%1e3*1e6}}function lq(t){let e=t.getInfo();return{ref:iS(t.ref),data:{target:e.target,state:cq(e.state),calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:Is(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},channel_ref:e.children.channels.map(n=>iS(n)),subchannel_ref:e.children.subchannels.map(n=>AS(n))}}function CAe(t,e){let n=Number.parseInt(t.request.channel_id),r=Ph[n];if(r===void 0){e({code:Vh.Status.NOT_FOUND,details:"No channel data found for id "+n});return}e(null,{channel:lq(r)})}function IAe(t,e){let n=Number.parseInt(t.request.max_results),r=[],i=Number.parseInt(t.request.start_channel_id);for(;i<Ph.length;i++){let s=Ph[i];if(s!==void 0&&(r.push(lq(s)),r.length>=n))break}e(null,{channel:r,end:i>=go.length})}function uq(t){let e=t.getInfo();return{ref:lAe(t.ref),data:{calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:Is(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},listen_socket:e.listenerChildren.sockets.map(n=>YE(n))}}function yAe(t,e){let n=Number.parseInt(t.request.server_id),r=go[n];if(r===void 0){e({code:Vh.Status.NOT_FOUND,details:"No server data found for id "+n});return}e(null,{server:uq(r)})}function BAe(t,e){let n=Number.parseInt(t.request.max_results),r=[],i=Number.parseInt(t.request.start_server_id);for(;i<go.length;i++){let s=go[i];if(s!==void 0&&(r.push(uq(s)),r.length>=n))break}e(null,{server:r,end:i>=go.length})}function QAe(t,e){let n=Number.parseInt(t.request.subchannel_id),r=cS[n];if(r===void 0){e({code:Vh.Status.NOT_FOUND,details:"No subchannel data found for id "+n});return}let i=r.getInfo(),s={ref:AS(r.ref),data:{target:i.target,state:cq(i.state),calls_started:i.callTracker.callsStarted,calls_succeeded:i.callTracker.callsSucceeded,calls_failed:i.callTracker.callsFailed,last_call_started_timestamp:Is(i.callTracker.lastCallStartedTimestamp),trace:i.trace.getTraceMessage()},socket_ref:i.children.sockets.map(o=>YE(o))};e(null,{subchannel:s})}function Aq(t){var e;return(0,aAe.isTcpSubchannelAddress)(t)?{address:"tcpip_address",tcpip_address:{ip_address:(e=mAe(t.host))!==null&&e!==void 0?e:void 0,port:t.port}}:{address:"uds_address",uds_address:{filename:t.path}}}function wAe(t,e){var n,r,i,s,o;let a=Number.parseInt(t.request.socket_id),A=lS[a];if(A===void 0){e({code:Vh.Status.NOT_FOUND,details:"No socket data found for id "+a});return}let c=A.getInfo(),l=c.security?{model:"tls",tls:{cipher_suite:c.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:(n=c.security.cipherSuiteStandardName)!==null&&n!==void 0?n:void 0,other_name:(r=c.security.cipherSuiteOtherName)!==null&&r!==void 0?r:void 0,local_certificate:(i=c.security.localCertificate)!==null&&i!==void 0?i:void 0,remote_certificate:(s=c.security.remoteCertificate)!==null&&s!==void 0?s:void 0}}:null,u={ref:YE(A.ref),local:c.localAddress?Aq(c.localAddress):null,remote:c.remoteAddress?Aq(c.remoteAddress):null,remote_name:(o=c.remoteName)!==null&&o!==void 0?o:void 0,security:l,data:{keep_alives_sent:c.keepAlivesSent,streams_started:c.streamsStarted,streams_succeeded:c.streamsSucceeded,streams_failed:c.streamsFailed,last_local_stream_created_timestamp:Is(c.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:Is(c.lastRemoteStreamCreatedTimestamp),messages_received:c.messagesReceived,messages_sent:c.messagesSent,last_message_received_timestamp:Is(c.lastMessageReceivedTimestamp),last_message_sent_timestamp:Is(c.lastMessageSentTimestamp),local_flow_control_window:c.localFlowControlWindow?{value:c.localFlowControlWindow}:null,remote_flow_control_window:c.remoteFlowControlWindow?{value:c.remoteFlowControlWindow}:null}};e(null,{socket:u})}function vAe(t,e){let n=Number.parseInt(t.request.server_id),r=go[n];if(r===void 0){e({code:Vh.Status.NOT_FOUND,details:"No server data found for id "+n});return}let i=Number.parseInt(t.request.start_socket_id),s=Number.parseInt(t.request.max_results),a=r.getInfo().sessionChildren.sockets.sort((l,u)=>l.id-u.id),A=[],c=0;for(;c<a.length&&!(a[c].id>=i&&(A.push(YE(a[c])),A.length>=s));c++);e(null,{socket_ref:A,end:c>=a.length})}function hq(){return{GetChannel:CAe,GetTopChannels:IAe,GetServer:yAe,GetServers:BAe,GetSubchannel:QAe,GetSocket:wAe,GetServerSockets:vAe}}ot.getChannelzHandlers=hq;var HE=null;function dq(){if(HE)return HE;let t=rS().loadSync,e=t("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto`]});return HE=(0,cAe.loadPackageDefinition)(e).grpc.channelz.v1.Channelz.service,HE}ot.getChannelzServiceDefinition=dq;function _Ae(){(0,AAe.registerAdminService)(dq,hq)}ot.setup=_Ae});var fq=m(zE=>{"use strict";Object.defineProperty(zE,"__esModule",{value:!0});zE.Subchannel=void 0;var $e=yr(),SAe=Ih(),uS=pt(),JE=Re(),bAe=ir(),DAe=Ti(),Lc=_a(),RAe="subchannel",TAe=~(1<<31),hS=class{constructor(e,n,r,i,s){var o;this.channelTarget=e,this.subchannelAddress=n,this.options=r,this.credentials=i,this.connector=s,this.connectivityState=$e.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0,this.callTracker=new Lc.ChannelzCallTracker,this.childrenTracker=new Lc.ChannelzChildrenTracker,this.streamTracker=new Lc.ChannelzCallTracker;let a={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new SAe.BackoffTimeout(()=>{this.handleBackoffTimer()},a),this.backoffTimeout.unref(),this.subchannelAddressString=(0,DAe.subchannelAddressToString)(n),this.keepaliveTime=(o=r["grpc.keepalive_time_ms"])!==null&&o!==void 0?o:-1,r["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzTrace=new Lc.ChannelzTrace,this.channelzRef=(0,Lc.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(r,void 0,2))}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(e){uS.trace(JE.LogVerbosity.DEBUG,RAe,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}refTrace(e){uS.trace(JE.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([$e.ConnectivityState.TRANSIENT_FAILURE],$e.ConnectivityState.CONNECTING):this.transitionToState([$e.ConnectivityState.TRANSIENT_FAILURE],$e.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let e=this.options;if(e["grpc.keepalive_time_ms"]){let n=Math.min(this.keepaliveTime,TAe);e=Object.assign(Object.assign({},e),{"grpc.keepalive_time_ms":n})}this.connector.connect(this.subchannelAddress,this.credentials,e).then(n=>{this.transitionToState([$e.ConnectivityState.CONNECTING],$e.ConnectivityState.READY)?(this.transport=n,this.channelzEnabled&&this.childrenTracker.refChild(n.getChannelzRef()),n.addDisconnectListener(r=>{this.transitionToState([$e.ConnectivityState.READY],$e.ConnectivityState.IDLE),r&&this.keepaliveTime>0&&(this.keepaliveTime*=2,uS.log(JE.LogVerbosity.ERROR,`Connection to ${(0,bAe.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))})):n.shutdown()},n=>{this.transitionToState([$e.ConnectivityState.CONNECTING],$e.ConnectivityState.TRANSIENT_FAILURE,`${n}`)})}transitionToState(e,n,r){var i,s;if(e.indexOf(this.connectivityState)===-1)return!1;this.trace($e.ConnectivityState[this.connectivityState]+" -> "+$e.ConnectivityState[n]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+$e.ConnectivityState[n]);let o=this.connectivityState;switch(this.connectivityState=n,n){case $e.ConnectivityState.READY:this.stopBackoff();break;case $e.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case $e.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(i=this.transport)===null||i===void 0||i.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case $e.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(s=this.transport)===null||s===void 0||s.shutdown(),this.transport=null;break;default:throw new Error(`Invalid state: unknown ConnectivityState ${n}`)}for(let a of this.stateListeners)a(this,o,n,this.keepaliveTime,r);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,this.refcount===0&&(this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Shutting down"),this.channelzEnabled&&(0,Lc.unregisterChannelzRef)(this.channelzRef),process.nextTick(()=>{this.transitionToState([$e.ConnectivityState.CONNECTING,$e.ConnectivityState.READY],$e.ConnectivityState.IDLE)}))}unrefIfOneRef(){return this.refcount===1?(this.unref(),!0):!1}createCall(e,n,r,i){if(!this.transport)throw new Error("Cannot create call, subchannel not READY");let s;return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),s={onCallEnd:o=>{o.code===JE.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):s={},this.transport.createCall(e,n,r,i,s)}startConnecting(){process.nextTick(()=>{this.transitionToState([$e.ConnectivityState.IDLE],$e.ConnectivityState.CONNECTING)||this.connectivityState===$e.ConnectivityState.TRANSIENT_FAILURE&&(this.continueConnecting=!0)})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(e){this.stateListeners.add(e)}removeConnectivityStateListener(e){this.stateListeners.delete(e)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([$e.ConnectivityState.TRANSIENT_FAILURE],$e.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}getRealSubchannel(){return this}realSubchannelEquals(e){return e.getRealSubchannel()===this}throttleKeepalive(e){e>this.keepaliveTime&&(this.keepaliveTime=e)}};zE.Subchannel=hS});var pS=m(mo=>{"use strict";Object.defineProperty(mo,"__esModule",{value:!0});mo.setup=mo.DEFAULT_PORT=void 0;var gq=Di(),Eq=B("dns"),mq=B("util"),NAe=Sv(),dS=Re(),fS=vn(),kAe=pt(),FAe=Re(),po=ir(),pq=B("net"),MAe=Ih(),xAe="dns_resolver";function Eo(t){kAe.trace(FAe.LogVerbosity.DEBUG,xAe,t)}mo.DEFAULT_PORT=443;var LAe=3e4,OAe=mq.promisify(Eq.resolveTxt),UAe=mq.promisify(Eq.lookup);function PAe(...t){let e=[];for(let n=0;n<Math.max.apply(null,t.map(r=>r.length));n++)for(let r of t)n<r.length&&e.push(r[n]);return e}var gS=class{constructor(e,n,r){var i,s,o;this.target=e,this.listener=n,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,this.returnedIpResult=!1,Eo("Resolver constructed for target "+(0,po.uriToString)(e));let a=(0,po.splitHostPort)(e.path);a===null?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,pq.isIPv4)(a.host)||(0,pq.isIPv6)(a.host)?(this.ipResult=[{host:a.host,port:(i=a.port)!==null&&i!==void 0?i:mo.DEFAULT_PORT}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=a.host,this.port=(s=a.port)!==null&&s!==void 0?s:mo.DEFAULT_PORT),this.percentage=Math.random()*100,r["grpc.service_config_disable_resolution"]===1&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:dS.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,po.uriToString)(this.target)}`,metadata:new fS.Metadata};let A={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoff=new MAe.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff()},A),this.backoff.unref(),this.minTimeBetweenResolutionsMs=(o=r["grpc.dns_min_time_between_resolutions_ms"])!==null&&o!==void 0?o:LAe,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(this.ipResult!==null){this.returnedIpResult||(Eo("Returning IP address for target "+(0,po.uriToString)(this.target)),setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})}),this.returnedIpResult=!0),this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(this.dnsHostname===null)Eo("Failed to parse DNS address "+(0,po.uriToString)(this.target)),setImmediate(()=>{this.listener.onError({code:dS.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,po.uriToString)(this.target)}`,metadata:new fS.Metadata})}),this.stopNextResolutionTimer();else{if(this.pendingLookupPromise!==null)return;Eo("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;let e=this.dnsHostname;this.pendingLookupPromise=UAe(e,{all:!0}),this.pendingLookupPromise.then(n=>{if(this.pendingLookupPromise===null)return;this.pendingLookupPromise=null,this.backoff.reset(),this.backoff.stop();let r=n.filter(o=>o.family===4),i=n.filter(o=>o.family===6);this.latestLookupResult=PAe(i,r).map(o=>({host:o.address,port:+this.port}));let s="["+this.latestLookupResult.map(o=>o.host+":"+o.port).join(",")+"]";if(Eo("Resolved addresses for target "+(0,po.uriToString)(this.target)+": "+s),this.latestLookupResult.length===0){this.listener.onError(this.defaultResolutionError);return}this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},n=>{this.pendingLookupPromise!==null&&(Eo("Resolution error for target "+(0,po.uriToString)(this.target)+": "+n.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener.onError(this.defaultResolutionError))}),this.isServiceConfigEnabled&&this.pendingTxtPromise===null&&(this.pendingTxtPromise=OAe(e),this.pendingTxtPromise.then(n=>{if(this.pendingTxtPromise!==null){this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,NAe.extractAndSelectServiceConfig)(n,this.percentage)}catch(r){this.latestServiceConfigError={code:dS.Status.UNAVAILABLE,details:`Parsing service config failed with error ${r.message}`,metadata:new fS.Metadata}}this.latestLookupResult!==null&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}},n=>{}))}}startNextResolutionTimer(){var e,n;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=(n=(e=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs)).unref)===null||n===void 0?void 0:n.call(e),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){this.pendingLookupPromise===null&&(this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution())}updateResolution(){this.pendingLookupPromise===null&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?Eo('resolution update delayed by "min time between resolutions" rate limit'):Eo("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=!0):this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.returnedIpResult=!1}static getDefaultAuthority(e){return e.path}};function VAe(){(0,gq.registerResolver)("dns",gS),(0,gq.registerDefaultScheme)("dns")}mo.setup=VAe});var ES=m(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Pc.getProxiedConnection=Pc.mapProxyName=void 0;var qh=pt(),Oc=Re(),qAe=Di(),GAe=B("http"),HAe=B("tls"),YAe=pt(),Cq=Ti(),Uc=ir(),WAe=B("url"),JAe=pS(),zAe="proxy";function Co(t){YAe.trace(Oc.LogVerbosity.DEBUG,zAe,t)}function jAe(){let t="",e="";if(process.env.grpc_proxy)e="grpc_proxy",t=process.env.grpc_proxy;else if(process.env.https_proxy)e="https_proxy",t=process.env.https_proxy;else if(process.env.http_proxy)e="http_proxy",t=process.env.http_proxy;else return{};let n;try{n=new WAe.URL(t)}catch{return(0,qh.log)(Oc.LogVerbosity.ERROR,`cannot parse value of "${e}" env var`),{}}if(n.protocol!=="http:")return(0,qh.log)(Oc.LogVerbosity.ERROR,`"${n.protocol}" scheme not supported in proxy URI`),{};let r=null;n.username&&(n.password?((0,qh.log)(Oc.LogVerbosity.INFO,"userinfo found in proxy URI"),r=`${n.username}:${n.password}`):r=n.username);let i=n.hostname,s=n.port;s===""&&(s="80");let o={address:`${i}:${s}`};return r&&(o.creds=r),Co("Proxy server "+o.address+" set by environment variable "+e),o}function KAe(){let t=process.env.no_grpc_proxy,e="no_grpc_proxy";return t||(t=process.env.no_proxy,e="no_proxy"),t?(Co("No proxy server list set by environment variable "+e),t.split(",")):[]}function $Ae(t,e){var n;let r={target:t,extraOptions:{}};if(((n=e["grpc.enable_http_proxy"])!==null&&n!==void 0?n:1)===0||t.scheme==="unix")return r;let i=jAe();if(!i.address)return r;let s=(0,Uc.splitHostPort)(t.path);if(!s)return r;let o=s.host;for(let A of KAe())if(A===o)return Co("Not using proxy for target in no_proxy list: "+(0,Uc.uriToString)(t)),r;let a={"grpc.http_connect_target":(0,Uc.uriToString)(t)};return i.creds&&(a["grpc.http_connect_creds"]=i.creds),{target:{scheme:"dns",path:i.address},extraOptions:a}}Pc.mapProxyName=$Ae;function XAe(t,e,n){var r;if(!("grpc.http_connect_target"in e))return Promise.resolve({});let i=e["grpc.http_connect_target"],s=(0,Uc.parseUri)(i);if(s===null)return Promise.resolve({});let o=(0,Uc.splitHostPort)(s.path);if(o===null)return Promise.resolve({});let a=`${o.host}:${(r=o.port)!==null&&r!==void 0?r:JAe.DEFAULT_PORT}`,A={method:"CONNECT",path:a},c={Host:a};(0,Cq.isTcpSubchannelAddress)(t)?(A.host=t.host,A.port=t.port):A.socketPath=t.path,"grpc.http_connect_creds"in e&&(c["Proxy-Authorization"]="Basic "+Buffer.from(e["grpc.http_connect_creds"]).toString("base64")),A.headers=c;let l=(0,Cq.subchannelAddressToString)(t);return Co("Using proxy "+l+" to connect to "+A.path),new Promise((u,h)=>{let d=GAe.request(A);d.once("connect",(f,E,C)=>{var y;if(d.removeAllListeners(),E.removeAllListeners(),f.statusCode===200)if(Co("Successfully connected to "+A.path+" through proxy "+l),"secureContext"in n){let I=(0,qAe.getDefaultAuthority)(s),S=(0,Uc.splitHostPort)(I),v=(y=S?.host)!==null&&y!==void 0?y:I,_=HAe.connect(Object.assign({host:v,servername:v,socket:E},n),()=>{Co("Successfully established a TLS connection to "+A.path+" through proxy "+l),u({socket:_,realTarget:s})});_.on("error",D=>{Co("Failed to establish a TLS connection to "+A.path+" through proxy "+l+" with error "+D.message),h()})}else Co("Successfully established a plaintext connection to "+A.path+" through proxy "+l),u({socket:E,realTarget:s});else(0,qh.log)(Oc.LogVerbosity.ERROR,"Failed to connect to "+A.path+" through proxy "+l+" with status "+f.statusCode),h()}),d.once("error",f=>{d.removeAllListeners(),(0,qh.log)(Oc.LogVerbosity.ERROR,"Failed to connect to proxy "+l+" with error "+f.message),h()}),d.end()})}Pc.getProxiedConnection=XAe});var CS=m(jE=>{"use strict";Object.defineProperty(jE,"__esModule",{value:!0});jE.StreamDecoder=void 0;var ys=function(t){return t[t.NO_DATA=0]="NO_DATA",t[t.READING_SIZE=1]="READING_SIZE",t[t.READING_MESSAGE=2]="READING_MESSAGE",t}(ys||{}),mS=class{constructor(){this.readState=ys.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(e){let n=0,r,i=[];for(;n<e.length;)switch(this.readState){case ys.NO_DATA:this.readCompressFlag=e.slice(n,n+1),n+=1,this.readState=ys.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case ys.READING_SIZE:if(r=Math.min(e.length-n,this.readSizeRemaining),e.copy(this.readPartialSize,4-this.readSizeRemaining,n,n+r),this.readSizeRemaining-=r,n+=r,this.readSizeRemaining===0)if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=ys.READING_MESSAGE;else{let s=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=ys.NO_DATA,i.push(s)}break;case ys.READING_MESSAGE:if(r=Math.min(e.length-n,this.readMessageRemaining),this.readPartialMessage.push(e.slice(n,n+r)),this.readMessageRemaining-=r,n+=r,this.readMessageRemaining===0){let s=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),o=Buffer.concat(s,this.readMessageSize+5);this.readState=ys.NO_DATA,i.push(o)}break;default:throw new Error("Unexpected read state")}return i}};jE.StreamDecoder=mS});var Iq=m(KE=>{"use strict";Object.defineProperty(KE,"__esModule",{value:!0});KE.Http2SubchannelCall=void 0;var Bs=B("http2"),ZAe=B("os"),We=Re(),Io=vn(),ece=CS(),tce=pt(),nce=Re(),rce="subchannel_call";function ice(t){for(let[e,n]of Object.entries(ZAe.constants.errno))if(n===t)return e;return"Unknown system error "+t}var IS=class{constructor(e,n,r,i,s){this.http2Stream=e,this.callEventTracker=n,this.listener=r,this.transport=i,this.callId=s,this.decoder=new ece.StreamDecoder,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.mappedStatusCode=We.Status.UNKNOWN,this.finalStatus=null,this.internalError=null,e.on("response",(o,a)=>{let A="";for(let c of Object.keys(o))A+="		"+c+": "+o[c]+`
`;switch(this.trace(`Received server headers:
`+A),o[":status"]){case 400:this.mappedStatusCode=We.Status.INTERNAL;break;case 401:this.mappedStatusCode=We.Status.UNAUTHENTICATED;break;case 403:this.mappedStatusCode=We.Status.PERMISSION_DENIED;break;case 404:this.mappedStatusCode=We.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:this.mappedStatusCode=We.Status.UNAVAILABLE;break;default:this.mappedStatusCode=We.Status.UNKNOWN}if(a&Bs.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(o);else{let c;try{c=Io.Metadata.fromHttp2Headers(o)}catch(l){this.endCall({code:We.Status.UNKNOWN,details:l.message,metadata:new Io.Metadata});return}this.listener.onReceiveMetadata(c)}}),e.on("trailers",o=>{this.handleTrailers(o)}),e.on("data",o=>{if(this.statusOutput)return;this.trace("receive HTTP/2 data frame of length "+o.length);let a=this.decoder.write(o);for(let A of a)this.trace("parsed message of length "+A.length),this.callEventTracker.addMessageReceived(),this.tryPush(A)}),e.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),e.on("close",()=>{process.nextTick(()=>{var o;if(this.trace("HTTP/2 stream closed with code "+e.rstCode),((o=this.finalStatus)===null||o===void 0?void 0:o.code)===We.Status.OK)return;let a,A="";switch(e.rstCode){case Bs.constants.NGHTTP2_NO_ERROR:if(this.finalStatus!==null)return;a=We.Status.INTERNAL,A=`Received RST_STREAM with code ${e.rstCode}`;break;case Bs.constants.NGHTTP2_REFUSED_STREAM:a=We.Status.UNAVAILABLE,A="Stream refused by server";break;case Bs.constants.NGHTTP2_CANCEL:a=We.Status.CANCELLED,A="Call cancelled";break;case Bs.constants.NGHTTP2_ENHANCE_YOUR_CALM:a=We.Status.RESOURCE_EXHAUSTED,A="Bandwidth exhausted or memory limit exceeded";break;case Bs.constants.NGHTTP2_INADEQUATE_SECURITY:a=We.Status.PERMISSION_DENIED,A="Protocol not secure enough";break;case Bs.constants.NGHTTP2_INTERNAL_ERROR:a=We.Status.INTERNAL,this.internalError===null?A=`Received RST_STREAM with code ${e.rstCode} (Internal server error)`:this.internalError.code==="ECONNRESET"||this.internalError.code==="ETIMEDOUT"?(a=We.Status.UNAVAILABLE,A=this.internalError.message):A=`Received RST_STREAM with code ${e.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:a=We.Status.INTERNAL,A=`Received RST_STREAM with code ${e.rstCode}`}this.endCall({code:a,details:A,metadata:new Io.Metadata,rstCode:e.rstCode})})}),e.on("error",o=>{o.code!=="ERR_HTTP2_STREAM_ERROR"&&(this.trace("Node error event: message="+o.message+" code="+o.code+" errno="+ice(o.errno)+" syscall="+o.syscall),this.internalError=o),this.callEventTracker.onStreamEnd(!1)})}onDisconnect(){this.endCall({code:We.Status.UNAVAILABLE,details:"Connection dropped",metadata:new Io.Metadata})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume())}trace(e){tce.trace(nce.LogVerbosity.DEBUG,rce,"["+this.callId+"] "+e)}endCall(e){(this.finalStatus===null||this.finalStatus.code===We.Status.OK)&&(this.finalStatus=e,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){this.finalStatus!==null&&(this.finalStatus.code!==We.Status.OK||this.readsClosed&&this.unpushedReadMessages.length===0&&!this.isReadFilterPending&&!this.isPushPending)&&this.outputStatus()}push(e){this.trace("pushing to reader message of length "+(e instanceof Buffer?e.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{this.isPushPending=!1,!this.statusOutput&&(this.listener.onReceiveMessage(e),this.maybeOutputStatus())})}tryPush(e){this.canPush?(this.http2Stream.pause(),this.push(e)):(this.trace("unpushedReadMessages.push message of length "+e.length),this.unpushedReadMessages.push(e))}handleTrailers(e){this.callEventTracker.onStreamEnd(!0);let n="";for(let A of Object.keys(e))n+="		"+A+": "+e[A]+`
`;this.trace(`Received server trailers:
`+n);let r;try{r=Io.Metadata.fromHttp2Headers(e)}catch{r=new Io.Metadata}let i=r.getMap(),s=this.mappedStatusCode;if(s===We.Status.UNKNOWN&&typeof i["grpc-status"]=="string"){let A=Number(i["grpc-status"]);A in We.Status&&(s=A,this.trace("received status code "+A+" from server")),r.remove("grpc-status")}let o="";if(typeof i["grpc-message"]=="string"){try{o=decodeURI(i["grpc-message"])}catch{o=i["grpc-message"]}r.remove("grpc-message"),this.trace('received status details string "'+o+'" from server')}let a={code:s,details:o,metadata:r};this.endCall(a)}destroyHttp2Stream(){var e;if(!this.http2Stream.destroyed){let n;((e=this.finalStatus)===null||e===void 0?void 0:e.code)===We.Status.OK?n=Bs.constants.NGHTTP2_NO_ERROR:n=Bs.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+n),this.http2Stream.close(n)}}cancelWithStatus(e,n){this.trace("cancelWithStatus code: "+e+' details: "'+n+'"'),this.endCall({code:e,details:n,metadata:new Io.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(this.finalStatus!==null&&this.finalStatus.code!==We.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){let e=this.unpushedReadMessages.shift();this.push(e);return}this.http2Stream.resume()}sendMessageWithContext(e,n){this.trace("write() called with message of length "+n.length);let r=i=>{process.nextTick(()=>{var s;let o=We.Status.UNAVAILABLE;i?.code==="ERR_STREAM_WRITE_AFTER_END"&&(o=We.Status.INTERNAL),i&&this.cancelWithStatus(o,`Write error: ${i.message}`),(s=e.callback)===null||s===void 0||s.call(e)})};this.trace("sending data chunk of length "+n.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(n,r)}catch(i){this.endCall({code:We.Status.UNAVAILABLE,details:`Write failed with error ${i.message}`,metadata:new Io.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}};KE.Http2SubchannelCall=IS});var yS=m($E=>{"use strict";Object.defineProperty($E,"__esModule",{value:!0});$E.getNextCallNumber=void 0;var sce=0;function oce(){return sce++}$E.getNextCallNumber=oce});var Qq=m(ZE=>{"use strict";Object.defineProperty(ZE,"__esModule",{value:!0});ZE.Http2SubchannelConnector=void 0;var _S=B("http2"),yq=B("tls"),BS=_a(),Gh=Re(),ace=ES(),qc=pt(),Bq=Di(),XE=Ti(),Vc=ir(),Ace=B("net"),cce=Iq(),lce=yS(),QS="transport",uce="transport_flowctrl",hce=cv().version,{HTTP2_HEADER_AUTHORITY:dce,HTTP2_HEADER_CONTENT_TYPE:fce,HTTP2_HEADER_METHOD:gce,HTTP2_HEADER_PATH:pce,HTTP2_HEADER_TE:Ece,HTTP2_HEADER_USER_AGENT:mce}=_S.constants,Cce=2e4,Ice=Buffer.from("too_many_pings","ascii"),wS=class{constructor(e,n,r,i){this.session=e,this.remoteName=i,this.keepaliveTimeMs=-1,this.keepaliveTimeoutMs=Cce,this.keepaliveTimerId=null,this.pendingSendKeepalivePing=!1,this.keepaliveTimeoutId=null,this.keepaliveWithoutCalls=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.streamTracker=new BS.ChannelzCallTracker,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,XE.subchannelAddressToString)(n),r["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzRef=(0,BS.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[r["grpc.primary_user_agent"],`grpc-node-js/${hce}`,r["grpc.secondary_user_agent"]].filter(s=>s).join(" "),"grpc.keepalive_time_ms"in r&&(this.keepaliveTimeMs=r["grpc.keepalive_time_ms"]),"grpc.keepalive_timeout_ms"in r&&(this.keepaliveTimeoutMs=r["grpc.keepalive_timeout_ms"]),"grpc.keepalive_permit_without_calls"in r?this.keepaliveWithoutCalls=r["grpc.keepalive_permit_without_calls"]===1:this.keepaliveWithoutCalls=!1,e.once("close",()=>{this.trace("session closed"),this.stopKeepalivePings(),this.handleDisconnect()}),e.once("goaway",(s,o,a)=>{let A=!1;s===_S.constants.NGHTTP2_ENHANCE_YOUR_CALM&&a&&a.equals(Ice)&&(A=!0),this.trace("connection closed by GOAWAY with code "+s+" and data "+a?.toString()),this.reportDisconnectToOwner(A)}),e.once("error",s=>{this.trace("connection closed with error "+s.message)}),qc.isTracerEnabled(QS)&&(e.on("remoteSettings",s=>{this.trace("new settings received"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(s))}),e.on("localSettings",s=>{this.trace("local settings acknowledged by remote"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(s))})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer()}getChannelzInfo(){var e,n,r;let i=this.session.socket,s=i.remoteAddress?(0,XE.stringToSubchannelAddress)(i.remoteAddress,i.remotePort):null,o=i.localAddress?(0,XE.stringToSubchannelAddress)(i.localAddress,i.localPort):null,a;if(this.session.encrypted){let c=i,l=c.getCipher(),u=c.getCertificate(),h=c.getPeerCertificate();a={cipherSuiteStandardName:(e=l.standardName)!==null&&e!==void 0?e:null,cipherSuiteOtherName:l.standardName?null:l.name,localCertificate:u&&"raw"in u?u.raw:null,remoteCertificate:h&&"raw"in h?h.raw:null}}else a=null;return{remoteAddress:s,localAddress:o,security:a,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:(n=this.session.state.localWindowSize)!==null&&n!==void 0?n:null,remoteFlowControlWindow:(r=this.session.state.remoteWindowSize)!==null&&r!==void 0?r:null}}trace(e){qc.trace(Gh.LogVerbosity.DEBUG,QS,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}keepaliveTrace(e){qc.trace(Gh.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}flowControlTrace(e){qc.trace(Gh.LogVerbosity.DEBUG,uce,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}internalsTrace(e){qc.trace(Gh.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}reportDisconnectToOwner(e){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach(n=>n(e)))}handleDisconnect(){this.reportDisconnectToOwner(!1),setImmediate(()=>{for(let e of this.activeCalls)e.onDisconnect()})}addDisconnectListener(e){this.disconnectListeners.push(e)}clearKeepaliveTimer(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null)}clearKeepaliveTimeout(){this.keepaliveTimeoutId&&(clearTimeout(this.keepaliveTimeoutId),this.keepaliveTimeoutId=null)}canSendPing(){return this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var e,n;if(this.clearKeepaliveTimer(),!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimeoutId||(this.keepaliveTimeoutId=setTimeout(()=>{this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),(n=(e=this.keepaliveTimeoutId).unref)===null||n===void 0||n.call(e));try{this.session.ping((r,i,s)=>{r&&(this.keepaliveTrace("Ping failed with error "+r.message),this.handleDisconnect()),this.keepaliveTrace("Received ping response"),this.clearKeepaliveTimeout(),this.maybeStartKeepalivePingTimer()})}catch{this.handleDisconnect()}}maybeStartKeepalivePingTimer(){var e,n;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):!this.keepaliveTimerId&&!this.keepaliveTimeoutId&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimerId=(n=(e=setTimeout(()=>{this.maybeSendPing()},this.keepaliveTimeMs)).unref)===null||n===void 0?void 0:n.call(e)))}stopKeepalivePings(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null),this.clearKeepaliveTimeout()}removeActiveCall(e){this.activeCalls.delete(e),this.activeCalls.size===0&&this.session.unref()}addActiveCall(e){this.activeCalls.add(e),this.activeCalls.size===1&&(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(e,n,r,i,s){let o=e.toHttp2Headers();o[dce]=n,o[mce]=this.userAgent,o[fce]="application/grpc",o[gce]="POST",o[pce]=r,o[Ece]="trailers";let a;try{a=this.session.request(o)}catch(l){throw this.handleDisconnect(),l}this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed);let A,c;return this.channelzEnabled?(this.streamTracker.addCallStarted(),A={addMessageSent:()=>{var l;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,(l=s.addMessageSent)===null||l===void 0||l.call(s)},addMessageReceived:()=>{var l;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,(l=s.addMessageReceived)===null||l===void 0||l.call(s)},onCallEnd:l=>{var u;(u=s.onCallEnd)===null||u===void 0||u.call(s,l),this.removeActiveCall(c)},onStreamEnd:l=>{var u;l?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),(u=s.onStreamEnd)===null||u===void 0||u.call(s,l)}}):A={addMessageSent:()=>{var l;(l=s.addMessageSent)===null||l===void 0||l.call(s)},addMessageReceived:()=>{var l;(l=s.addMessageReceived)===null||l===void 0||l.call(s)},onCallEnd:l=>{var u;(u=s.onCallEnd)===null||u===void 0||u.call(s,l),this.removeActiveCall(c)},onStreamEnd:l=>{var u;(u=s.onStreamEnd)===null||u===void 0||u.call(s,l)}},c=new cce.Http2SubchannelCall(a,A,i,this,(0,lce.getNextCallNumber)()),this.addActiveCall(c),c}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}shutdown(){this.session.close(),(0,BS.unregisterChannelzRef)(this.channelzRef)}},vS=class{constructor(e){this.channelTarget=e,this.session=null,this.isShutdown=!1}trace(e){qc.trace(Gh.LogVerbosity.DEBUG,QS,(0,Vc.uriToString)(this.channelTarget)+" "+e)}createSession(e,n,r,i){return this.isShutdown?Promise.reject():new Promise((s,o)=>{var a,A,c;let l;i.realTarget?(l=(0,Vc.uriToString)(i.realTarget),this.trace("creating HTTP/2 session through proxy to "+(0,Vc.uriToString)(i.realTarget))):(l=null,this.trace("creating HTTP/2 session to "+(0,XE.subchannelAddressToString)(e)));let u=(0,Bq.getDefaultAuthority)((a=i.realTarget)!==null&&a!==void 0?a:this.channelTarget),h=n._getConnectionOptions()||{};h.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER,"grpc-node.max_session_memory"in r?h.maxSessionMemory=r["grpc-node.max_session_memory"]:h.maxSessionMemory=Number.MAX_SAFE_INTEGER;let d="http://";if("secureContext"in h){if(d="https://",r["grpc.ssl_target_name_override"]){let C=r["grpc.ssl_target_name_override"];h.checkServerIdentity=(y,I)=>(0,yq.checkServerIdentity)(C,I),h.servername=C}else{let C=(c=(A=(0,Vc.splitHostPort)(u))===null||A===void 0?void 0:A.host)!==null&&c!==void 0?c:"localhost";h.servername=C}i.socket&&(h.createConnection=(C,y)=>i.socket)}else h.createConnection=(C,y)=>i.socket?i.socket:Ace.connect(e);h=Object.assign(Object.assign(Object.assign({},h),e),{enableTrace:r["grpc-node.tls_enable_trace"]===1});let f=_S.connect(d+u,h);this.session=f;let E="Failed to connect";f.unref(),f.once("connect",()=>{f.removeAllListeners(),s(new wS(f,e,r,l)),this.session=null}),f.once("close",()=>{this.session=null,setImmediate(()=>{o(`${E} (${new Date().toISOString()})`)})}),f.once("error",C=>{E=C.message,this.trace("connection failed with error "+E)})})}connect(e,n,r){var i,s;if(this.isShutdown)return Promise.reject();let o=n._getConnectionOptions()||{};if("secureContext"in o){if(o.ALPNProtocols=["h2"],r["grpc.ssl_target_name_override"]){let a=r["grpc.ssl_target_name_override"];o.checkServerIdentity=(A,c)=>(0,yq.checkServerIdentity)(a,c),o.servername=a}else if("grpc.http_connect_target"in r){let a=(0,Bq.getDefaultAuthority)((i=(0,Vc.parseUri)(r["grpc.http_connect_target"]))!==null&&i!==void 0?i:{path:"localhost"}),A=(0,Vc.splitHostPort)(a);o.servername=(s=A?.host)!==null&&s!==void 0?s:a}r["grpc-node.tls_enable_trace"]&&(o.enableTrace=!0)}return(0,ace.getProxiedConnection)(e,r,o).then(a=>this.createSession(e,n,r,a))}shutdown(){var e;this.isShutdown=!0,(e=this.session)===null||e===void 0||e.close(),this.session=null}};ZE.Http2SubchannelConnector=vS});var wq=m(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.getSubchannelPool=Gc.SubchannelPool=void 0;var yce=AP(),Bce=fq(),Qce=Ti(),wce=ir(),vce=Qq(),_ce=1e4,Hh=class{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let e=!0;for(let n in this.pool){let i=this.pool[n].filter(s=>!s.subchannel.unrefIfOneRef());i.length>0&&(e=!1),this.pool[n]=i}e&&this.cleanupTimer!==null&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var e,n;this.cleanupTimer===null&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},_ce),(n=(e=this.cleanupTimer).unref)===null||n===void 0||n.call(e))}getOrCreateSubchannel(e,n,r,i){this.ensureCleanupTask();let s=(0,wce.uriToString)(e);if(s in this.pool){let a=this.pool[s];for(let A of a)if((0,Qce.subchannelAddressEqual)(n,A.subchannelAddress)&&(0,yce.channelOptionsEqual)(r,A.channelArguments)&&i._equals(A.channelCredentials))return A.subchannel}let o=new Bce.Subchannel(e,n,r,i,new vce.Http2SubchannelConnector(e));return s in this.pool||(this.pool[s]=[]),this.pool[s].push({subchannelAddress:n,channelArguments:r,channelCredentials:i,subchannel:o}),o.ref(),o}};Gc.SubchannelPool=Hh;var Sce=new Hh;function bce(t){return t?Sce:new Hh}Gc.getSubchannelPool=bce});var bS=m(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});Hc.FilterStackFactory=Hc.FilterStack=void 0;var em=class{constructor(e){this.filters=e}sendMetadata(e){let n=e;for(let r=0;r<this.filters.length;r++)n=this.filters[r].sendMetadata(n);return n}receiveMetadata(e){let n=e;for(let r=this.filters.length-1;r>=0;r--)n=this.filters[r].receiveMetadata(n);return n}sendMessage(e){let n=e;for(let r=0;r<this.filters.length;r++)n=this.filters[r].sendMessage(n);return n}receiveMessage(e){let n=e;for(let r=this.filters.length-1;r>=0;r--)n=this.filters[r].receiveMessage(n);return n}receiveTrailers(e){let n=e;for(let r=this.filters.length-1;r>=0;r--)n=this.filters[r].receiveTrailers(n);return n}push(e){this.filters.unshift(...e)}getFilters(){return this.filters}};Hc.FilterStack=em;var SS=class t{constructor(e){this.factories=e}push(e){this.factories.unshift(...e)}clone(){return new t([...this.factories])}createFilter(){return new em(this.factories.map(e=>e.createFilter()))}};Hc.FilterStackFactory=SS});var DS=m(tm=>{"use strict";Object.defineProperty(tm,"__esModule",{value:!0});tm.CompressionAlgorithms=void 0;var vq=function(t){return t[t.identity=0]="identity",t[t.deflate=1]="deflate",t[t.gzip=2]="gzip",t}(vq||(tm.CompressionAlgorithms=vq={}))});var rm=m(nm=>{"use strict";Object.defineProperty(nm,"__esModule",{value:!0});nm.BaseFilter=void 0;var RS=class{sendMetadata(e){return p(this,null,function*(){return e})}receiveMetadata(e){return e}sendMessage(e){return p(this,null,function*(){return e})}receiveMessage(e){return p(this,null,function*(){return e})}receiveTrailers(e){return e}};nm.BaseFilter=RS});var bq=m(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.CompressionFilterFactory=Wc.CompressionFilter=void 0;var im=B("zlib"),Sq=DS(),Dce=Re(),Rce=rm(),Tce=pt(),Nce=t=>typeof t=="number"&&typeof Sq.CompressionAlgorithms[t]=="string",Yc=class{writeMessage(e,n){return p(this,null,function*(){let r=e;n&&(r=yield this.compressMessage(r));let i=Buffer.allocUnsafe(r.length+5);return i.writeUInt8(n?1:0,0),i.writeUInt32BE(r.length,1),r.copy(i,5),i})}readMessage(e){return p(this,null,function*(){let n=e.readUInt8(0)===1,r=e.slice(5);return n&&(r=yield this.decompressMessage(r)),r})}},Sa=class extends Yc{compressMessage(e){return p(this,null,function*(){return e})}writeMessage(e,n){return p(this,null,function*(){let r=Buffer.allocUnsafe(e.length+5);return r.writeUInt8(0,0),r.writeUInt32BE(e.length,1),e.copy(r,5),r})}decompressMessage(e){return Promise.reject(new Error('Received compressed message but "grpc-encoding" header was identity'))}},TS=class extends Yc{compressMessage(e){return new Promise((n,r)=>{im.deflate(e,(i,s)=>{i?r(i):n(s)})})}decompressMessage(e){return new Promise((n,r)=>{im.inflate(e,(i,s)=>{i?r(i):n(s)})})}},NS=class extends Yc{compressMessage(e){return new Promise((n,r)=>{im.gzip(e,(i,s)=>{i?r(i):n(s)})})}decompressMessage(e){return new Promise((n,r)=>{im.unzip(e,(i,s)=>{i?r(i):n(s)})})}},kS=class extends Yc{constructor(e){super(),this.compressionName=e}compressMessage(e){return Promise.reject(new Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(e){return Promise.reject(new Error(`Compression method not supported: ${this.compressionName}`))}};function _q(t){switch(t){case"identity":return new Sa;case"deflate":return new TS;case"gzip":return new NS;default:return new kS(t)}}var sm=class extends Rce.BaseFilter{constructor(e,n){var r;super(),this.sharedFilterConfig=n,this.sendCompression=new Sa,this.receiveCompression=new Sa,this.currentCompressionAlgorithm="identity";let i=e["grpc.default_compression_algorithm"];if(i!==void 0)if(Nce(i)){let s=Sq.CompressionAlgorithms[i],o=(r=n.serverSupportedEncodingHeader)===null||r===void 0?void 0:r.split(",");(!o||o.includes(s))&&(this.currentCompressionAlgorithm=s,this.sendCompression=_q(this.currentCompressionAlgorithm))}else Tce.log(Dce.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${i}`)}sendMetadata(e){return p(this,null,function*(){let n=yield e;return n.set("grpc-accept-encoding","identity,deflate,gzip"),n.set("accept-encoding","identity"),this.currentCompressionAlgorithm==="identity"?n.remove("grpc-encoding"):n.set("grpc-encoding",this.currentCompressionAlgorithm),n})}receiveMetadata(e){let n=e.get("grpc-encoding");if(n.length>0){let i=n[0];typeof i=="string"&&(this.receiveCompression=_q(i))}e.remove("grpc-encoding");let r=e.get("grpc-accept-encoding")[0];return r&&(this.sharedFilterConfig.serverSupportedEncodingHeader=r,r.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new Sa,this.currentCompressionAlgorithm="identity")),e.remove("grpc-accept-encoding"),e}sendMessage(e){return p(this,null,function*(){var n;let r=yield e,i;return this.sendCompression instanceof Sa?i=!1:i=(((n=r.flags)!==null&&n!==void 0?n:0)&2)===0,{message:yield this.sendCompression.writeMessage(r.message,i),flags:r.flags}})}receiveMessage(e){return p(this,null,function*(){return this.receiveCompression.readMessage(yield e)})}};Wc.CompressionFilter=sm;var FS=class{constructor(e,n){this.options=n,this.sharedFilterConfig={}}createFilter(){return new sm(this.options,this.sharedFilterConfig)}};Wc.CompressionFilterFactory=FS});var Rq=m(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});Jc.MaxMessageSizeFilterFactory=Jc.MaxMessageSizeFilter=void 0;var kce=rm(),om=Re(),Dq=vn(),am=class extends kce.BaseFilter{constructor(e){super(),this.maxSendMessageSize=om.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=om.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,"grpc.max_send_message_length"in e&&(this.maxSendMessageSize=e["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in e&&(this.maxReceiveMessageSize=e["grpc.max_receive_message_length"])}sendMessage(e){return p(this,null,function*(){if(this.maxSendMessageSize===-1)return e;{let n=yield e;if(n.message.length>this.maxSendMessageSize)throw{code:om.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${n.message.length} vs. ${this.maxSendMessageSize})`,metadata:new Dq.Metadata};return n}})}receiveMessage(e){return p(this,null,function*(){if(this.maxReceiveMessageSize===-1)return e;{let n=yield e;if(n.length>this.maxReceiveMessageSize)throw{code:om.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${n.length} vs. ${this.maxReceiveMessageSize})`,metadata:new Dq.Metadata};return n}})}};Jc.MaxMessageSizeFilter=am;var MS=class{constructor(e){this.options=e}createFilter(){return new am(this.options)}};Jc.MaxMessageSizeFilterFactory=MS});var Am=m(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});Vi.deadlineToString=Vi.getRelativeTimeout=Vi.getDeadlineTimeoutString=Vi.minDeadline=void 0;function Fce(...t){let e=1/0;for(let n of t){let r=n instanceof Date?n.getTime():n;r<e&&(e=r)}return e}Vi.minDeadline=Fce;var Mce=[["m",1],["S",1e3],["M",60*1e3],["H",60*60*1e3]];function xce(t){let e=new Date().getTime();t instanceof Date&&(t=t.getTime());let n=Math.max(t-e,0);for(let[r,i]of Mce){let s=n/i;if(s<1e8)return String(Math.ceil(s))+r}throw new Error("Deadline is too far in the future")}Vi.getDeadlineTimeoutString=xce;var Lce=2147483647;function Oce(t){let e=t instanceof Date?t.getTime():t,n=new Date().getTime(),r=e-n;return r<0?0:r>Lce?1/0:r}Vi.getRelativeTimeout=Oce;function Uce(t){if(t instanceof Date)return t.toISOString();{let e=new Date(t);return Number.isNaN(e.getTime())?""+t:e.toISOString()}}Vi.deadlineToString=Uce});var lm=m(cm=>{"use strict";Object.defineProperty(cm,"__esModule",{value:!0});cm.restrictControlPlaneStatusCode=void 0;var qi=Re(),Pce=[qi.Status.OK,qi.Status.INVALID_ARGUMENT,qi.Status.NOT_FOUND,qi.Status.ALREADY_EXISTS,qi.Status.FAILED_PRECONDITION,qi.Status.ABORTED,qi.Status.OUT_OF_RANGE,qi.Status.DATA_LOSS];function Vce(t,e){return Pce.includes(t)?{code:qi.Status.INTERNAL,details:`Invalid status from control plane: ${t} ${qi.Status[t]} ${e}`}:{code:t,details:e}}cm.restrictControlPlaneStatusCode=Vce});var Nq=m(dm=>{"use strict";Object.defineProperty(dm,"__esModule",{value:!0});dm.LoadBalancingCall=void 0;var Tq=yr(),um=Re(),qce=Am(),hm=vn(),Yh=ro(),Gce=ir(),Hce=pt(),xS=lm(),Yce=B("http2"),Wce="load_balancing_call",LS=class{constructor(e,n,r,i,s,o,a){var A,c;this.channel=e,this.callConfig=n,this.methodName=r,this.host=i,this.credentials=s,this.deadline=o,this.callNumber=a,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null;let l=this.methodName.split("/"),u="";l.length>=2&&(u=l[1]);let h=(c=(A=(0,Gce.splitHostPort)(this.host))===null||A===void 0?void 0:A.host)!==null&&c!==void 0?c:"localhost";this.serviceUrl=`https://${h}/${u}`}trace(e){Hce.trace(um.LogVerbosity.DEBUG,Wce,"["+this.callNumber+"] "+e)}outputStatus(e,n){var r,i;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+e.code+' details="'+e.details+'"');let s=Object.assign(Object.assign({},e),{progress:n});(r=this.listener)===null||r===void 0||r.onReceiveStatus(s),(i=this.onCallEnded)===null||i===void 0||i.call(this,s.code)}}doPick(){var e,n;if(this.ended)return;if(!this.metadata)throw new Error("doPick called before start");this.trace("Pick called");let r=this.channel.doPick(this.metadata,this.callConfig.pickInformation),i=r.subchannel?"("+r.subchannel.getChannelzRef().id+") "+r.subchannel.getAddress():""+r.subchannel;switch(this.trace("Pick result: "+Yh.PickResultType[r.pickResultType]+" subchannel: "+i+" status: "+((e=r.status)===null||e===void 0?void 0:e.code)+" "+((n=r.status)===null||n===void 0?void 0:n.details)),r.pickResultType){case Yh.PickResultType.COMPLETE:this.credentials.generateMetadata({service_url:this.serviceUrl}).then(a=>{var A,c,l;if(this.ended){this.trace("Credentials metadata generation finished after call ended");return}let u=this.metadata.clone();if(u.merge(a),u.get("authorization").length>1&&this.outputStatus({code:um.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new hm.Metadata},"PROCESSED"),r.subchannel.getConnectivityState()!==Tq.ConnectivityState.READY){this.trace("Picked subchannel "+i+" has state "+Tq.ConnectivityState[r.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&u.set("grpc-timeout",(0,qce.getDeadlineTimeoutString)(this.deadline));try{this.child=r.subchannel.getRealSubchannel().createCall(u,this.host,this.methodName,{onReceiveMetadata:h=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(h)},onReceiveMessage:h=>{this.trace("Received message"),this.listener.onReceiveMessage(h)},onReceiveStatus:h=>{this.trace("Received status"),h.rstCode===Yce.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(h,"REFUSED"):this.outputStatus(h,"PROCESSED")}})}catch(h){this.trace("Failed to start call on picked subchannel "+i+" with error "+h.message),this.outputStatus({code:um.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+h.message,metadata:new hm.Metadata},"NOT_STARTED");return}(c=(A=this.callConfig).onCommitted)===null||c===void 0||c.call(A),(l=r.onCallStarted)===null||l===void 0||l.call(r),this.onCallEnded=r.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()},a=>{let{code:A,details:c}=(0,xS.restrictControlPlaneStatusCode)(typeof a.code=="number"?a.code:um.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${a.message}`);this.outputStatus({code:A,details:c,metadata:new hm.Metadata},"PROCESSED")});break;case Yh.PickResultType.DROP:let{code:s,details:o}=(0,xS.restrictControlPlaneStatusCode)(r.status.code,r.status.details);setImmediate(()=>{this.outputStatus({code:s,details:o,metadata:r.status.metadata},"DROP")});break;case Yh.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{let{code:a,details:A}=(0,xS.restrictControlPlaneStatusCode)(r.status.code,r.status.details);setImmediate(()=>{this.outputStatus({code:a,details:A,metadata:r.status.metadata},"PROCESSED")})}break;case Yh.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(e,n){var r;this.trace("cancelWithStatus code: "+e+' details: "'+n+'"'),(r=this.child)===null||r===void 0||r.cancelWithStatus(e,n),this.outputStatus({code:e,details:n,metadata:new hm.Metadata},"PROCESSED")}getPeer(){var e,n;return(n=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&n!==void 0?n:this.channel.getTarget()}start(e,n){this.trace("start called"),this.listener=n,this.metadata=e,this.doPick()}sendMessageWithContext(e,n){this.trace("write() called with message of length "+n.length),this.child?this.child.sendMessageWithContext(e,n):this.pendingMessage={context:e,message:n}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){throw new Error("Method not implemented.")}getCallNumber(){return this.callNumber}};dm.LoadBalancingCall=LS});var Fq=m(gm=>{"use strict";Object.defineProperty(gm,"__esModule",{value:!0});gm.ResolvingCall=void 0;var zc=Re(),fm=Am(),kq=vn(),Jce=pt(),zce=lm(),jce="resolving_call",OS=class{constructor(e,n,r,i,s,o){this.channel=e,this.method=n,this.filterStackFactory=i,this.credentials=s,this.callNumber=o,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadline=r.deadline,this.host=r.host,r.parentCall&&(r.flags&zc.Propagate.CANCELLATION&&r.parentCall.on("cancelled",()=>{this.cancelWithStatus(zc.Status.CANCELLED,"Cancelled by parent call")}),r.flags&zc.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+r.parentCall.getDeadline()),this.deadline=(0,fm.minDeadline)(this.deadline,r.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(e){Jce.trace(zc.LogVerbosity.DEBUG,jce,"["+this.callNumber+"] "+e)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.trace("Deadline: "+(0,fm.deadlineToString)(this.deadline));let e=(0,fm.getRelativeTimeout)(this.deadline);if(e!==1/0){this.trace("Deadline will be reached in "+e+"ms");let n=()=>{this.cancelWithStatus(zc.Status.DEADLINE_EXCEEDED,"Deadline exceeded")};e<=0?process.nextTick(n):this.deadlineTimer=setTimeout(n,e)}}outputStatus(e){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);let n=this.filterStack.receiveTrailers(e);this.trace("ended with status: code="+n.code+' details="'+n.details+'"'),this.statusWatchers.forEach(r=>r(n)),process.nextTick(()=>{var r;(r=this.listener)===null||r===void 0||r.onReceiveStatus(n)})}}sendMessageOnChild(e,n){if(!this.child)throw new Error("sendMessageonChild called with child not populated");let r=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:n,flags:e.flags})).then(i=>{this.writeFilterPending=!1,r.sendMessageWithContext(e,i.message),this.pendingHalfClose&&r.halfClose()},i=>{this.cancelWithStatus(i.code,i.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw new Error("getConfig called before start");let e=this.channel.getConfig(this.method,this.metadata);if(e.type==="NONE"){this.channel.queueCallForConfig(this);return}else if(e.type==="ERROR"){this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e.error);return}let n=e.config;if(n.status!==zc.Status.OK){let{code:r,details:i}=(0,zce.restrictControlPlaneStatusCode)(n.status,"Failed to route call to method "+this.method);this.outputStatus({code:r,details:i,metadata:new kq.Metadata});return}if(n.methodConfig.timeout){let r=new Date;r.setSeconds(r.getSeconds()+n.methodConfig.timeout.seconds),r.setMilliseconds(r.getMilliseconds()+n.methodConfig.timeout.nanos/1e6),this.deadline=(0,fm.minDeadline)(this.deadline,r),this.runDeadlineTimer()}this.filterStackFactory.push(n.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(r=>{this.child=this.channel.createInnerCall(n,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.child.start(r,{onReceiveMetadata:i=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(i))},onReceiveMessage:i=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(i).then(s=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(s),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)},s=>{this.cancelWithStatus(s.code,s.details)})},onReceiveStatus:i=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=i:this.outputStatus(i)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()},r=>{this.outputStatus(r)})}reportResolverError(e){var n;!((n=this.metadata)===null||n===void 0)&&n.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e)}cancelWithStatus(e,n){var r;this.trace("cancelWithStatus code: "+e+' details: "'+n+'"'),(r=this.child)===null||r===void 0||r.cancelWithStatus(e,n),this.outputStatus({code:e,details:n,metadata:new kq.Metadata})}getPeer(){var e,n;return(n=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&n!==void 0?n:this.channel.getTarget()}start(e,n){this.trace("start called"),this.metadata=e.clone(),this.listener=n,this.getConfig()}sendMessageWithContext(e,n){this.trace("write() called with message of length "+n.length),this.child?this.sendMessageOnChild(e,n):this.pendingMessage={context:e,message:n}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){this.credentials=this.credentials.compose(e)}addStatusWatcher(e){this.statusWatchers.push(e)}getCallNumber(){return this.callNumber}};gm.ResolvingCall=OS});var Mq=m(yo=>{"use strict";Object.defineProperty(yo,"__esModule",{value:!0});yo.RetryingCall=yo.MessageBufferTracker=yo.RetryThrottler=void 0;var pm=Re(),Kce=vn(),$ce=pt(),Xce="retrying_call",PS=class{constructor(e,n,r){this.maxTokens=e,this.tokenRatio=n,r?this.tokens=r.tokens*(e/r.maxTokens):this.tokens=e}addCallSucceeded(){this.tokens=Math.max(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.min(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}};yo.RetryThrottler=PS;var VS=class{constructor(e,n){this.totalLimit=e,this.limitPerCall=n,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(e,n){var r;let i=(r=this.allocatedPerCall.get(n))!==null&&r!==void 0?r:0;return this.limitPerCall-i<e||this.totalLimit-this.totalAllocated<e?!1:(this.allocatedPerCall.set(n,i+e),this.totalAllocated+=e,!0)}free(e,n){var r;if(this.totalAllocated<e)throw new Error(`Invalid buffer allocation state: call ${n} freed ${e} > total allocated ${this.totalAllocated}`);this.totalAllocated-=e;let i=(r=this.allocatedPerCall.get(n))!==null&&r!==void 0?r:0;if(i<e)throw new Error(`Invalid buffer allocation state: call ${n} freed ${e} > allocated for call ${i}`);this.allocatedPerCall.set(n,i-e)}freeAll(e){var n;let r=(n=this.allocatedPerCall.get(e))!==null&&n!==void 0?n:0;if(this.totalAllocated<r)throw new Error(`Invalid buffer allocation state: call ${e} allocated ${r} > total allocated ${this.totalAllocated}`);this.totalAllocated-=r,this.allocatedPerCall.delete(e)}};yo.MessageBufferTracker=VS;var US="grpc-previous-rpc-attempts",qS=class{constructor(e,n,r,i,s,o,a,A,c){if(this.channel=e,this.callConfig=n,this.methodName=r,this.host=i,this.credentials=s,this.deadline=o,this.callNumber=a,this.bufferTracker=A,this.retryThrottler=c,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0,n.methodConfig.retryPolicy){this.state="RETRY";let l=n.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(l.initialBackoff.substring(0,l.initialBackoff.length-1))}else n.methodConfig.hedgingPolicy?this.state="HEDGING":this.state="TRANSPARENT_ONLY"}getCallNumber(){return this.callNumber}trace(e){$ce.trace(pm.LogVerbosity.DEBUG,Xce,"["+this.callNumber+"] "+e)}reportStatus(e){this.trace("ended with status: code="+e.code+' details="'+e.details+'"'),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var n;(n=this.listener)===null||n===void 0||n.onReceiveStatus({code:e.code,details:e.details,metadata:e.metadata})})}cancelWithStatus(e,n){this.trace("cancelWithStatus code: "+e+' details: "'+n+'"'),this.reportStatus({code:e,details:n,metadata:new Kce.Metadata});for(let{call:r}of this.underlyingCalls)r.cancelWithStatus(e,n)}getPeer(){return this.committedCallIndex!==null?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(e){var n;return(n=this.writeBuffer[e-this.writeBufferOffset])!==null&&n!==void 0?n:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if(this.state!=="COMMITTED")return;let e=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let n=this.writeBufferOffset;n<e;n++){let r=this.getBufferEntry(n);r.allocated&&this.bufferTracker.free(r.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(e-this.writeBufferOffset),this.writeBufferOffset=e}commitCall(e){if(this.state!=="COMMITTED"&&this.underlyingCalls[e].state!=="COMPLETED"){this.trace("Committing call ["+this.underlyingCalls[e].call.getCallNumber()+"] at index "+e),this.state="COMMITTED",this.committedCallIndex=e;for(let n=0;n<this.underlyingCalls.length;n++)n!==e&&this.underlyingCalls[n].state!=="COMPLETED"&&(this.underlyingCalls[n].state="COMPLETED",this.underlyingCalls[n].call.cancelWithStatus(pm.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if(this.state==="COMMITTED")return;let e=-1,n=-1;for(let[r,i]of this.underlyingCalls.entries())i.state==="ACTIVE"&&i.nextMessageToSend>e&&(e=i.nextMessageToSend,n=r);n===-1?this.state="TRANSPARENT_ONLY":this.commitCall(n)}isStatusCodeInList(e,n){return e.some(r=>r===n||r.toString().toLowerCase()===pm.Status[n].toLowerCase())}getNextRetryBackoffMs(){var e;let n=(e=this.callConfig)===null||e===void 0?void 0:e.methodConfig.retryPolicy;if(!n)return 0;let r=Math.random()*this.nextRetryBackoffSec*1e3,i=Number(n.maxBackoff.substring(0,n.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*n.backoffMultiplier,i),r}maybeRetryCall(e,n){if(this.state!=="RETRY"){n(!1);return}let r=this.callConfig.methodConfig.retryPolicy;if(this.attempts>=Math.min(r.maxAttempts,5)){n(!1);return}let i;if(e===null)i=this.getNextRetryBackoffMs();else if(e<0){this.state="TRANSPARENT_ONLY",n(!1);return}else i=e,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var s,o;if(this.state!=="RETRY"){n(!1);return}(!((o=(s=this.retryThrottler)===null||s===void 0?void 0:s.canRetryCall())!==null&&o!==void 0)||o)&&(n(!0),this.attempts+=1,this.startNewAttempt())},i)}countActiveCalls(){let e=0;for(let n of this.underlyingCalls)n?.state==="ACTIVE"&&(e+=1);return e}handleProcessedStatus(e,n,r){var i,s,o;switch(this.state){case"COMMITTED":case"TRANSPARENT_ONLY":this.commitCall(n),this.reportStatus(e);break;case"HEDGING":if(this.isStatusCodeInList((i=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)!==null&&i!==void 0?i:[],e.code)){(s=this.retryThrottler)===null||s===void 0||s.addCallFailed();let a;if(r===null)a=0;else if(r<0){this.state="TRANSPARENT_ONLY",this.commitCall(n),this.reportStatus(e);return}else a=r;setTimeout(()=>{this.maybeStartHedgingAttempt(),this.countActiveCalls()===0&&(this.commitCall(n),this.reportStatus(e))},a)}else this.commitCall(n),this.reportStatus(e);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,e.code)?((o=this.retryThrottler)===null||o===void 0||o.addCallFailed(),this.maybeRetryCall(r,a=>{a||(this.commitCall(n),this.reportStatus(e))})):(this.commitCall(n),this.reportStatus(e));break}}getPushback(e){let n=e.get("grpc-retry-pushback-ms");if(n.length===0)return null;try{return parseInt(n[0])}catch{return-1}}handleChildStatus(e,n){var r;if(this.underlyingCalls[n].state==="COMPLETED")return;if(this.trace("state="+this.state+" handling status with progress "+e.progress+" from child ["+this.underlyingCalls[n].call.getCallNumber()+"] in state "+this.underlyingCalls[n].state),this.underlyingCalls[n].state="COMPLETED",e.code===pm.Status.OK){(r=this.retryThrottler)===null||r===void 0||r.addCallSucceeded(),this.commitCall(n),this.reportStatus(e);return}if(this.state==="COMMITTED"){this.reportStatus(e);return}let i=this.getPushback(e.metadata);switch(e.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(e,n,i):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(n),this.reportStatus(e);break;case"PROCESSED":this.handleProcessedStatus(e,n,i);break}}maybeStartHedgingAttempt(){if(this.state!=="HEDGING"||!this.callConfig.methodConfig.hedgingPolicy)return;let e=this.callConfig.methodConfig.hedgingPolicy;this.attempts>=Math.min(e.maxAttempts,5)||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer())}maybeStartHedgingTimer(){var e,n,r;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),this.state!=="HEDGING"||!this.callConfig.methodConfig.hedgingPolicy)return;let i=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=Math.min(i.maxAttempts,5))return;let s=(e=i.hedgingDelay)!==null&&e!==void 0?e:"0s",o=Number(s.substring(0,s.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},o*1e3),(r=(n=this.hedgingTimer).unref)===null||r===void 0||r.call(n)}startNewAttempt(){let e=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+e.getCallNumber()+"] for attempt "+this.attempts);let n=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:e,nextMessageToSend:0});let r=this.attempts-1,i=this.initialMetadata.clone();r>0&&i.set(US,`${r}`);let s=!1;e.start(i,{onReceiveMetadata:o=>{this.trace("Received metadata from child ["+e.getCallNumber()+"]"),this.commitCall(n),s=!0,r>0&&o.set(US,`${r}`),this.underlyingCalls[n].state==="ACTIVE"&&this.listener.onReceiveMetadata(o)},onReceiveMessage:o=>{this.trace("Received message from child ["+e.getCallNumber()+"]"),this.commitCall(n),this.underlyingCalls[n].state==="ACTIVE"&&this.listener.onReceiveMessage(o)},onReceiveStatus:o=>{this.trace("Received status from child ["+e.getCallNumber()+"]"),!s&&r>0&&o.metadata.set(US,`${r}`),this.handleChildStatus(o,n)}}),this.sendNextChildMessage(n),this.readStarted&&e.startRead()}start(e,n){this.trace("start called"),this.listener=n,this.initialMetadata=e,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(e){var n,r;let i=this.underlyingCalls[e],s=i.nextMessageToSend;(r=(n=this.getBufferEntry(s)).callback)===null||r===void 0||r.call(n),this.clearSentMessages(),i.nextMessageToSend+=1,this.sendNextChildMessage(e)}sendNextChildMessage(e){let n=this.underlyingCalls[e];if(n.state!=="COMPLETED"&&this.getBufferEntry(n.nextMessageToSend)){let r=this.getBufferEntry(n.nextMessageToSend);switch(r.entryType){case"MESSAGE":n.call.sendMessageWithContext({callback:i=>{this.handleChildWriteCompleted(e)}},r.message.message);break;case"HALF_CLOSE":n.nextMessageToSend+=1,n.call.halfClose();break;case"FREED":break}}}sendMessageWithContext(e,n){var r;this.trace("write() called with message of length "+n.length);let i={message:n,flags:e.flags},s=this.getNextBufferIndex(),o={entryType:"MESSAGE",message:i,allocated:this.bufferTracker.allocate(n.length,this.callNumber)};if(this.writeBuffer.push(o),o.allocated){(r=e.callback)===null||r===void 0||r.call(e);for(let[a,A]of this.underlyingCalls.entries())A.state==="ACTIVE"&&A.nextMessageToSend===s&&A.call.sendMessageWithContext({callback:c=>{this.handleChildWriteCompleted(a)}},n)}else{if(this.commitCallWithMostMessages(),this.committedCallIndex===null)return;let a=this.underlyingCalls[this.committedCallIndex];o.callback=e.callback,a.state==="ACTIVE"&&a.nextMessageToSend===s&&a.call.sendMessageWithContext({callback:A=>{this.handleChildWriteCompleted(this.committedCallIndex)}},n)}}startRead(){this.trace("startRead called"),this.readStarted=!0;for(let e of this.underlyingCalls)e?.state==="ACTIVE"&&e.call.startRead()}halfClose(){this.trace("halfClose called");let e=this.getNextBufferIndex();this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1});for(let n of this.underlyingCalls)n?.state==="ACTIVE"&&n.nextMessageToSend===e&&(n.nextMessageToSend+=1,n.call.halfClose())}setCredentials(e){throw new Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}};yo.RetryingCall=qS});var mm=m(Em=>{"use strict";Object.defineProperty(Em,"__esModule",{value:!0});Em.BaseSubchannelWrapper=void 0;var GS=class{constructor(e){this.child=e}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(e){this.child.addConnectivityStateListener(e)}removeConnectivityStateListener(e){this.child.removeConnectivityStateListener(e)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(e){this.child.throttleKeepalive(e)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(e){return this.getRealSubchannel()===e.getRealSubchannel()}};Em.BaseSubchannelWrapper=GS});var Oq=m(ym=>{"use strict";Object.defineProperty(ym,"__esModule",{value:!0});ym.InternalChannel=void 0;var Zce=tE(),ele=aP(),tle=wq(),xq=ro(),Wh=Re(),nle=bS(),rle=bq(),Lq=Di(),HS=pt(),ile=Rq(),sle=ES(),Cm=ir(),Gi=yr(),Jh=_a(),ole=Nq(),ale=Am(),Ale=Fq(),YS=yS(),cle=lm(),WS=Mq(),lle=mm(),ule=2147483647,hle=1e3,dle=30*60*1e3,Im=new Map,fle=1<<24,gle=1<<20,JS=class extends lle.BaseSubchannelWrapper{constructor(e,n){super(e),this.channel=n,this.refCount=0,this.subchannelStateListener=(r,i,s,o)=>{n.throttleKeepalive(o)},e.addConnectivityStateListener(this.subchannelStateListener)}ref(){this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}},zS=class{constructor(e,n,r){var i,s,o,a,A,c,l,u;if(this.credentials=n,this.options=r,this.connectivityState=Gi.ConnectivityState.IDLE,this.currentPicker=new xq.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.callTracker=new Jh.ChannelzCallTracker,this.childrenTracker=new Jh.ChannelzChildrenTracker,typeof e!="string")throw new TypeError("Channel target must be a string");if(!(n instanceof Zce.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(r&&typeof r!="object")throw new TypeError("Channel options must be an object");this.originalTarget=e;let h=(0,Cm.parseUri)(e);if(h===null)throw new Error(`Could not parse target name "${e}"`);let d=(0,Lq.mapUriDefaultScheme)(h);if(d===null)throw new Error(`Could not find a default scheme for target name "${e}"`);this.callRefTimer=setInterval(()=>{},ule),(s=(i=this.callRefTimer).unref)===null||s===void 0||s.call(i),this.options["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzTrace=new Jh.ChannelzTrace,this.channelzRef=(0,Jh.registerChannelzChannel)(e,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,Lq.getDefaultAuthority)(d);let f=(0,sle.mapProxyName)(d,r);this.target=f.target,this.options=Object.assign({},this.options,f.extraOptions),this.subchannelPool=(0,tle.getSubchannelPool)(((o=r["grpc.use_local_subchannel_pool"])!==null&&o!==void 0?o:0)===0),this.retryBufferTracker=new WS.MessageBufferTracker((a=r["grpc.retry_buffer_size"])!==null&&a!==void 0?a:fle,(A=r["grpc.per_rpc_retry_buffer_size"])!==null&&A!==void 0?A:gle),this.keepaliveTime=(c=r["grpc.keepalive_time_ms"])!==null&&c!==void 0?c:-1,this.idleTimeoutMs=Math.max((l=r["grpc.client_idle_timeout_ms"])!==null&&l!==void 0?l:dle,hle);let E={createSubchannel:(y,I)=>{let S=this.subchannelPool.getOrCreateSubchannel(this.target,y,Object.assign({},this.options,I),this.credentials);S.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Created subchannel or used existing subchannel",S.getChannelzRef());let v=new JS(S,this);return this.wrappedSubchannels.add(v),v},updateState:(y,I)=>{this.currentPicker=I;let S=this.pickQueue.slice();this.pickQueue=[],S.length>0&&this.callRefTimerUnref();for(let v of S)v.doPick();this.updateState(y)},requestReresolution:()=>{throw new Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:y=>{this.channelzEnabled&&this.childrenTracker.refChild(y)},removeChannelzChild:y=>{this.channelzEnabled&&this.childrenTracker.unrefChild(y)}};this.resolvingLoadBalancer=new ele.ResolvingLoadBalancer(this.target,E,r,(y,I)=>{y.retryThrottling?Im.set(this.getTarget(),new WS.RetryThrottler(y.retryThrottling.maxTokens,y.retryThrottling.tokenRatio,Im.get(this.getTarget()))):Im.delete(this.getTarget()),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Address resolution succeeded"),this.configSelector=I,this.currentResolutionError=null,process.nextTick(()=>{let S=this.configSelectionQueue;this.configSelectionQueue=[],S.length>0&&this.callRefTimerUnref();for(let v of S)v.getConfig()})},y=>{this.channelzEnabled&&this.channelzTrace.addTrace("CT_WARNING","Address resolution failed with code "+y.code+' and details "'+y.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),this.configSelector===null&&(this.currentResolutionError=Object.assign(Object.assign({},(0,cle.restrictControlPlaneStatusCode)(y.code,y.details)),{metadata:y.metadata}));let I=this.configSelectionQueue;this.configSelectionQueue=[],I.length>0&&this.callRefTimerUnref();for(let S of I)S.reportResolverError(y)}),this.filterStackFactory=new nle.FilterStackFactory([new ile.MaxMessageSizeFilterFactory(this.options),new rle.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(r,void 0,2));let C=new Error;(0,HS.trace)(Wh.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+`) Channel constructed 
`+((u=C.stack)===null||u===void 0?void 0:u.substring(C.stack.indexOf(`
`)+1))),this.lastActivityTimestamp=new Date}getChannelzInfo(){return{target:this.originalTarget,state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}}trace(e,n){(0,HS.trace)(n??Wh.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,Cm.uriToString)(this.target)+" "+e)}callRefTimerRef(){var e,n,r,i;!((n=(e=this.callRefTimer).hasRef)===null||n===void 0)&&n.call(e)||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(i=(r=this.callRefTimer).ref)===null||i===void 0||i.call(r))}callRefTimerUnref(){var e,n;(!this.callRefTimer.hasRef||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(n=(e=this.callRefTimer).unref)===null||n===void 0||n.call(e))}removeConnectivityStateWatcher(e){let n=this.connectivityStateWatchers.findIndex(r=>r===e);n>=0&&this.connectivityStateWatchers.splice(n,1)}updateState(e){(0,HS.trace)(Wh.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,Cm.uriToString)(this.target)+" "+Gi.ConnectivityState[this.connectivityState]+" -> "+Gi.ConnectivityState[e]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+Gi.ConnectivityState[e]),this.connectivityState=e;let n=this.connectivityStateWatchers.slice();for(let r of n)e!==r.currentState&&(r.timer&&clearTimeout(r.timer),this.removeConnectivityStateWatcher(r),r.callback());e!==Gi.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(e){if(e>this.keepaliveTime){this.keepaliveTime=e;for(let n of this.wrappedSubchannels)n.throttleKeepalive(e)}}removeWrappedSubchannel(e){this.wrappedSubchannels.delete(e)}doPick(e,n){return this.currentPicker.pick({metadata:e,extraPickInfo:n})}queueCallForPick(e){this.pickQueue.push(e),this.callRefTimerRef()}getConfig(e,n){return this.resolvingLoadBalancer.exitIdle(),this.configSelector?{type:"SUCCESS",config:this.configSelector(e,n)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(e){this.configSelectionQueue.push(e),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(Gi.ConnectivityState.IDLE),this.currentPicker=new xq.QueuePicker(this.resolvingLoadBalancer),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null)}startIdleTimeout(e){var n,r;this.idleTimer=setTimeout(()=>{if(this.callCount>0){this.startIdleTimeout(this.idleTimeoutMs);return}let s=new Date().valueOf()-this.lastActivityTimestamp.valueOf();s>=this.idleTimeoutMs?(this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()):this.startIdleTimeout(this.idleTimeoutMs-s)},e),(r=(n=this.idleTimer).unref)===null||r===void 0||r.call(n)}maybeStartIdleTimer(){this.connectivityState!==Gi.ConnectivityState.SHUTDOWN&&!this.idleTimer&&this.startIdleTimeout(this.idleTimeoutMs)}onCallStart(){this.channelzEnabled&&this.callTracker.addCallStarted(),this.callCount+=1}onCallEnd(e){this.channelzEnabled&&(e.code===Wh.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()),this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()}createLoadBalancingCall(e,n,r,i,s){let o=(0,YS.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+o+'] method="'+n+'"'),new ole.LoadBalancingCall(this,e,n,r,i,s,o)}createRetryingCall(e,n,r,i,s){let o=(0,YS.getNextCallNumber)();return this.trace("createRetryingCall ["+o+'] method="'+n+'"'),new WS.RetryingCall(this,e,n,r,i,s,o,this.retryBufferTracker,Im.get(this.getTarget()))}createInnerCall(e,n,r,i,s){return this.options["grpc.enable_retries"]===0?this.createLoadBalancingCall(e,n,r,i,s):this.createRetryingCall(e,n,r,i,s)}createResolvingCall(e,n,r,i,s){let o=(0,YS.getNextCallNumber)();this.trace("createResolvingCall ["+o+'] method="'+e+'", deadline='+(0,ale.deadlineToString)(n));let a={deadline:n,flags:s??Wh.Propagate.DEFAULTS,host:r??this.defaultAuthority,parentCall:i},A=new Ale.ResolvingCall(this,e,a,this.filterStackFactory.clone(),this.credentials._getCallCredentials(),o);return this.onCallStart(),A.addStatusWatcher(c=>{this.onCallEnd(c)}),A}close(){this.resolvingLoadBalancer.destroy(),this.updateState(Gi.ConnectivityState.SHUTDOWN),clearInterval(this.callRefTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.channelzEnabled&&(0,Jh.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return(0,Cm.uriToString)(this.target)}getConnectivityState(e){let n=this.connectivityState;return e&&(this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()),n}watchConnectivityState(e,n,r){if(this.connectivityState===Gi.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");let i=null;if(n!==1/0){let o=n instanceof Date?n:new Date(n),a=new Date;if(n===-1/0||o<=a){process.nextTick(r,new Error("Deadline passed without connectivity state change"));return}i=setTimeout(()=>{this.removeConnectivityStateWatcher(s),r(new Error("Deadline passed without connectivity state change"))},o.getTime()-a.getTime())}let s={currentState:e,callback:r,timer:i};this.connectivityStateWatchers.push(s)}getChannelzRef(){return this.channelzRef}createCall(e,n,r,i,s){if(typeof e!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof n=="number"||n instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===Gi.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");return this.createResolvingCall(e,n,r,i,s)}};ym.InternalChannel=zS});var Xv=m(Bm=>{"use strict";Object.defineProperty(Bm,"__esModule",{value:!0});Bm.ChannelImplementation=void 0;var ple=tE(),Ele=Oq(),jS=class{constructor(e,n,r){if(typeof e!="string")throw new TypeError("Channel target must be a string");if(!(n instanceof ple.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(r&&typeof r!="object")throw new TypeError("Channel options must be an object");this.internalChannel=new Ele.InternalChannel(e,n,r)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(e){return this.internalChannel.getConnectivityState(e)}watchConnectivityState(e,n,r){this.internalChannel.watchConnectivityState(e,n,r)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(e,n,r,i,s){if(typeof e!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof n=="number"||n instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(e,n,r,i,s)}};Bm.ChannelImplementation=jS});var zq=m(Rr=>{"use strict";Object.defineProperty(Rr,"__esModule",{value:!0});Rr.Http2ServerCallStream=Rr.ServerDuplexStreamImpl=Rr.ServerWritableStreamImpl=Rr.ServerReadableStreamImpl=Rr.ServerUnaryCallImpl=void 0;var Gq=B("events"),jc=B("http2"),XS=B("stream"),Hq=B("zlib"),Yq=B("util"),at=Re(),ZS=vn(),mle=CS(),Wq=pt(),jh=jp(),Jq="server_call",Cle=(0,Yq.promisify)(Hq.unzip),Ile=(0,Yq.promisify)(Hq.inflate);function zh(t){Wq.trace(at.LogVerbosity.DEBUG,Jq,t)}var yle="grpc-accept-encoding",Ble="grpc-encoding",Uq="grpc-message",Pq="grpc-status",Vq="grpc-timeout",Qle=/(\d{1,8})\s*([HMSmun])/,wle={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},vle={[yle]:"identity,deflate,gzip",[Ble]:"identity"},qq={[jc.constants.HTTP2_HEADER_STATUS]:jc.constants.HTTP_STATUS_OK,[jc.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},_le={waitForTrailers:!0},KS=class extends Gq.EventEmitter{constructor(e,n,r){super(),this.call=e,this.metadata=n,this.request=r,this.cancelled=!1,this.call.setupSurfaceCall(this)}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}};Rr.ServerUnaryCallImpl=KS;var Qm=class extends XS.Readable{constructor(e,n,r,i){super({objectMode:!0}),this.call=e,this.metadata=n,this.deserialize=r,this.cancelled=!1,this.call.setupSurfaceCall(this),this.call.setupReadable(this,i)}_read(e){this.call.consumeUnpushedMessages(this)&&this.call.resume()}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}};Rr.ServerReadableStreamImpl=Qm;var Kh=class extends XS.Writable{constructor(e,n,r,i){super({objectMode:!0}),this.call=e,this.metadata=n,this.serialize=r,this.request=i,this.cancelled=!1,this.trailingMetadata=new ZS.Metadata,this.call.setupSurfaceCall(this),this.on("error",s=>{this.call.sendError(s),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}_write(e,n,r){try{let i=this.call.serializeMessage(e);if(!this.call.write(i)){this.call.once("drain",r);return}}catch(i){this.emit("error",{details:(0,jh.getErrorMessage)(i),code:at.Status.INTERNAL})}r()}_final(e){this.call.sendStatus({code:at.Status.OK,details:"OK",metadata:this.trailingMetadata}),e(null)}end(e){return e&&(this.trailingMetadata=e),super.end()}};Rr.ServerWritableStreamImpl=Kh;var Kc=class extends XS.Duplex{constructor(e,n,r,i,s){super({objectMode:!0}),this.call=e,this.metadata=n,this.serialize=r,this.deserialize=i,this.cancelled=!1,this.trailingMetadata=new ZS.Metadata,this.call.setupSurfaceCall(this),this.call.setupReadable(this,s),this.on("error",o=>{this.call.sendError(o),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}end(e){return e&&(this.trailingMetadata=e),super.end()}};Rr.ServerDuplexStreamImpl=Kc;Kc.prototype._read=Qm.prototype._read;Kc.prototype._write=Kh.prototype._write;Kc.prototype._final=Kh.prototype._final;var $S=class extends Gq.EventEmitter{constructor(e,n,r){super(),this.stream=e,this.handler=n,this.cancelled=!1,this.deadlineTimer=null,this.statusSent=!1,this.deadline=1/0,this.wantTrailers=!1,this.metadataSent=!1,this.canPush=!1,this.isPushPending=!1,this.bufferedMessages=[],this.messagesToPush=[],this.maxSendMessageSize=at.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=at.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.stream.once("error",i=>{}),this.stream.once("close",()=>{var i;zh("Request to method "+((i=this.handler)===null||i===void 0?void 0:i.path)+" stream closed with rstCode "+this.stream.rstCode),this.statusSent||(this.cancelled=!0,this.emit("cancelled","cancelled"),this.emit("streamEnd",!1),this.sendStatus({code:at.Status.CANCELLED,details:"Cancelled by client",metadata:null}),this.deadlineTimer&&clearTimeout(this.deadlineTimer))}),this.stream.on("drain",()=>{this.emit("drain")}),"grpc.max_send_message_length"in r&&(this.maxSendMessageSize=r["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in r&&(this.maxReceiveMessageSize=r["grpc.max_receive_message_length"])}checkCancelled(){return(this.stream.destroyed||this.stream.closed)&&(this.cancelled=!0),this.cancelled}getDecompressedMessage(e,n){return n==="deflate"?Ile(e.subarray(5)):n==="gzip"?Cle(e.subarray(5)):n==="identity"?e.subarray(5):Promise.reject({code:at.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${n}"`})}sendMetadata(e){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=!0;let n=e?e.toHttp2Headers():null,r=Object.assign(Object.assign(Object.assign({},qq),vle),n);this.stream.respond(r,_le)}receiveMetadata(e){let n=ZS.Metadata.fromHttp2Headers(e);Wq.isTracerEnabled(Jq)&&zh("Request to "+this.handler.path+" received headers "+JSON.stringify(n.toJSON()));let r=n.get(Vq);if(r.length>0){let i=r[0].toString().match(Qle);if(i===null){let a=new Error("Invalid deadline");return a.code=at.Status.OUT_OF_RANGE,this.sendError(a),n}let s=+i[1]*wle[i[2]]|0,o=new Date;this.deadline=o.setMilliseconds(o.getMilliseconds()+s),this.deadlineTimer=setTimeout(Sle,s,this),n.remove(Vq)}return n.remove(jc.constants.HTTP2_HEADER_ACCEPT_ENCODING),n.remove(jc.constants.HTTP2_HEADER_TE),n.remove(jc.constants.HTTP2_HEADER_CONTENT_TYPE),n.remove("grpc-accept-encoding"),n}receiveUnaryMessage(e){return new Promise((n,r)=>{let{stream:i}=this,s=0,o=this,a=[],A=this.maxReceiveMessageSize;this.stream.on("data",c),this.stream.on("end",l),this.stream.on("error",l);function c(u){if(s+=u.byteLength,A!==-1&&s>A){i.removeListener("data",c),i.removeListener("end",l),i.removeListener("error",l),r({code:at.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${s} vs. ${A})`});return}a.push(u)}function l(u){if(i.removeListener("data",c),i.removeListener("end",l),i.removeListener("error",l),u!==void 0){r({code:at.Status.INTERNAL,details:u.message});return}if(s===0){r({code:at.Status.INTERNAL,details:"received empty unary message"});return}o.emit("receiveMessage");let h=Buffer.concat(a,s),f=h.readUInt8(0)===1?e:"identity",E=o.getDecompressedMessage(h,f);if(Buffer.isBuffer(E)){n(o.deserializeMessageWithInternalError(E));return}E.then(C=>n(o.deserializeMessageWithInternalError(C)),C=>r(C.code?C:{code:at.Status.INTERNAL,details:`Received "grpc-encoding" header "${e}" but ${e} decompression failed`}))}})}deserializeMessageWithInternalError(e){return p(this,null,function*(){try{return this.deserializeMessage(e)}catch(n){throw{details:(0,jh.getErrorMessage)(n),code:at.Status.INTERNAL}}})}serializeMessage(e){let n=this.handler.serialize(e),r=n.byteLength,i=Buffer.allocUnsafe(r+5);return i.writeUInt8(0,0),i.writeUInt32BE(r,1),n.copy(i,5),i}deserializeMessage(e){return this.handler.deserialize(e)}sendUnaryMessage(e,n,r,i){return p(this,null,function*(){if(!this.checkCancelled()){if(r===void 0&&(r=null),e){!Object.prototype.hasOwnProperty.call(e,"metadata")&&r&&(e.metadata=r),this.sendError(e);return}try{let s=this.serializeMessage(n);this.write(s),this.sendStatus({code:at.Status.OK,details:"OK",metadata:r})}catch(s){this.sendError({details:(0,jh.getErrorMessage)(s),code:at.Status.INTERNAL})}}})}sendStatus(e){var n,r;if(this.emit("callEnd",e.code),this.emit("streamEnd",e.code===at.Status.OK),!this.checkCancelled())if(zh("Request to method "+((n=this.handler)===null||n===void 0?void 0:n.path)+" ended with status code: "+at.Status[e.code]+" details: "+e.details),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.headersSent)this.wantTrailers||(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{var i;let s=Object.assign({[Pq]:e.code,[Uq]:encodeURI(e.details)},(i=e.metadata)===null||i===void 0?void 0:i.toHttp2Headers());this.stream.sendTrailers(s),this.statusSent=!0}),this.stream.end());else{let i=Object.assign(Object.assign({[Pq]:e.code,[Uq]:encodeURI(e.details)},qq),(r=e.metadata)===null||r===void 0?void 0:r.toHttp2Headers());this.stream.respond(i,{endStream:!0}),this.statusSent=!0}}sendError(e){let n={code:at.Status.UNKNOWN,details:"message"in e?e.message:"Unknown Error",metadata:"metadata"in e&&e.metadata!==void 0?e.metadata:null};"code"in e&&typeof e.code=="number"&&Number.isInteger(e.code)&&(n.code=e.code,"details"in e&&typeof e.details=="string"&&(n.details=e.details)),this.sendStatus(n)}write(e){if(!this.checkCancelled()){if(this.maxSendMessageSize!==-1&&e.length>this.maxSendMessageSize){this.sendError({code:at.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${e.length} vs. ${this.maxSendMessageSize})`});return}return this.sendMetadata(),this.emit("sendMessage"),this.stream.write(e)}}resume(){this.stream.resume()}setupSurfaceCall(e){this.once("cancelled",n=>{e.cancelled=!0,e.emit("cancelled",n)}),this.once("callEnd",n=>e.emit("callEnd",n))}setupReadable(e,n){let r=new mle.StreamDecoder,i=!1,s=!1,o=!1,a=()=>p(this,null,function*(){!o&&i&&!s&&(o=!0,yield this.pushOrBufferMessage(e,null))});this.stream.on("data",A=>p(this,null,function*(){let c=r.write(A);s=!0,this.stream.pause();for(let l of c){if(this.maxReceiveMessageSize!==-1&&l.length>this.maxReceiveMessageSize){this.sendError({code:at.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${l.length} vs. ${this.maxReceiveMessageSize})`});return}this.emit("receiveMessage");let h=l.readUInt8(0)===1?n:"identity",d=yield this.getDecompressedMessage(l,h);if(!d)return;yield this.pushOrBufferMessage(e,d)}s=!1,this.stream.resume(),yield a()})),this.stream.once("end",()=>p(this,null,function*(){i=!0,yield a()}))}consumeUnpushedMessages(e){for(this.canPush=!0;this.messagesToPush.length>0;){let n=this.messagesToPush.shift(),r=e.push(n);if(n===null||r===!1){this.canPush=!1;break}}return this.canPush}pushOrBufferMessage(e,n){return p(this,null,function*(){this.isPushPending?this.bufferedMessages.push(n):yield this.pushMessage(e,n)})}pushMessage(e,n){return p(this,null,function*(){if(n===null){zh("Received end of stream"),this.canPush?e.push(null):this.messagesToPush.push(null);return}zh("Received message of length "+n.length),this.isPushPending=!0;try{let r=yield this.deserializeMessage(n);this.canPush?e.push(r)||(this.canPush=!1,this.stream.pause()):this.messagesToPush.push(r)}catch(r){this.bufferedMessages.length=0;let i=(0,jh.getErrorCode)(r);(i===null||i<at.Status.OK||i>at.Status.UNAUTHENTICATED)&&(i=at.Status.INTERNAL),e.emit("error",{details:(0,jh.getErrorMessage)(r),code:i})}this.isPushPending=!1,this.bufferedMessages.length>0&&(yield this.pushMessage(e,this.bufferedMessages.shift()))})}getPeer(){var e;let n=(e=this.stream.session)===null||e===void 0?void 0:e.socket;return n?.remoteAddress?n.remotePort?`${n.remoteAddress}:${n.remotePort}`:n.remoteAddress:"unknown"}getDeadline(){return this.deadline}getPath(){return this.handler.path}};Rr.Http2ServerCallStream=$S;function Sle(t){let e=new Error("Deadline exceeded");e.code=at.Status.DEADLINE_EXCEEDED,t.sendError(e),t.cancelled=!0,t.emit("cancelled","deadline")}});var n0=m(wm=>{"use strict";Object.defineProperty(wm,"__esModule",{value:!0});wm.ServerCredentials=void 0;var jq=Bv(),$h=class{static createInsecure(){return new e0}static createSsl(e,n,r=!1){if(e!==null&&!Buffer.isBuffer(e))throw new TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(n))throw new TypeError("keyCertPairs must be an array");if(typeof r!="boolean")throw new TypeError("checkClientCertificate must be a boolean");let i=[],s=[];for(let o=0;o<n.length;o++){let a=n[o];if(a===null||typeof a!="object")throw new TypeError(`keyCertPair[${o}] must be an object`);if(!Buffer.isBuffer(a.private_key))throw new TypeError(`keyCertPair[${o}].private_key must be a Buffer`);if(!Buffer.isBuffer(a.cert_chain))throw new TypeError(`keyCertPair[${o}].cert_chain must be a Buffer`);i.push(a.cert_chain),s.push(a.private_key)}return new t0({ca:e||(0,jq.getDefaultRootsData)()||void 0,cert:i,key:s,requestCert:r,ciphers:jq.CIPHER_SUITES})}};wm.ServerCredentials=$h;var e0=class extends $h{_isSecure(){return!1}_getSettings(){return null}},t0=class extends $h{constructor(e){super(),this.options=e}_isSecure(){return!0}_getSettings(){return this.options}}});var Xq=m(Sm=>{"use strict";Object.defineProperty(Sm,"__esModule",{value:!0});Sm.Server=void 0;var Bo=B("http2"),Qs=Re(),ba=zq(),ble=n0(),Kq=Di(),vm=pt(),Xr=Ti(),Dle=ir(),qn=_a(),_m=~(1<<31),Rle=~(1<<31),Tle=2e4,{HTTP2_HEADER_PATH:$q}=Bo.constants,Nle="server";function kle(){}function r0(t){return{code:Qs.Status.UNIMPLEMENTED,details:`The server does not implement the method ${t}`}}function Fle(t,e){let n=r0(e);switch(t){case"unary":return(r,i)=>{i(n,null)};case"clientStream":return(r,i)=>{i(n,null)};case"serverStream":return r=>{r.emit("error",n)};case"bidi":return r=>{r.emit("error",n)};default:throw new Error(`Invalid handlerType ${t}`)}}var i0=class{constructor(e){var n,r,i,s;this.http2ServerList=[],this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.channelzTrace=new qn.ChannelzTrace,this.callTracker=new qn.ChannelzCallTracker,this.listenerChildrenTracker=new qn.ChannelzChildrenTracker,this.sessionChildrenTracker=new qn.ChannelzChildrenTracker,this.options=e??{},this.options["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzRef=(0,qn.registerChannelzServer)(()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=(n=this.options["grpc.max_connection_age_ms"])!==null&&n!==void 0?n:_m,this.maxConnectionAgeGraceMs=(r=this.options["grpc.max_connection_age_grace_ms"])!==null&&r!==void 0?r:_m,this.keepaliveTimeMs=(i=this.options["grpc.keepalive_time_ms"])!==null&&i!==void 0?i:Rle,this.keepaliveTimeoutMs=(s=this.options["grpc.keepalive_timeout_ms"])!==null&&s!==void 0?s:Tle,this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfoGetter(e){return()=>{var n,r,i;let s=this.sessions.get(e),o=e.socket,a=o.remoteAddress?(0,Xr.stringToSubchannelAddress)(o.remoteAddress,o.remotePort):null,A=o.localAddress?(0,Xr.stringToSubchannelAddress)(o.localAddress,o.localPort):null,c;if(e.encrypted){let u=o,h=u.getCipher(),d=u.getCertificate(),f=u.getPeerCertificate();c={cipherSuiteStandardName:(n=h.standardName)!==null&&n!==void 0?n:null,cipherSuiteOtherName:h.standardName?null:h.name,localCertificate:d&&"raw"in d?d.raw:null,remoteCertificate:f&&"raw"in f?f.raw:null}}else c=null;return{remoteAddress:a,localAddress:A,security:c,remoteName:null,streamsStarted:s.streamTracker.callsStarted,streamsSucceeded:s.streamTracker.callsSucceeded,streamsFailed:s.streamTracker.callsFailed,messagesSent:s.messagesSent,messagesReceived:s.messagesReceived,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:s.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:s.lastMessageSentTimestamp,lastMessageReceivedTimestamp:s.lastMessageReceivedTimestamp,localFlowControlWindow:(r=e.state.localWindowSize)!==null&&r!==void 0?r:null,remoteFlowControlWindow:(i=e.state.remoteWindowSize)!==null&&i!==void 0?i:null}}}trace(e){vm.trace(Qs.LogVerbosity.DEBUG,Nle,"("+this.channelzRef.id+") "+e)}addProtoService(){throw new Error("Not implemented. Use addService() instead")}addService(e,n){if(e===null||typeof e!="object"||n===null||typeof n!="object")throw new Error("addService() requires two objects as arguments");let r=Object.keys(e);if(r.length===0)throw new Error("Cannot add an empty service to a server");r.forEach(i=>{let s=e[i],o;s.requestStream?s.responseStream?o="bidi":o="clientStream":s.responseStream?o="serverStream":o="unary";let a=n[i],A;if(a===void 0&&typeof s.originalName=="string"&&(a=n[s.originalName]),a!==void 0?A=a.bind(n):A=Fle(o,i),this.register(s.path,A,s.responseSerialize,s.requestDeserialize,o)===!1)throw new Error(`Method handler for ${s.path} already provided.`)})}removeService(e){if(e===null||typeof e!="object")throw new Error("removeService() requires object as argument");Object.keys(e).forEach(r=>{let i=e[r];this.unregister(i.path)})}bind(e,n){throw new Error("Not implemented. Use bindAsync() instead")}bindAsync(e,n,r){if(this.started===!0)throw new Error("server is already started");if(this.shutdown)throw new Error("bindAsync called after shutdown");if(typeof e!="string")throw new TypeError("port must be a string");if(n===null||!(n instanceof ble.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");if(typeof r!="function")throw new TypeError("callback must be a function");let i=(0,Dle.parseUri)(e);if(i===null)throw new Error(`Could not parse port "${e}"`);let s=(0,Kq.mapUriDefaultScheme)(i);if(s===null)throw new Error(`Could not get a default scheme for port "${e}"`);let o={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER};"grpc-node.max_session_memory"in this.options?o.maxSessionMemory=this.options["grpc-node.max_session_memory"]:o.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(o.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]});let a=(d,f)=>{process.nextTick(()=>r(d,f))},A=()=>{let d;if(n._isSecure()){let f=Object.assign(o,n._getSettings());f.enableTrace=this.options["grpc-node.tls_enable_trace"]===1,d=Bo.createSecureServer(f),d.on("secureConnection",E=>{E.on("error",C=>{this.trace("An incoming TLS connection closed with error: "+C.message)})})}else d=Bo.createServer(o);return d.setTimeout(0,kle),this._setupHandlers(d),d},c=(d,f,E)=>d.length===0?Promise.resolve({port:f,count:E}):Promise.all(d.map(C=>{this.trace("Attempting to bind "+(0,Xr.subchannelAddressToString)(C));let y;(0,Xr.isTcpSubchannelAddress)(C)?y={host:C.host,port:f}:y=C;let I=A();return new Promise((S,v)=>{let _=D=>{this.trace("Failed to bind "+(0,Xr.subchannelAddressToString)(C)+" with error "+D.message),S(D)};I.once("error",_),I.listen(y,()=>{if(this.shutdown){I.close(),S(new Error("bindAsync failed because server is shutdown"));return}let D=I.address(),W;typeof D=="string"?W={path:D}:W={host:D.address,port:D.port};let de=(0,qn.registerChannelzSocket)((0,Xr.subchannelAddressToString)(W),()=>({localAddress:W,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(de),this.http2ServerList.push({server:I,channelzRef:de}),this.trace("Successfully bound "+(0,Xr.subchannelAddressToString)(W)),S("port"in W?W.port:f),I.removeListener("error",_)})})})).then(C=>{let y=0;for(let I of C)if(typeof I=="number"&&(y+=1,I!==f))throw new Error("Invalid state: multiple port numbers added from single address");return{port:f,count:y+E}}),l=d=>{if(d.length===0)return Promise.resolve({port:0,count:0});let f=d[0],E=A();return new Promise((C,y)=>{let I=S=>{this.trace("Failed to bind "+(0,Xr.subchannelAddressToString)(f)+" with error "+S.message),C(l(d.slice(1)))};E.once("error",I),E.listen(f,()=>{if(this.shutdown){E.close(),C({port:0,count:0});return}let S=E.address(),v={host:S.address,port:S.port},_=(0,qn.registerChannelzSocket)((0,Xr.subchannelAddressToString)(v),()=>({localAddress:v,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(_),this.http2ServerList.push({server:E,channelzRef:_}),this.trace("Successfully bound "+(0,Xr.subchannelAddressToString)(v)),C(c(d.slice(1),S.port,1)),E.removeListener("error",I)})})},u={onSuccessfulResolution:(d,f,E)=>{if(u.onSuccessfulResolution=()=>{},this.shutdown&&a(new Error("bindAsync failed because server is shutdown"),0),d.length===0){a(new Error(`No addresses resolved for port ${e}`),0);return}let C;(0,Xr.isTcpSubchannelAddress)(d[0])?d[0].port===0?C=l(d):C=c(d,d[0].port,0):C=c(d,1,0),C.then(y=>{if(y.count===0){let I=`No address added out of total ${d.length} resolved`;vm.log(Qs.LogVerbosity.ERROR,I),a(new Error(I),0)}else y.count<d.length&&vm.log(Qs.LogVerbosity.INFO,`WARNING Only ${y.count} addresses added out of total ${d.length} resolved`),a(null,y.port)},y=>{let I=`No address added out of total ${d.length} resolved`;vm.log(Qs.LogVerbosity.ERROR,I),a(new Error(I),0)})},onError:d=>{a(new Error(d.details),0)}};(0,Kq.createResolver)(s,u,this.options).updateResolution()}forceShutdown(){for(let{server:e,channelzRef:n}of this.http2ServerList)e.listening&&e.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(n),(0,qn.unregisterChannelzRef)(n))});this.started=!1,this.shutdown=!0,this.sessions.forEach((e,n)=>{n.destroy(Bo.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),this.channelzEnabled&&(0,qn.unregisterChannelzRef)(this.channelzRef)}register(e,n,r,i,s){return this.handlers.has(e)?!1:(this.handlers.set(e,{func:n,serialize:r,deserialize:i,type:s,path:e}),!0)}unregister(e){return this.handlers.delete(e)}start(){if(this.http2ServerList.length===0||this.http2ServerList.every(({server:e})=>e.listening!==!0))throw new Error("server must be bound in order to start");if(this.started===!0)throw new Error("server is already started");this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Starting"),this.started=!0}tryShutdown(e){let n=s=>{this.channelzEnabled&&(0,qn.unregisterChannelzRef)(this.channelzRef),e(s)},r=0;function i(){r--,r===0&&n()}this.started=!1,this.shutdown=!0;for(let{server:s,channelzRef:o}of this.http2ServerList)s.listening&&(r++,s.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(o),(0,qn.unregisterChannelzRef)(o)),i()}));this.sessions.forEach((s,o)=>{o.closed||(r+=1,o.close(i))}),r===0&&n()}addHttp2Port(){throw new Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(e,n){let r=n[Bo.constants.HTTP2_HEADER_CONTENT_TYPE];return typeof r!="string"||!r.startsWith("application/grpc")?(e.respond({[Bo.constants.HTTP2_HEADER_STATUS]:Bo.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1):!0}_retrieveHandler(e){this.trace("Received call to method "+e+" at address "+this.serverAddressString);let n=this.handlers.get(e);return n===void 0?(this.trace("No handler registered for method "+e+". Sending UNIMPLEMENTED status."),null):n}_respondWithError(e,n,r=null){let i=new ba.Http2ServerCallStream(n,null,this.options);e.code===void 0&&(e.code=Qs.Status.INTERNAL),this.channelzEnabled&&(this.callTracker.addCallFailed(),r?.streamTracker.addCallFailed()),i.sendError(e)}_channelzHandler(e,n){let r=this.sessions.get(e.session);if(this.callTracker.addCallStarted(),r?.streamTracker.addCallStarted(),!this._verifyContentType(e,n)){this.callTracker.addCallFailed(),r?.streamTracker.addCallFailed();return}let i=n[$q],s=this._retrieveHandler(i);if(!s){this._respondWithError(r0(i),e,r);return}let o=new ba.Http2ServerCallStream(e,s,this.options);o.once("callEnd",a=>{a===Qs.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}),r&&(o.once("streamEnd",a=>{a?r.streamTracker.addCallSucceeded():r.streamTracker.addCallFailed()}),o.on("sendMessage",()=>{r.messagesSent+=1,r.lastMessageSentTimestamp=new Date}),o.on("receiveMessage",()=>{r.messagesReceived+=1,r.lastMessageReceivedTimestamp=new Date})),this._runHandlerForCall(o,s,n)||(this.callTracker.addCallFailed(),r?.streamTracker.addCallFailed(),o.sendError({code:Qs.Status.INTERNAL,details:`Unknown handler type: ${s.type}`}))}_streamHandler(e,n){if(this._verifyContentType(e,n)!==!0)return;let r=n[$q],i=this._retrieveHandler(r);if(!i){this._respondWithError(r0(r),e,null);return}let s=new ba.Http2ServerCallStream(e,i,this.options);this._runHandlerForCall(s,i,n)||s.sendError({code:Qs.Status.INTERNAL,details:`Unknown handler type: ${i.type}`})}_runHandlerForCall(e,n,r){var i;let s=e.receiveMetadata(r),o=(i=s.get("grpc-encoding")[0])!==null&&i!==void 0?i:"identity";s.remove("grpc-encoding");let{type:a}=n;if(a==="unary")Mle(e,n,s,o);else if(a==="clientStream")xle(e,n,s,o);else if(a==="serverStream")Lle(e,n,s,o);else if(a==="bidi")Ole(e,n,s,o);else return!1;return!0}_setupHandlers(e){if(e===null)return;let n=e.address(),r="null";n&&(typeof n=="string"?r=n:r=n.address+":"+n.port),this.serverAddressString=r;let i=this.channelzEnabled?this._channelzHandler:this._streamHandler;e.on("stream",i.bind(this)),e.on("session",s=>{var o,a,A,c,l;if(!this.started){s.destroy();return}let u=(0,qn.registerChannelzSocket)((o=s.socket.remoteAddress)!==null&&o!==void 0?o:"unknown",this.getChannelzSessionInfoGetter(s),this.channelzEnabled),h={ref:u,streamTracker:new qn.ChannelzCallTracker,messagesSent:0,messagesReceived:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};this.sessions.set(s,h);let d=s.socket.remoteAddress;this.channelzEnabled&&(this.channelzTrace.addTrace("CT_INFO","Connection established by client "+d),this.sessionChildrenTracker.refChild(u));let f=null,E=null,C=!1;if(this.maxConnectionAgeMs!==_m){let I=this.maxConnectionAgeMs/10,S=Math.random()*I*2-I;f=(A=(a=setTimeout(()=>{var v,_;C=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+d);try{s.goaway(Bo.constants.NGHTTP2_NO_ERROR,~(1<<31),Buffer.from("max_age"))}catch{s.destroy();return}s.close(),this.maxConnectionAgeGraceMs!==_m&&(E=(_=(v=setTimeout(()=>{s.destroy()},this.maxConnectionAgeGraceMs)).unref)===null||_===void 0?void 0:_.call(v))},this.maxConnectionAgeMs+S)).unref)===null||A===void 0?void 0:A.call(a)}let y=(l=(c=setInterval(()=>{var I,S;let v=(S=(I=setTimeout(()=>{C=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+d),s.close()},this.keepaliveTimeoutMs)).unref)===null||S===void 0?void 0:S.call(I);try{s.ping((_,D,W)=>{clearTimeout(v)})}catch{s.destroy()}},this.keepaliveTimeMs)).unref)===null||l===void 0?void 0:l.call(c);s.on("close",()=>{this.channelzEnabled&&(C||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+d),this.sessionChildrenTracker.unrefChild(u),(0,qn.unregisterChannelzRef)(u)),f&&clearTimeout(f),E&&clearTimeout(E),y&&clearTimeout(y),this.sessions.delete(s)})})}};Sm.Server=i0;function Mle(t,e,n,r){return p(this,null,function*(){try{let i=yield t.receiveUnaryMessage(r);if(i===void 0||t.cancelled)return;let s=new ba.ServerUnaryCallImpl(t,n,i);e.func(s,(o,a,A,c)=>{t.sendUnaryMessage(o,a,A,c)})}catch(i){t.sendError(i)}})}function xle(t,e,n,r){let i=new ba.ServerReadableStreamImpl(t,n,e.deserialize,r);function s(o,a,A,c){i.destroy(),t.sendUnaryMessage(o,a,A,c)}t.cancelled||(i.on("error",s),e.func(i,s))}function Lle(t,e,n,r){return p(this,null,function*(){try{let i=yield t.receiveUnaryMessage(r);if(i===void 0||t.cancelled)return;let s=new ba.ServerWritableStreamImpl(t,n,e.serialize,i);e.func(s)}catch(i){t.sendError(i)}})}function Ole(t,e,n,r){let i=new ba.ServerDuplexStreamImpl(t,n,e.serialize,e.deserialize,r);t.cancelled||e.func(i)}});var Zq=m(bm=>{"use strict";Object.defineProperty(bm,"__esModule",{value:!0});bm.StatusBuilder=void 0;var s0=class{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(e){return this.code=e,this}withDetails(e){return this.details=e,this}withMetadata(e){return this.metadata=e,this}build(){let e={};return this.code!==null&&(e.code=this.code),this.details!==null&&(e.details=this.details),this.metadata!==null&&(e.metadata=this.metadata),e}};bm.StatusBuilder=s0});var o0=m(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.isDuration=Qo.durationToMs=Qo.msToDuration=void 0;function Ule(t){return{seconds:t/1e3|0,nanos:t%1e3*1e6|0}}Qo.msToDuration=Ule;function Ple(t){return t.seconds*1e3+t.nanos/1e6|0}Qo.durationToMs=Ple;function Vle(t){return typeof t.seconds=="number"&&typeof t.nanos=="number"}Qo.isDuration=Vle});var f0=m(wo=>{"use strict";var a0;Object.defineProperty(wo,"__esModule",{value:!0});wo.setup=wo.OutlierDetectionLoadBalancer=wo.OutlierDetectionLoadBalancingConfig=void 0;var Rm=yr(),tG=Re(),Da=o0(),nG=g0(),rG=Zs(),qle=AE(),Gle=ro(),eG=Ti(),Hle=mm(),Yle=pt(),Wle="outlier_detection";function Lt(t){Yle.trace(tG.LogVerbosity.DEBUG,Wle,t)}var d0="outlier_detection",Jle=((a0=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)!==null&&a0!==void 0?a0:"true")==="true",zle={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},jle={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function $c(t,e,n,r){if(e in t&&typeof t[e]!==n){let i=r?`${r}.${e}`:e;throw new Error(`outlier detection config ${i} parse error: expected ${n}, got ${typeof t[e]}`)}}function A0(t,e,n){let r=n?`${n}.${e}`:e;if(e in t){if(!(0,Da.isDuration)(t[e]))throw new Error(`outlier detection config ${r} parse error: expected Duration, got ${typeof t[e]}`);if(!(t[e].seconds>=0&&t[e].seconds<=315576e6&&t[e].nanos>=0&&t[e].nanos<=999999999))throw new Error(`outlier detection config ${r} parse error: values out of range for non-negative Duaration`)}}function Dm(t,e,n){let r=n?`${n}.${e}`:e;if($c(t,e,"number",n),e in t&&!(t[e]>=0&&t[e]<=100))throw new Error(`outlier detection config ${r} parse error: value out of range for percentage (0-100)`)}var Xh=class t{constructor(e,n,r,i,s,o,a){if(this.childPolicy=a,a.length>0&&a[0].getLoadBalancerName()==="pick_first")throw new Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=e??1e4,this.baseEjectionTimeMs=n??3e4,this.maxEjectionTimeMs=r??3e5,this.maxEjectionPercent=i??10,this.successRateEjection=s?Object.assign(Object.assign({},zle),s):null,this.failurePercentageEjection=o?Object.assign(Object.assign({},jle),o):null}getLoadBalancerName(){return d0}toJsonObject(){return{interval:(0,Da.msToDuration)(this.intervalMs),base_ejection_time:(0,Da.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,Da.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:this.successRateEjection,failure_percentage_ejection:this.failurePercentageEjection,child_policy:this.childPolicy.map(e=>e.toJsonObject())}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}copyWithChildPolicy(e){return new t(this.intervalMs,this.baseEjectionTimeMs,this.maxEjectionTimeMs,this.maxEjectionPercent,this.successRateEjection,this.failurePercentageEjection,e)}static createFromJson(e){var n;if(A0(e,"interval"),A0(e,"base_ejection_time"),A0(e,"max_ejection_time"),Dm(e,"max_ejection_percent"),"success_rate_ejection"in e){if(typeof e.success_rate_ejection!="object")throw new Error("outlier detection config success_rate_ejection must be an object");$c(e.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),Dm(e.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),$c(e.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),$c(e.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in e){if(typeof e.failure_percentage_ejection!="object")throw new Error("outlier detection config failure_percentage_ejection must be an object");Dm(e.failure_percentage_ejection,"threshold","failure_percentage_ejection"),Dm(e.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),$c(e.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),$c(e.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}return new t(e.interval?(0,Da.durationToMs)(e.interval):null,e.base_ejection_time?(0,Da.durationToMs)(e.base_ejection_time):null,e.max_ejection_time?(0,Da.durationToMs)(e.max_ejection_time):null,(n=e.max_ejection_percent)!==null&&n!==void 0?n:null,e.success_rate_ejection,e.failure_percentage_ejection,e.child_policy.map(rG.validateLoadBalancingConfig))}};wo.OutlierDetectionLoadBalancingConfig=Xh;var l0=class extends Hle.BaseSubchannelWrapper{constructor(e,n){super(e),this.mapEntry=n,this.stateListeners=[],this.ejected=!1,this.refCount=0,this.childSubchannelState=e.getConnectivityState(),e.addConnectivityStateListener((r,i,s,o)=>{if(this.childSubchannelState=s,!this.ejected)for(let a of this.stateListeners)a(this,i,s,o)})}getConnectivityState(){return this.ejected?Rm.ConnectivityState.TRANSIENT_FAILURE:this.childSubchannelState}addConnectivityStateListener(e){this.stateListeners.push(e)}removeConnectivityStateListener(e){let n=this.stateListeners.indexOf(e);n>-1&&this.stateListeners.splice(n,1)}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){let e=this.mapEntry.subchannelWrappers.indexOf(this);e>=0&&this.mapEntry.subchannelWrappers.splice(e,1)}}eject(){this.ejected=!0;for(let e of this.stateListeners)e(this,this.childSubchannelState,Rm.ConnectivityState.TRANSIENT_FAILURE,-1)}uneject(){this.ejected=!1;for(let e of this.stateListeners)e(this,Rm.ConnectivityState.TRANSIENT_FAILURE,this.childSubchannelState,-1)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}};function c0(){return{success:0,failure:0}}var u0=class{constructor(){this.activeBucket=c0(),this.inactiveBucket=c0()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=c0()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}},h0=class{constructor(e,n){this.wrappedPicker=e,this.countCalls=n}pick(e){let n=this.wrappedPicker.pick(e);if(n.pickResultType===Gle.PickResultType.COMPLETE){let r=n.subchannel,i=r.getMapEntry();if(i){let s=n.onCallEnded;return this.countCalls&&(s=o=>{var a;o===tG.Status.OK?i.counter.addSuccess():i.counter.addFailure(),(a=n.onCallEnded)===null||a===void 0||a.call(n,o)}),Object.assign(Object.assign({},n),{subchannel:r.getWrappedSubchannel(),onCallEnded:s})}else return Object.assign(Object.assign({},n),{subchannel:r.getWrappedSubchannel()})}else return n}},Tm=class{constructor(e){this.addressMap=new Map,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new qle.ChildLoadBalancerHandler((0,nG.createChildChannelControlHelper)(e,{createSubchannel:(n,r)=>{let i=e.createSubchannel(n,r),s=this.addressMap.get((0,eG.subchannelAddressToString)(n)),o=new l0(i,s);return s?.currentEjectionTimestamp!==null&&o.eject(),s?.subchannelWrappers.push(o),o},updateState:(n,r)=>{n===Rm.ConnectivityState.READY?e.updateState(n,new h0(r,this.isCountingEnabled())):e.updateState(n,r)}})),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return this.latestConfig!==null&&(this.latestConfig.getSuccessRateEjectionConfig()!==null||this.latestConfig.getFailurePercentageEjectionConfig()!==null)}getCurrentEjectionPercent(){let e=0;for(let n of this.addressMap.values())n.currentEjectionTimestamp!==null&&(e+=1);return e*100/this.addressMap.size}runSuccessRateCheck(e){if(!this.latestConfig)return;let n=this.latestConfig.getSuccessRateEjectionConfig();if(!n)return;Lt("Running success rate check");let r=n.request_volume,i=0,s=[];for(let[u,h]of this.addressMap){let d=h.counter.getLastSuccesses(),f=h.counter.getLastFailures();Lt("Stats for "+u+": successes="+d+" failures="+f+" targetRequestVolume="+r),d+f>=r&&(i+=1,s.push(d/(d+f)))}if(Lt("Found "+i+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+s+"]"),i<n.minimum_hosts)return;let o=s.reduce((u,h)=>u+h)/s.length,a=0;for(let u of s){let h=u-o;a+=h*h}let A=a/s.length,c=Math.sqrt(A),l=o-c*(n.stdev_factor/1e3);Lt("stdev="+c+" ejectionThreshold="+l);for(let[u,h]of this.addressMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let d=h.counter.getLastSuccesses(),f=h.counter.getLastFailures();if(d+f<r)continue;let E=d/(d+f);if(Lt("Checking candidate "+u+" successRate="+E),E<l){let C=Math.random()*100;Lt("Candidate "+u+" randomNumber="+C+" enforcement_percentage="+n.enforcement_percentage),C<n.enforcement_percentage&&(Lt("Ejecting candidate "+u),this.eject(h,e))}}}runFailurePercentageCheck(e){if(!this.latestConfig)return;let n=this.latestConfig.getFailurePercentageEjectionConfig();if(!n)return;Lt("Running failure percentage check. threshold="+n.threshold+" request volume threshold="+n.request_volume);let r=0;for(let i of this.addressMap.values()){let s=i.counter.getLastSuccesses(),o=i.counter.getLastFailures();s+o>=n.request_volume&&(r+=1)}if(!(r<n.minimum_hosts))for(let[i,s]of this.addressMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let o=s.counter.getLastSuccesses(),a=s.counter.getLastFailures();if(Lt("Candidate successes="+o+" failures="+a),o+a<n.request_volume)continue;if(a*100/(a+o)>n.threshold){let c=Math.random()*100;Lt("Candidate "+i+" randomNumber="+c+" enforcement_percentage="+n.enforcement_percentage),c<n.enforcement_percentage&&(Lt("Ejecting candidate "+i),this.eject(s,e))}}}eject(e,n){e.currentEjectionTimestamp=new Date,e.ejectionTimeMultiplier+=1;for(let r of e.subchannelWrappers)r.eject()}uneject(e){e.currentEjectionTimestamp=null;for(let n of e.subchannelWrappers)n.uneject()}switchAllBuckets(){for(let e of this.addressMap.values())e.counter.switchBuckets()}startTimer(e){var n,r;this.ejectionTimer=setTimeout(()=>this.runChecks(),e),(r=(n=this.ejectionTimer).unref)===null||r===void 0||r.call(n)}runChecks(){let e=new Date;if(Lt("Ejection timer running"),this.switchAllBuckets(),!!this.latestConfig){this.timerStartTime=e,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(e),this.runFailurePercentageCheck(e);for(let[n,r]of this.addressMap.entries())if(r.currentEjectionTimestamp===null)r.ejectionTimeMultiplier>0&&(r.ejectionTimeMultiplier-=1);else{let i=this.latestConfig.getBaseEjectionTimeMs(),s=this.latestConfig.getMaxEjectionTimeMs(),o=new Date(r.currentEjectionTimestamp.getTime());o.setMilliseconds(o.getMilliseconds()+Math.min(i*r.ejectionTimeMultiplier,Math.max(i,s))),o<new Date&&(Lt("Unejecting "+n),this.uneject(r))}}}updateAddressList(e,n,r){if(!(n instanceof Xh))return;let i=new Set;for(let o of e)i.add((0,eG.subchannelAddressToString)(o));for(let o of i)this.addressMap.has(o)||(Lt("Adding map entry for "+o),this.addressMap.set(o,{counter:new u0,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));for(let o of this.addressMap.keys())i.has(o)||(Lt("Removing map entry for "+o),this.addressMap.delete(o));let s=(0,rG.getFirstUsableConfig)(n.getChildPolicy(),!0);if(this.childBalancer.updateAddressList(e,s,r),n.getSuccessRateEjectionConfig()||n.getFailurePercentageEjectionConfig())if(this.timerStartTime){Lt("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);let o=n.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(o)}else Lt("Starting new timer"),this.timerStartTime=new Date,this.startTimer(n.getIntervalMs()),this.switchAllBuckets();else{Lt("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer);for(let o of this.addressMap.values())this.uneject(o),o.ejectionTimeMultiplier=0}this.latestConfig=n}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return d0}};wo.OutlierDetectionLoadBalancer=Tm;function Kle(){Jle&&(0,nG.registerLoadBalancerType)(d0,Tm,Xh)}wo.setup=Kle});var g0=m(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.OutlierDetectionLoadBalancingConfig=ae.BaseSubchannelWrapper=ae.registerAdminService=ae.FilterStackFactory=ae.BaseFilter=ae.PickResultType=ae.QueuePicker=ae.UnavailablePicker=ae.ChildLoadBalancerHandler=ae.subchannelAddressToString=ae.validateLoadBalancingConfig=ae.getFirstUsableConfig=ae.registerLoadBalancerType=ae.createChildChannelControlHelper=ae.BackoffTimeout=ae.durationToMs=ae.uriToString=ae.createResolver=ae.registerResolver=ae.log=ae.trace=void 0;var iG=pt();Object.defineProperty(ae,"trace",{enumerable:!0,get:function(){return iG.trace}});Object.defineProperty(ae,"log",{enumerable:!0,get:function(){return iG.log}});var sG=Di();Object.defineProperty(ae,"registerResolver",{enumerable:!0,get:function(){return sG.registerResolver}});Object.defineProperty(ae,"createResolver",{enumerable:!0,get:function(){return sG.createResolver}});var $le=ir();Object.defineProperty(ae,"uriToString",{enumerable:!0,get:function(){return $le.uriToString}});var Xle=o0();Object.defineProperty(ae,"durationToMs",{enumerable:!0,get:function(){return Xle.durationToMs}});var Zle=Ih();Object.defineProperty(ae,"BackoffTimeout",{enumerable:!0,get:function(){return Zle.BackoffTimeout}});var Nm=Zs();Object.defineProperty(ae,"createChildChannelControlHelper",{enumerable:!0,get:function(){return Nm.createChildChannelControlHelper}});Object.defineProperty(ae,"registerLoadBalancerType",{enumerable:!0,get:function(){return Nm.registerLoadBalancerType}});Object.defineProperty(ae,"getFirstUsableConfig",{enumerable:!0,get:function(){return Nm.getFirstUsableConfig}});Object.defineProperty(ae,"validateLoadBalancingConfig",{enumerable:!0,get:function(){return Nm.validateLoadBalancingConfig}});var eue=Ti();Object.defineProperty(ae,"subchannelAddressToString",{enumerable:!0,get:function(){return eue.subchannelAddressToString}});var tue=AE();Object.defineProperty(ae,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return tue.ChildLoadBalancerHandler}});var p0=ro();Object.defineProperty(ae,"UnavailablePicker",{enumerable:!0,get:function(){return p0.UnavailablePicker}});Object.defineProperty(ae,"QueuePicker",{enumerable:!0,get:function(){return p0.QueuePicker}});Object.defineProperty(ae,"PickResultType",{enumerable:!0,get:function(){return p0.PickResultType}});var nue=rm();Object.defineProperty(ae,"BaseFilter",{enumerable:!0,get:function(){return nue.BaseFilter}});var rue=bS();Object.defineProperty(ae,"FilterStackFactory",{enumerable:!0,get:function(){return rue.FilterStackFactory}});var iue=lE();Object.defineProperty(ae,"registerAdminService",{enumerable:!0,get:function(){return iue.registerAdminService}});var sue=mm();Object.defineProperty(ae,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return sue.BaseSubchannelWrapper}});var oue=f0();Object.defineProperty(ae,"OutlierDetectionLoadBalancingConfig",{enumerable:!0,get:function(){return oue.OutlierDetectionLoadBalancingConfig}})});var oG=m(km=>{"use strict";Object.defineProperty(km,"__esModule",{value:!0});km.setup=void 0;var aue=Di(),E0=class{constructor(e,n,r){this.listener=n,this.addresses=[],this.hasReturnedResult=!1;let i;e.authority===""?i="/"+e.path:i=e.path,this.addresses=[{path:i}]}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(this.listener.onSuccessfulResolution,this.addresses,null,null,null,{}))}destroy(){}static getDefaultAuthority(e){return"localhost"}};function Aue(){(0,aue.registerResolver)("unix",E0)}km.setup=Aue});var uG=m(xm=>{"use strict";Object.defineProperty(xm,"__esModule",{value:!0});xm.setup=void 0;var aG=B("net"),Fm=Re(),m0=vn(),AG=Di(),cG=ir(),cue=pt(),lue="ip_resolver";function lG(t){cue.trace(Fm.LogVerbosity.DEBUG,lue,t)}var C0="ipv4",I0="ipv6",uue=443,Mm=class{constructor(e,n,r){var i;this.listener=n,this.addresses=[],this.error=null,this.hasReturnedResult=!1,lG("Resolver constructed for target "+(0,cG.uriToString)(e));let s=[];if(!(e.scheme===C0||e.scheme===I0)){this.error={code:Fm.Status.UNAVAILABLE,details:`Unrecognized scheme ${e.scheme} in IP resolver`,metadata:new m0.Metadata};return}let o=e.path.split(",");for(let a of o){let A=(0,cG.splitHostPort)(a);if(A===null){this.error={code:Fm.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${a}`,metadata:new m0.Metadata};return}if(e.scheme===C0&&!(0,aG.isIPv4)(A.host)||e.scheme===I0&&!(0,aG.isIPv6)(A.host)){this.error={code:Fm.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${a}`,metadata:new m0.Metadata};return}s.push({host:A.host,port:(i=A.port)!==null&&i!==void 0?i:uue})}this.addresses=s,lG("Parsed "+e.scheme+" address list "+this.addresses)}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.addresses,null,null,null,{})}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(e){return e.path.split(",")[0]}};function hue(){(0,AG.registerResolver)(C0,Mm),(0,AG.registerResolver)(I0,Mm)}xm.setup=hue});var fG=m(Hi=>{"use strict";Object.defineProperty(Hi,"__esModule",{value:!0});Hi.setup=Hi.PickFirstLoadBalancer=Hi.shuffled=Hi.PickFirstLoadBalancingConfig=void 0;var hG=Zs(),ln=yr(),Lm=ro(),due=pt(),fue=Re(),gue="pick_first";function y0(t){due.trace(fue.LogVerbosity.DEBUG,gue,t)}var Zh="pick_first",pue=250,ed=class t{constructor(e){this.shuffleAddressList=e}getLoadBalancerName(){return Zh}toJsonObject(){return{[Zh]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(e){if("shuffleAddressList"in e&&typeof e.shuffleAddressList!="boolean")throw new Error("pick_first config field shuffleAddressList must be a boolean if provided");return new t(e.shuffleAddressList===!0)}};Hi.PickFirstLoadBalancingConfig=ed;var B0=class{constructor(e){this.subchannel=e}pick(e){return{pickResultType:Lm.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}};function dG(t){let e=t.slice();for(let n=e.length-1;n>1;n--){let r=Math.floor(Math.random()*(n+1)),i=e[n];e[n]=e[r],e[r]=i}return e}Hi.shuffled=dG;var Om=class{constructor(e){this.channelControlHelper=e,this.children=[],this.currentState=ln.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(n,r,i,s,o)=>{this.onSubchannelStateUpdate(n,r,i,o)},this.triedAllSubchannels=!1,this.stickyTransientFailureMode=!1,this.requestedResolutionSinceLastUpdate=!1,this.lastError=null,this.latestAddressList=null,this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout)}allChildrenHaveReportedTF(){return this.children.every(e=>e.hasReportedTransientFailure)}calculateAndReportNewState(){this.currentPick?this.updateState(ln.ConnectivityState.READY,new B0(this.currentPick)):this.children.length===0?this.updateState(ln.ConnectivityState.IDLE,new Lm.QueuePicker(this)):this.stickyTransientFailureMode?this.updateState(ln.ConnectivityState.TRANSIENT_FAILURE,new Lm.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(ln.ConnectivityState.CONNECTING,new Lm.QueuePicker(this))}requestReresolution(){this.requestedResolutionSinceLastUpdate=!0,this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(this.allChildrenHaveReportedTF()&&(this.requestedResolutionSinceLastUpdate||this.requestReresolution(),!this.stickyTransientFailureMode)){this.stickyTransientFailureMode=!0;for(let{subchannel:e}of this.children)e.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){if(this.currentPick!==null){let e=this.currentPick;this.currentPick=null,e.unref(),e.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(e.getChannelzRef())}}onSubchannelStateUpdate(e,n,r,i){var s;if(!((s=this.currentPick)===null||s===void 0)&&s.realSubchannelEquals(e)){r!==ln.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState(),this.requestReresolution());return}for(let[o,a]of this.children.entries())if(e.realSubchannelEquals(a.subchannel)){r===ln.ConnectivityState.READY&&this.pickSubchannel(a.subchannel),r===ln.ConnectivityState.TRANSIENT_FAILURE&&(a.hasReportedTransientFailure=!0,i&&(this.lastError=i),this.maybeEnterStickyTransientFailureMode(),o===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(o+1)),a.subchannel.startConnecting();return}}startNextSubchannelConnecting(e){if(clearTimeout(this.connectionDelayTimeout),!this.triedAllSubchannels){for(let[n,r]of this.children.entries())if(n>=e){let i=r.subchannel.getConnectivityState();if(i===ln.ConnectivityState.IDLE||i===ln.ConnectivityState.CONNECTING){this.startConnecting(n);return}}this.triedAllSubchannels=!0,this.maybeEnterStickyTransientFailureMode()}}startConnecting(e){var n,r;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=e,this.children[e].subchannel.getConnectivityState()===ln.ConnectivityState.IDLE&&(y0("Start connecting to subchannel with address "+this.children[e].subchannel.getAddress()),process.nextTick(()=>{var i;(i=this.children[e])===null||i===void 0||i.subchannel.startConnecting()})),this.connectionDelayTimeout=(r=(n=setTimeout(()=>{this.startNextSubchannelConnecting(e+1)},pue)).unref)===null||r===void 0?void 0:r.call(n)}pickSubchannel(e){this.currentPick&&e.realSubchannelEquals(this.currentPick)||(y0("Pick subchannel with address "+e.getAddress()),this.stickyTransientFailureMode=!1,this.currentPick!==null&&(this.currentPick.unref(),this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef()),this.currentPick.removeConnectivityStateListener(this.subchannelStateListener)),this.currentPick=e,e.ref(),this.channelControlHelper.addChannelzChild(e.getChannelzRef()),this.resetSubchannelList(),clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState())}updateState(e,n){y0(ln.ConnectivityState[this.currentState]+" -> "+ln.ConnectivityState[e]),this.currentState=e,this.channelControlHelper.updateState(e,n)}resetSubchannelList(){for(let e of this.children)this.currentPick&&e.subchannel.realSubchannelEquals(this.currentPick)||e.subchannel.removeConnectivityStateListener(this.subchannelStateListener),e.subchannel.unref(),this.channelControlHelper.removeChannelzChild(e.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[],this.triedAllSubchannels=!1,this.requestedResolutionSinceLastUpdate=!1}connectToAddressList(e){let n=e.map(r=>({subchannel:this.channelControlHelper.createSubchannel(r,{}),hasReportedTransientFailure:!1}));for(let{subchannel:r}of n)r.ref(),this.channelControlHelper.addChannelzChild(r.getChannelzRef());this.resetSubchannelList(),this.children=n;for(let{subchannel:r}of this.children)if(r.addConnectivityStateListener(this.subchannelStateListener),r.getConnectivityState()===ln.ConnectivityState.READY){this.pickSubchannel(r);return}for(let r of this.children)r.subchannel.getConnectivityState()===ln.ConnectivityState.TRANSIENT_FAILURE&&(r.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}updateAddressList(e,n){n instanceof ed&&(n.getShuffleAddressList()&&(e=dG(e)),this.latestAddressList=e,this.connectToAddressList(e))}exitIdle(){this.currentState===ln.ConnectivityState.IDLE&&this.latestAddressList&&this.connectToAddressList(this.latestAddressList)}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return Zh}};Hi.PickFirstLoadBalancer=Om;function Eue(){(0,hG.registerLoadBalancerType)(Zh,Om,ed),(0,hG.registerDefaultLoadBalancerType)(Zh)}Hi.setup=Eue});var pG=m(Xc=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});Xc.setup=Xc.RoundRobinLoadBalancer=void 0;var mue=Zs(),un=yr(),Um=ro(),Cue=Ti(),Iue=pt(),yue=Re(),Bue="round_robin";function gG(t){Iue.trace(yue.LogVerbosity.DEBUG,Bue,t)}var Pm="round_robin",Q0=class t{getLoadBalancerName(){return Pm}constructor(){}toJsonObject(){return{[Pm]:{}}}static createFromJson(e){return new t}},w0=class{constructor(e,n=0){this.subchannelList=e,this.nextIndex=n}pick(e){let n=this.subchannelList[this.nextIndex];return this.nextIndex=(this.nextIndex+1)%this.subchannelList.length,{pickResultType:Um.PickResultType.COMPLETE,subchannel:n,status:null,onCallStarted:null,onCallEnded:null}}peekNextSubchannel(){return this.subchannelList[this.nextIndex]}},Vm=class{constructor(e){this.channelControlHelper=e,this.subchannels=[],this.currentState=un.ConnectivityState.IDLE,this.currentReadyPicker=null,this.lastError=null,this.subchannelStateListener=(n,r,i,s,o)=>{this.calculateAndUpdateState(),(i===un.ConnectivityState.TRANSIENT_FAILURE||i===un.ConnectivityState.IDLE)&&(o&&(this.lastError=o),this.channelControlHelper.requestReresolution(),n.startConnecting())}}countSubchannelsWithState(e){return this.subchannels.filter(n=>n.getConnectivityState()===e).length}calculateAndUpdateState(){if(this.countSubchannelsWithState(un.ConnectivityState.READY)>0){let e=this.subchannels.filter(r=>r.getConnectivityState()===un.ConnectivityState.READY),n=0;this.currentReadyPicker!==null&&(n=e.indexOf(this.currentReadyPicker.peekNextSubchannel()),n<0&&(n=0)),this.updateState(un.ConnectivityState.READY,new w0(e,n))}else this.countSubchannelsWithState(un.ConnectivityState.CONNECTING)>0?this.updateState(un.ConnectivityState.CONNECTING,new Um.QueuePicker(this)):this.countSubchannelsWithState(un.ConnectivityState.TRANSIENT_FAILURE)>0?this.updateState(un.ConnectivityState.TRANSIENT_FAILURE,new Um.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(un.ConnectivityState.IDLE,new Um.QueuePicker(this))}updateState(e,n){gG(un.ConnectivityState[this.currentState]+" -> "+un.ConnectivityState[e]),e===un.ConnectivityState.READY?this.currentReadyPicker=n:this.currentReadyPicker=null,this.currentState=e,this.channelControlHelper.updateState(e,n)}resetSubchannelList(){for(let e of this.subchannels)e.removeConnectivityStateListener(this.subchannelStateListener),e.unref(),this.channelControlHelper.removeChannelzChild(e.getChannelzRef());this.subchannels=[]}updateAddressList(e,n){this.resetSubchannelList(),gG("Connect to address list "+e.map(r=>(0,Cue.subchannelAddressToString)(r))),this.subchannels=e.map(r=>this.channelControlHelper.createSubchannel(r,{}));for(let r of this.subchannels){r.ref(),r.addConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.addChannelzChild(r.getChannelzRef());let i=r.getConnectivityState();(i===un.ConnectivityState.IDLE||i===un.ConnectivityState.TRANSIENT_FAILURE)&&r.startConnecting()}this.calculateAndUpdateState()}exitIdle(){for(let e of this.subchannels)e.startConnecting()}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return Pm}};Xc.RoundRobinLoadBalancer=Vm;function Que(){(0,mue.registerLoadBalancerType)(Pm,Vm,Q0)}Xc.setup=Que});var IG=m(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});q.experimental=q.addAdminServicesToServer=q.getChannelzHandlers=q.getChannelzServiceDefinition=q.InterceptorConfigurationError=q.InterceptingCall=q.RequesterBuilder=q.ListenerBuilder=q.StatusBuilder=q.getClientChannel=q.ServerCredentials=q.Server=q.setLogVerbosity=q.setLogger=q.load=q.loadObject=q.CallCredentials=q.ChannelCredentials=q.waitForClientReady=q.closeClient=q.Channel=q.makeGenericClientConstructor=q.makeClientConstructor=q.loadPackageDefinition=q.Client=q.compressionAlgorithms=q.propagate=q.connectivityState=q.status=q.logVerbosity=q.Metadata=q.credentials=void 0;var qm=Iv();Object.defineProperty(q,"CallCredentials",{enumerable:!0,get:function(){return qm.CallCredentials}});var wue=Xv();Object.defineProperty(q,"Channel",{enumerable:!0,get:function(){return wue.ChannelImplementation}});var vue=DS();Object.defineProperty(q,"compressionAlgorithms",{enumerable:!0,get:function(){return vue.CompressionAlgorithms}});var _ue=yr();Object.defineProperty(q,"connectivityState",{enumerable:!0,get:function(){return _ue.ConnectivityState}});var Gm=tE();Object.defineProperty(q,"ChannelCredentials",{enumerable:!0,get:function(){return Gm.ChannelCredentials}});var EG=$v();Object.defineProperty(q,"Client",{enumerable:!0,get:function(){return EG.Client}});var v0=Re();Object.defineProperty(q,"logVerbosity",{enumerable:!0,get:function(){return v0.LogVerbosity}});Object.defineProperty(q,"status",{enumerable:!0,get:function(){return v0.Status}});Object.defineProperty(q,"propagate",{enumerable:!0,get:function(){return v0.Propagate}});var mG=pt(),_0=e_();Object.defineProperty(q,"loadPackageDefinition",{enumerable:!0,get:function(){return _0.loadPackageDefinition}});Object.defineProperty(q,"makeClientConstructor",{enumerable:!0,get:function(){return _0.makeClientConstructor}});Object.defineProperty(q,"makeGenericClientConstructor",{enumerable:!0,get:function(){return _0.makeClientConstructor}});var Sue=vn();Object.defineProperty(q,"Metadata",{enumerable:!0,get:function(){return Sue.Metadata}});var bue=Xq();Object.defineProperty(q,"Server",{enumerable:!0,get:function(){return bue.Server}});var Due=n0();Object.defineProperty(q,"ServerCredentials",{enumerable:!0,get:function(){return Due.ServerCredentials}});var Rue=Zq();Object.defineProperty(q,"StatusBuilder",{enumerable:!0,get:function(){return Rue.StatusBuilder}});q.credentials={combineChannelCredentials:(t,...e)=>e.reduce((n,r)=>n.compose(r),t),combineCallCredentials:(t,...e)=>e.reduce((n,r)=>n.compose(r),t),createInsecure:Gm.ChannelCredentials.createInsecure,createSsl:Gm.ChannelCredentials.createSsl,createFromSecureContext:Gm.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:qm.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:qm.CallCredentials.createFromGoogleCredential,createEmpty:qm.CallCredentials.createEmpty};var Tue=t=>t.close();q.closeClient=Tue;var Nue=(t,e,n)=>t.waitForReady(e,n);q.waitForClientReady=Nue;var kue=(t,e)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};q.loadObject=kue;var Fue=(t,e,n)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};q.load=Fue;var Mue=t=>{mG.setLogger(t)};q.setLogger=Mue;var xue=t=>{mG.setLoggerVerbosity(t)};q.setLogVerbosity=xue;var Lue=t=>EG.Client.prototype.getChannel.call(t);q.getClientChannel=Lue;var Hm=zv();Object.defineProperty(q,"ListenerBuilder",{enumerable:!0,get:function(){return Hm.ListenerBuilder}});Object.defineProperty(q,"RequesterBuilder",{enumerable:!0,get:function(){return Hm.RequesterBuilder}});Object.defineProperty(q,"InterceptingCall",{enumerable:!0,get:function(){return Hm.InterceptingCall}});Object.defineProperty(q,"InterceptorConfigurationError",{enumerable:!0,get:function(){return Hm.InterceptorConfigurationError}});var CG=_a();Object.defineProperty(q,"getChannelzServiceDefinition",{enumerable:!0,get:function(){return CG.getChannelzServiceDefinition}});Object.defineProperty(q,"getChannelzHandlers",{enumerable:!0,get:function(){return CG.getChannelzHandlers}});var Oue=lE();Object.defineProperty(q,"addAdminServicesToServer",{enumerable:!0,get:function(){return Oue.addAdminServicesToServer}});var Uue=g0();q.experimental=Uue;var Pue=pS(),Vue=oG(),que=uG(),Gue=fG(),Hue=pG(),Yue=f0(),Wue=_a();Pue.setup(),Vue.setup(),que.setup(),Gue.setup(),Hue.setup(),Yue.setup(),Wue.setup()});var Xi=m((eR,wW)=>{"use strict";var WC=B("buffer"),$i=WC.Buffer;function QW(t,e){for(var n in t)e[n]=t[n]}$i.from&&$i.alloc&&$i.allocUnsafe&&$i.allocUnsafeSlow?wW.exports=WC:(QW(WC,eR),eR.Buffer=Ja);function Ja(t,e,n){return $i(t,e,n)}Ja.prototype=Object.create($i.prototype);QW($i,Ja);Ja.from=function(t,e,n){if(typeof t=="number")throw new TypeError("Argument must not be a number");return $i(t,e,n)};Ja.alloc=function(t,e,n){if(typeof t!="number")throw new TypeError("Argument must be a number");var r=$i(t);return e!==void 0?typeof n=="string"?r.fill(e,n):r.fill(e):r.fill(0),r};Ja.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return $i(t)};Ja.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return WC.SlowBuffer(t)}});var SW=m(tR=>{"use strict";var vW=B("stream").Stream,_W=B("util"),za=function(t){this.readable=this.writable=!0,this._paused=!1,this._driver=t};_W.inherits(za,vW);za.prototype.pause=function(){this._paused=!0,this._driver.messages._paused=!0};za.prototype.resume=function(){this._paused=!1,this.emit("drain");var t=this._driver.messages;t._paused=!1,t.emit("drain")};za.prototype.write=function(t){return this.writable?(this._driver.parse(t),!this._paused):!1};za.prototype.end=function(t){if(this.writable){t!==void 0&&this.write(t),this.writable=!1;var e=this._driver.messages;e.readable&&(e.readable=e.writable=!1,e.emit("end"))}};za.prototype.destroy=function(){this.end()};var ja=function(t){this.readable=this.writable=!0,this._paused=!1,this._driver=t};_W.inherits(ja,vW);ja.prototype.pause=function(){this._driver.io._paused=!0};ja.prototype.resume=function(){this._driver.io._paused=!1,this._driver.io.emit("drain")};ja.prototype.write=function(t){return this.writable?(typeof t=="string"?this._driver.text(t):this._driver.binary(t),!this._paused):!1};ja.prototype.end=function(t){t!==void 0&&this.write(t)};ja.prototype.destroy=function(){};tR.IO=za;tR.Messages=ja});var JC=m((YDe,bW)=>{"use strict";var wl=function(){this.clear()};wl.prototype.ALLOWED_DUPLICATES=["set-cookie","set-cookie2","warning","www-authenticate"];wl.prototype.clear=function(){this._sent={},this._lines=[]};wl.prototype.set=function(t,e){if(e!==void 0){t=this._strip(t),e=this._strip(e);var n=t.toLowerCase();(!this._sent.hasOwnProperty(n)||this.ALLOWED_DUPLICATES.indexOf(n)>=0)&&(this._sent[n]=!0,this._lines.push(t+": "+e+`\r
`))}};wl.prototype.toString=function(){return this._lines.join("")};wl.prototype._strip=function(t){return t.toString().replace(/^ */,"").replace(/ *$/,"")};bW.exports=wl});var RW=m((WDe,DW)=>{"use strict";var zC=Xi().Buffer,jC=function(){this._queue=[],this._queueSize=0,this._offset=0};jC.prototype.put=function(t){!t||t.length===0||(zC.isBuffer(t)||(t=zC.from(t)),this._queue.push(t),this._queueSize+=t.length)};jC.prototype.read=function(t){if(t>this._queueSize)return null;if(t===0)return zC.alloc(0);this._queueSize-=t;var e=this._queue,n=t,r=e[0],i,s;if(r.length>=t)return r.length===t?e.shift():(s=r.slice(0,t),e[0]=r.slice(t),s);for(var o=0,a=e.length;o<a&&!(n<e[o].length);o++)n-=e[o].length;return i=e.splice(0,o),n>0&&e.length>0&&(i.push(e[0].slice(0,n)),e[0]=e[0].slice(n)),zC.concat(i,t)};jC.prototype.eachByte=function(t,e){for(var n,r,i;this._queue.length>0;){for(n=this._queue[0],r=n.length;this._offset<r;)i=this._offset,this._offset+=1,t.call(e,n[i]);this._offset=0,this._queue.shift()}};DW.exports=jC});var To=m((JDe,xW)=>{"use strict";var TW=Xi().Buffer,FW=B("events").EventEmitter,rme=B("util"),NW=SW(),MW=JC(),ime=RW(),Rn=function(t,e,n){FW.call(this),Rn.validateOptions(n||{},["maxLength","masking","requireMasking","protocols"]),this._request=t,this._reader=new ime,this._options=n||{},this._maxLength=this._options.maxLength||this.MAX_LENGTH,this._headers=new MW,this.__queue=[],this.readyState=0,this.url=e,this.io=new NW.IO(this),this.messages=new NW.Messages(this),this._bindEventListeners()};rme.inherits(Rn,FW);Rn.isWebSocket=function(t){var e=t.headers.connection||"",n=t.headers.upgrade||"";return t.method==="GET"&&e.toLowerCase().split(/ *, */).indexOf("upgrade")>=0&&n.toLowerCase()==="websocket"};Rn.validateOptions=function(t,e){for(var n in t)if(e.indexOf(n)<0)throw new Error("Unrecognized option: "+n)};var kW={MAX_LENGTH:67108863,STATES:["connecting","open","closing","closed"],_bindEventListeners:function(){var t=this;this.messages.on("error",function(){}),this.on("message",function(e){var n=t.messages;n.readable&&n.emit("data",e.data)}),this.on("error",function(e){var n=t.messages;n.readable&&n.emit("error",e)}),this.on("close",function(){var e=t.messages;e.readable&&(e.readable=e.writable=!1,e.emit("end"))})},getState:function(){return this.STATES[this.readyState]||null},addExtension:function(t){return!1},setHeader:function(t,e){return this.readyState>0?!1:(this._headers.set(t,e),!0)},start:function(){if(this.readyState!==0)return!1;if(!Rn.isWebSocket(this._request))return this._failHandshake(new Error("Not a WebSocket request"));var t;try{t=this._handshakeResponse()}catch(e){return this._failHandshake(e)}return this._write(t),this._stage!==-1&&this._open(),!0},_failHandshake:function(t){var e=new MW;return e.set("Content-Type","text/plain"),e.set("Content-Length",TW.byteLength(t.message,"utf8")),e=["HTTP/1.1 400 Bad Request",e.toString(),t.message],this._write(TW.from(e.join(`\r
`),"utf8")),this._fail("protocol_error",t.message),!1},text:function(t){return this.frame(t)},binary:function(t){return!1},ping:function(){return!1},pong:function(){return!1},close:function(t,e){return this.readyState!==1?!1:(this.readyState=3,this.emit("close",new Rn.CloseEvent(null,null)),!0)},_open:function(){this.readyState=1,this.__queue.forEach(function(t){this.frame.apply(this,t)},this),this.__queue=[],this.emit("open",new Rn.OpenEvent)},_queue:function(t){return this.__queue.push(t),!0},_write:function(t){var e=this.io;e.readable&&e.emit("data",t)},_fail:function(t,e){this.readyState=2,this.emit("error",new Error(e)),this.close()}};for(nR in kW)Rn.prototype[nR]=kW[nR];var nR;Rn.ConnectEvent=function(){};Rn.OpenEvent=function(){};Rn.CloseEvent=function(t,e){this.code=t,this.reason=e};Rn.MessageEvent=function(t){this.data=t};Rn.PingEvent=function(t){this.data=t};Rn.PongEvent=function(t){this.data=t};xW.exports=Rn});var VW=m(oR=>{"use strict";var iR=B("assert");oR.HTTPParser=K;function K(t){iR.ok(t===K.REQUEST||t===K.RESPONSE||t===void 0),t===void 0||this.initialize(t),this.maxHeaderSize=K.maxHeaderSize}K.prototype.initialize=function(t,e){iR.ok(t===K.REQUEST||t===K.RESPONSE),this.type=t,this.state=t+"_LINE",this.info={headers:[],upgrade:!1},this.trailers=[],this.line="",this.isChunked=!1,this.connection="",this.headerSize=0,this.body_bytes=null,this.isUserCall=!1,this.hadError=!1};K.encoding="ascii";K.maxHeaderSize=80*1024;K.REQUEST="REQUEST";K.RESPONSE="RESPONSE";var LW=K.kOnHeaders=1,rR=K.kOnHeadersComplete=2,KC=K.kOnBody=3,sR=K.kOnMessageComplete=4;K.prototype[LW]=K.prototype[rR]=K.prototype[KC]=K.prototype[sR]=function(){};var OW=!0;Object.defineProperty(K,"kOnExecute",{get:function(){return OW=!1,99}});var UW=oR.methods=K.methods=["DELETE","GET","HEAD","POST","PUT","CONNECT","OPTIONS","TRACE","COPY","LOCK","MKCOL","MOVE","PROPFIND","PROPPATCH","SEARCH","UNLOCK","BIND","REBIND","UNBIND","ACL","REPORT","MKACTIVITY","CHECKOUT","MERGE","M-SEARCH","NOTIFY","SUBSCRIBE","UNSUBSCRIBE","PATCH","PURGE","MKCALENDAR","LINK","UNLINK","SOURCE"],PW=UW.indexOf("CONNECT");K.prototype.reinitialize=K;K.prototype.close=K.prototype.pause=K.prototype.resume=K.prototype.free=function(){};K.prototype._compatMode0_11=!1;K.prototype.getAsyncId=function(){return 0};var sme={REQUEST_LINE:!0,RESPONSE_LINE:!0,HEADER:!0};K.prototype.execute=function(t,e,n){if(!(this instanceof K))throw new TypeError("not a HTTPParser");e=e||0,n=typeof n=="number"?n:t.length,this.chunk=t,this.offset=e;var r=this.end=e+n;try{for(;this.offset<r&&!this[this.state](););}catch(i){if(this.isUserCall)throw i;return this.hadError=!0,i}return this.chunk=null,n=this.offset-e,sme[this.state]&&(this.headerSize+=n,this.headerSize>(this.maxHeaderSize||K.maxHeaderSize))?new Error("max header size exceeded"):n};var ome={REQUEST_LINE:!0,RESPONSE_LINE:!0,BODY_RAW:!0};K.prototype.finish=function(){if(!this.hadError){if(!ome[this.state])return new Error("invalid state for EOF");this.state==="BODY_RAW"&&this.userCall()(this[sR]())}};K.prototype.consume=K.prototype.unconsume=K.prototype.getCurrentBuffer=function(){};K.prototype.userCall=function(){this.isUserCall=!0;var t=this;return function(e){return t.isUserCall=!1,e}};K.prototype.nextRequest=function(){this.userCall()(this[sR]()),this.reinitialize(this.type)};K.prototype.consumeLine=function(){for(var t=this.end,e=this.chunk,n=this.offset;n<t;n++)if(e[n]===10){var r=this.line+e.toString(K.encoding,this.offset,n);return r.charAt(r.length-1)==="\r"&&(r=r.substr(0,r.length-1)),this.line="",this.offset=n+1,r}this.line+=e.toString(K.encoding,this.offset,this.end),this.offset=this.end};var ame=/^([^: \t]+):[ \t]*((?:.*[^ \t])|)/,Ame=/^[ \t]+(.*[^ \t])/;K.prototype.parseHeader=function(t,e){if(t.indexOf("\r")!==-1)throw $C("HPE_LF_EXPECTED");var n=ame.exec(t),r=n&&n[1];if(r)e.push(r),e.push(n[2]);else{var i=Ame.exec(t);i&&e.length&&(e[e.length-1]&&(e[e.length-1]+=" "),e[e.length-1]+=i[1])}};var cme=/^([A-Z-]+) ([^ ]+) HTTP\/(\d)\.(\d)$/;K.prototype.REQUEST_LINE=function(){var t=this.consumeLine();if(t){var e=cme.exec(t);if(e===null)throw $C("HPE_INVALID_CONSTANT");if(this.info.method=this._compatMode0_11?e[1]:UW.indexOf(e[1]),this.info.method===-1)throw new Error("invalid request method");this.info.url=e[2],this.info.versionMajor=+e[3],this.info.versionMinor=+e[4],this.body_bytes=0,this.state="HEADER"}};var lme=/^HTTP\/(\d)\.(\d) (\d{3}) ?(.*)$/;K.prototype.RESPONSE_LINE=function(){var t=this.consumeLine();if(t){var e=lme.exec(t);if(e===null)throw $C("HPE_INVALID_CONSTANT");this.info.versionMajor=+e[1],this.info.versionMinor=+e[2];var n=this.info.statusCode=+e[3];this.info.statusMessage=e[4],((n/100|0)===1||n===204||n===304)&&(this.body_bytes=0),this.state="HEADER"}};K.prototype.shouldKeepAlive=function(){if(this.info.versionMajor>0&&this.info.versionMinor>0){if(this.connection.indexOf("close")!==-1)return!1}else if(this.connection.indexOf("keep-alive")===-1)return!1;return!!(this.body_bytes!==null||this.isChunked)};K.prototype.HEADER=function(){var t=this.consumeLine();if(t!==void 0){var e=this.info;if(t)this.parseHeader(t,e.headers);else{for(var n=e.headers,r=!1,i,s=!1,o=0;o<n.length;o+=2)switch(n[o].toLowerCase()){case"transfer-encoding":this.isChunked=n[o+1].toLowerCase()==="chunked";break;case"content-length":if(i=+n[o+1],r){if(i!==this.body_bytes)throw $C("HPE_UNEXPECTED_CONTENT_LENGTH")}else r=!0,this.body_bytes=i;break;case"connection":this.connection+=n[o+1].toLowerCase();break;case"upgrade":s=!0;break}this.isChunked&&r&&(r=!1,this.body_bytes=null),s&&this.connection.indexOf("upgrade")!=-1?e.upgrade=this.type===K.REQUEST||e.statusCode===101:e.upgrade=e.method===PW,this.isChunked&&e.upgrade&&(this.isChunked=!1),e.shouldKeepAlive=this.shouldKeepAlive();var a;if(OW?a=this.userCall()(this[rR](e)):a=this.userCall()(this[rR](e.versionMajor,e.versionMinor,e.headers,e.method,e.url,e.statusCode,e.statusMessage,e.upgrade,e.shouldKeepAlive)),a===2)return this.nextRequest(),!0;if(this.isChunked&&!a)this.state="BODY_CHUNKHEAD";else{if(a||this.body_bytes===0)return this.nextRequest(),e.upgrade;this.body_bytes===null?this.state="BODY_RAW":this.state="BODY_SIZED"}}}};K.prototype.BODY_CHUNKHEAD=function(){var t=this.consumeLine();t!==void 0&&(this.body_bytes=parseInt(t,16),this.body_bytes?this.state="BODY_CHUNK":this.state="BODY_CHUNKTRAILERS")};K.prototype.BODY_CHUNK=function(){var t=Math.min(this.end-this.offset,this.body_bytes);this.userCall()(this[KC](this.chunk,this.offset,t)),this.offset+=t,this.body_bytes-=t,this.body_bytes||(this.state="BODY_CHUNKEMPTYLINE")};K.prototype.BODY_CHUNKEMPTYLINE=function(){var t=this.consumeLine();t!==void 0&&(iR.equal(t,""),this.state="BODY_CHUNKHEAD")};K.prototype.BODY_CHUNKTRAILERS=function(){var t=this.consumeLine();t!==void 0&&(t?this.parseHeader(t,this.trailers):(this.trailers.length&&this.userCall()(this[LW](this.trailers,"")),this.nextRequest()))};K.prototype.BODY_RAW=function(){var t=this.end-this.offset;this.userCall()(this[KC](this.chunk,this.offset,t)),this.offset=this.end};K.prototype.BODY_SIZED=function(){var t=Math.min(this.end-this.offset,this.body_bytes);this.userCall()(this[KC](this.chunk,this.offset,t)),this.offset+=t,this.body_bytes-=t,this.body_bytes||this.nextRequest()};["Headers","HeadersComplete","Body","MessageComplete"].forEach(function(t){var e=K["kOn"+t];Object.defineProperty(K.prototype,"on"+t,{get:function(){return this[e]},set:function(n){return this._compatMode0_11=!0,PW="CONNECT",this[e]=n}})});function $C(t){var e=new Error("Parse Error");return e.code=t,e}});var ZC=m((jDe,GW)=>{"use strict";var XC=VW().HTTPParser,ume=Xi().Buffer,hme={request:XC.REQUEST||"request",response:XC.RESPONSE||"response"},Tn=function(t){this._type=t,this._parser=new XC(hme[t]),this._complete=!1,this.headers={};var e=null,n=this;this._parser.onHeaderField=function(r,i,s){e=r.toString("utf8",i,i+s).toLowerCase()},this._parser.onHeaderValue=function(r,i,s){var o=r.toString("utf8",i,i+s);n.headers.hasOwnProperty(e)?n.headers[e]+=", "+o:n.headers[e]=o},this._parser.onHeadersComplete=this._parser[XC.kOnHeadersComplete]=function(r,i,s,o,a,A){var c=arguments[0];if(typeof c=="object"&&(o=c.method,a=c.url,A=c.statusCode,s=c.headers),n.method=typeof o=="number"?Tn.METHODS[o]:o,n.statusCode=A,n.url=a,!!s){for(var l=0,u=s.length,h,d;l<u;l+=2)h=s[l].toLowerCase(),d=s[l+1],n.headers.hasOwnProperty(h)?n.headers[h]+=", "+d:n.headers[h]=d;n._complete=!0}}};Tn.METHODS={0:"DELETE",1:"GET",2:"HEAD",3:"POST",4:"PUT",5:"CONNECT",6:"OPTIONS",7:"TRACE",8:"COPY",9:"LOCK",10:"MKCOL",11:"MOVE",12:"PROPFIND",13:"PROPPATCH",14:"SEARCH",15:"UNLOCK",16:"BIND",17:"REBIND",18:"UNBIND",19:"ACL",20:"REPORT",21:"MKACTIVITY",22:"CHECKOUT",23:"MERGE",24:"M-SEARCH",25:"NOTIFY",26:"SUBSCRIBE",27:"UNSUBSCRIBE",28:"PATCH",29:"PURGE",30:"MKCALENDAR",31:"LINK",32:"UNLINK"};var qW=process.version?process.version.match(/[0-9]+/g).map(function(t){return parseInt(t,10)}):[];qW[0]===0&&qW[1]===12&&(Tn.METHODS[16]="REPORT",Tn.METHODS[17]="MKACTIVITY",Tn.METHODS[18]="CHECKOUT",Tn.METHODS[19]="MERGE",Tn.METHODS[20]="M-SEARCH",Tn.METHODS[21]="NOTIFY",Tn.METHODS[22]="SUBSCRIBE",Tn.METHODS[23]="UNSUBSCRIBE",Tn.METHODS[24]="PATCH",Tn.METHODS[25]="PURGE");Tn.prototype.isComplete=function(){return this._complete};Tn.prototype.parse=function(t){var e=this._parser.execute(t,0,t.length);if(typeof e!="number"){this.error=e,this._complete=!0;return}this._complete&&(this.body=e<t.length?t.slice(e):ume.alloc(0))};GW.exports=Tn});var WW=m((KDe,YW)=>{"use strict";var aR=/([!#\$%&'\*\+\-\.\^_`\|~0-9A-Za-z]+)/,dme=/([^!#\$%&'\*\+\-\.\^_`\|~0-9A-Za-z])/g,fme=/"((?:\\[\x00-\x7f]|[^\x00-\x08\x0a-\x1f\x7f"\\])*)"/,AR=new RegExp(aR.source+"(?:=(?:"+aR.source+"|"+fme.source+"))?"),cR=new RegExp(aR.source+"(?: *; *"+AR.source+")*","g"),gme=new RegExp("^"+cR.source+"(?: *, *"+cR.source+")*$"),pme=/^-?(0|[1-9][0-9]*)(\.[0-9]+)?$/,HW=Object.prototype.hasOwnProperty,Eme={parseHeader:function(t){var e=new Td;if(t===""||t===void 0)return e;if(!gme.test(t))throw new SyntaxError("Invalid Sec-WebSocket-Extensions header: "+t);var n=t.match(cR);return n.forEach(function(r){var i=r.match(new RegExp(AR.source,"g")),s=i.shift(),o={};i.forEach(function(a){var A=a.match(AR),c=A[1],l;A[2]!==void 0?l=A[2]:A[3]!==void 0?l=A[3].replace(/\\/g,""):l=!0,pme.test(l)&&(l=parseFloat(l)),HW.call(o,c)?(o[c]=[].concat(o[c]),o[c].push(l)):o[c]=l},this),e.push(s,o)},this),e},serializeParams:function(t,e){var n=[],r=function(s,o){o instanceof Array?o.forEach(function(a){r(s,a)}):o===!0?n.push(s):typeof o=="number"?n.push(s+"="+o):dme.test(o)?n.push(s+'="'+o.replace(/"/g,'\\"')+'"'):n.push(s+"="+o)};for(var i in e)r(i,e[i]);return[t].concat(n).join("; ")}},Td=function(){this._byName={},this._inOrder=[]};Td.prototype.push=function(t,e){HW.call(this._byName,t)||(this._byName[t]=[]),this._byName[t].push(e),this._inOrder.push({name:t,params:e})};Td.prototype.eachOffer=function(t,e){for(var n=this._inOrder,r=0,i=n.length;r<i;r++)t.call(e,n[r].name,n[r].params)};Td.prototype.byName=function(t){return this._byName[t]||[]};Td.prototype.toArray=function(){return this._inOrder.slice()};YW.exports=Eme});var lR=m(($De,JW)=>{"use strict";var Nd=function(t){this._bufferSize=t,this.clear()};Nd.prototype.clear=function(){this._buffer=new Array(this._bufferSize),this._ringOffset=0,this._ringSize=this._bufferSize,this._head=0,this._tail=0,this.length=0};Nd.prototype.push=function(t){var e=!1,n=!1;this._ringSize<this._bufferSize?e=this._tail===0:this._ringOffset===this._ringSize&&(e=!0,n=this._tail===0),e&&(this._tail=this._bufferSize,this._buffer=this._buffer.concat(new Array(this._bufferSize)),this._bufferSize=this._buffer.length,n&&(this._ringSize=this._bufferSize)),this._buffer[this._tail]=t,this.length+=1,this._tail<this._ringSize&&(this._ringOffset+=1),this._tail=(this._tail+1)%this._bufferSize};Nd.prototype.peek=function(){if(this.length!==0)return this._buffer[this._head]};Nd.prototype.shift=function(){if(this.length!==0){var t=this._buffer[this._head];return this._buffer[this._head]=void 0,this.length-=1,this._ringOffset-=1,this._ringOffset===0&&this.length>0?(this._head=this._ringSize,this._ringOffset=this.length,this._ringSize=this._bufferSize):this._head=(this._head+1)%this._ringSize,t}};JW.exports=Nd});var jW=m((XDe,zW)=>{"use strict";var mme=lR(),vl=function(t,e){this._session=t,this._method=e,this._queue=new mme(vl.QUEUE_SIZE),this._stopped=!1,this.pending=0};vl.QUEUE_SIZE=8;vl.prototype.call=function(t,e,n,r){if(!this._stopped){var i={error:t,message:e,callback:n,context:r,done:!1},s=!1,o=this;if(this._queue.push(i),i.error)return i.done=!0,this._stop(),this._flushQueue();var a=function(A,c){s^(s=!0)&&(A?(o._stop(),i.error=A,i.message=null):i.message=c,i.done=!0,o._flushQueue())};try{this._session[this._method](e,a)}catch(A){a(A)}}};vl.prototype._stop=function(){this.pending=this._queue.length,this._stopped=!0};vl.prototype._flushQueue=function(){for(var t=this._queue,e;t.length>0&&t.peek().done;)e=t.shift(),e.error?(this.pending=0,t.clear()):this.pending-=1,e.callback.call(e.context,e.error,e.message)};zW.exports=vl});var uR=m((ZDe,KW)=>{"use strict";var Cme=lR(),Ka=function(){this._complete=!1,this._callbacks=new Cme(Ka.QUEUE_SIZE)};Ka.QUEUE_SIZE=4;Ka.all=function(t){var e=new Ka,n=t.length,r=n;for(n===0&&e.done();r--;)t[r].then(function(){n-=1,n===0&&e.done()});return e};Ka.prototype.then=function(t){this._complete?t():this._callbacks.push(t)};Ka.prototype.done=function(){this._complete=!0;for(var t=this._callbacks,e;e=t.shift();)e()};KW.exports=Ka});var ZW=m((eRe,XW)=>{"use strict";var $W=jW(),Ime=uR(),$a=function(t){this._ext=t[0],this._session=t[1],this._functors={incoming:new $W(this._session,"processIncomingMessage"),outgoing:new $W(this._session,"processOutgoingMessage")}};$a.prototype.pending=function(t){var e=this._functors[t];e._stopped||(e.pending+=1)};$a.prototype.incoming=function(t,e,n,r){this._exec("incoming",t,e,n,r)};$a.prototype.outgoing=function(t,e,n,r){this._exec("outgoing",t,e,n,r)};$a.prototype.close=function(){return this._closed=this._closed||new Ime,this._doClose(),this._closed};$a.prototype._exec=function(t,e,n,r,i){this._functors[t].call(e,n,function(s,o){s&&(s.message=this._ext.name+": "+s.message),r.call(i,s,o),this._doClose()},this)};$a.prototype._doClose=function(){var t=this._functors.incoming,e=this._functors.outgoing;!this._closed||t.pending+e.pending!==0||(this._session&&this._session.close(),this._session=null,this._closed.done())};XW.exports=$a});var tJ=m((tRe,eJ)=>{"use strict";var yme=ZW(),Bme=uR(),kd=function(t){this._cells=t.map(function(e){return new yme(e)}),this._stopped={incoming:!1,outgoing:!1}};kd.prototype.processIncomingMessage=function(t,e,n){this._stopped.incoming||this._loop("incoming",this._cells.length-1,-1,-1,t,e,n)};kd.prototype.processOutgoingMessage=function(t,e,n){this._stopped.outgoing||this._loop("outgoing",0,this._cells.length,1,t,e,n)};kd.prototype.close=function(t,e){this._stopped={incoming:!0,outgoing:!0};var n=this._cells.map(function(r){return r.close()});t&&Bme.all(n).then(function(){t.call(e)})};kd.prototype._loop=function(t,e,n,r,i,s,o){for(var a=this._cells,A=a.length,c=this;A--;)a[A].pending(t);var l=function(u,h,d){if(u===n)return s.call(o,h,d);a[u][t](h,d,function(f,E){f&&(c._stopped[t]=!0),l(u+r,f,E)})};l(e,null,i)};eJ.exports=kd});var sJ=m((nRe,iJ)=>{"use strict";var Fd=WW(),nJ=tJ(),eI=function(){this._rsv1=this._rsv2=this._rsv3=null,this._byName={},this._inOrder=[],this._sessions=[],this._index={}};eI.MESSAGE_OPCODES=[1,2];var rJ={add:function(t){if(typeof t.name!="string")throw new TypeError("extension.name must be a string");if(t.type!=="permessage")throw new TypeError('extension.type must be "permessage"');if(typeof t.rsv1!="boolean")throw new TypeError("extension.rsv1 must be true or false");if(typeof t.rsv2!="boolean")throw new TypeError("extension.rsv2 must be true or false");if(typeof t.rsv3!="boolean")throw new TypeError("extension.rsv3 must be true or false");if(this._byName.hasOwnProperty(t.name))throw new TypeError('An extension with name "'+t.name+'" is already registered');this._byName[t.name]=t,this._inOrder.push(t)},generateOffer:function(){var t=[],e=[],n={};return this._inOrder.forEach(function(r){var i=r.createClientSession();if(i){var s=[r,i];t.push(s),n[r.name]=s;var o=i.generateOffer();o=o?[].concat(o):[],o.forEach(function(a){e.push(Fd.serializeParams(r.name,a))},this)}},this),this._sessions=t,this._index=n,e.length>0?e.join(", "):null},activate:function(t){var e=Fd.parseHeader(t),n=[];e.eachOffer(function(r,i){var s=this._index[r];if(!s)throw new Error('Server sent an extension response for unknown extension "'+r+'"');var o=s[0],a=s[1],A=this._reserved(o);if(A)throw new Error("Server sent two extension responses that use the RSV"+A[0]+' bit: "'+A[1]+'" and "'+o.name+'"');if(a.activate(i)!==!0)throw new Error("Server sent unacceptable extension parameters: "+Fd.serializeParams(r,i));this._reserve(o),n.push(s)},this),this._sessions=n,this._pipeline=new nJ(n)},generateResponse:function(t){var e=[],n=[],r=Fd.parseHeader(t);return this._inOrder.forEach(function(i){var s=r.byName(i.name);if(!(s.length===0||this._reserved(i))){var o=i.createServerSession(s);o&&(this._reserve(i),e.push([i,o]),n.push(Fd.serializeParams(i.name,o.generateResponse())))}},this),this._sessions=e,this._pipeline=new nJ(e),n.length>0?n.join(", "):null},validFrameRsv:function(t){var e={rsv1:!1,rsv2:!1,rsv3:!1},n;if(eI.MESSAGE_OPCODES.indexOf(t.opcode)>=0)for(var r=0,i=this._sessions.length;r<i;r++)n=this._sessions[r][0],e.rsv1=e.rsv1||n.rsv1,e.rsv2=e.rsv2||n.rsv2,e.rsv3=e.rsv3||n.rsv3;return(e.rsv1||!t.rsv1)&&(e.rsv2||!t.rsv2)&&(e.rsv3||!t.rsv3)},processIncomingMessage:function(t,e,n){this._pipeline.processIncomingMessage(t,e,n)},processOutgoingMessage:function(t,e,n){this._pipeline.processOutgoingMessage(t,e,n)},close:function(t,e){if(!this._pipeline)return t.call(e);this._pipeline.close(t,e)},_reserve:function(t){this._rsv1=this._rsv1||t.rsv1&&t.name,this._rsv2=this._rsv2||t.rsv2&&t.name,this._rsv3=this._rsv3||t.rsv3&&t.name},_reserved:function(t){return this._rsv1&&t.rsv1?[1,this._rsv1]:this._rsv2&&t.rsv2?[2,this._rsv2]:this._rsv3&&t.rsv3?[3,this._rsv3]:!1}};for(hR in rJ)eI.prototype[hR]=rJ[hR];var hR;iJ.exports=eI});var cJ=m((rRe,AJ)=>{"use strict";var aJ=function(){},oJ={final:!1,rsv1:!1,rsv2:!1,rsv3:!1,opcode:null,masked:!1,maskingKey:null,lengthBytes:1,length:0,payload:null};for(dR in oJ)aJ.prototype[dR]=oJ[dR];var dR;AJ.exports=aJ});var dJ=m((iRe,hJ)=>{"use strict";var Qme=Xi().Buffer,uJ=function(){this.rsv1=!1,this.rsv2=!1,this.rsv3=!1,this.opcode=null,this.length=0,this._chunks=[]},lJ={read:function(){return this.data=this.data||Qme.concat(this._chunks,this.length)},pushFrame:function(t){this.rsv1=this.rsv1||t.rsv1,this.rsv2=this.rsv2||t.rsv2,this.rsv3=this.rsv3||t.rsv3,this.opcode===null&&(this.opcode=t.opcode),this._chunks.push(t.payload),this.length+=t.length}};for(fR in lJ)uJ.prototype[fR]=lJ[fR];var fR;hJ.exports=uJ});var pR=m((sRe,mJ)=>{"use strict";var Md=Xi().Buffer,EJ=B("crypto"),wme=B("util"),vme=sJ(),Xa=To(),fJ=cJ(),gJ=dJ(),lr=function(t,e,n){if(Xa.apply(this,arguments),this._extensions=new vme,this._stage=0,this._masking=this._options.masking,this._protocols=this._options.protocols||[],this._requireMasking=this._options.requireMasking,this._pingCallbacks={},typeof this._protocols=="string"&&(this._protocols=this._protocols.split(/ *, */)),!!this._request){var r=this._request.headers["sec-websocket-protocol"],i=this._protocols;r!==void 0&&(typeof r=="string"&&(r=r.split(/ *, */)),this.protocol=r.filter(function(s){return i.indexOf(s)>=0})[0]),this.version="hybi-"+lr.VERSION}};wme.inherits(lr,Xa);lr.VERSION="13";lr.mask=function(t,e,n){if(!e||e.length===0)return t;n=n||0;for(var r=0,i=t.length-n;r<i;r++)t[n+r]=t[n+r]^e[r%4];return t};lr.generateAccept=function(t){var e=EJ.createHash("sha1");return e.update(t+lr.GUID),e.digest("base64")};lr.GUID="258EAFA5-E914-47DA-95CA-C5AB0DC85B11";var pJ={FIN:128,MASK:128,RSV1:64,RSV2:32,RSV3:16,OPCODE:15,LENGTH:127,OPCODES:{continuation:0,text:1,binary:2,close:8,ping:9,pong:10},OPCODE_CODES:[0,1,2,8,9,10],MESSAGE_OPCODES:[0,1,2],OPENING_OPCODES:[1,2],ERRORS:{normal_closure:1e3,going_away:1001,protocol_error:1002,unacceptable:1003,encoding_error:1007,policy_violation:1008,too_large:1009,extension_error:1010,unexpected_condition:1011},ERROR_CODES:[1e3,1001,1002,1003,1007,1008,1009,1010,1011],DEFAULT_ERROR_CODE:1e3,MIN_RESERVED_ERROR:3e3,MAX_RESERVED_ERROR:4999,UTF8_MATCH:/^([\x00-\x7F]|[\xC2-\xDF][\x80-\xBF]|\xE0[\xA0-\xBF][\x80-\xBF]|[\xE1-\xEC\xEE\xEF][\x80-\xBF]{2}|\xED[\x80-\x9F][\x80-\xBF]|\xF0[\x90-\xBF][\x80-\xBF]{2}|[\xF1-\xF3][\x80-\xBF]{3}|\xF4[\x80-\x8F][\x80-\xBF]{2})*$/,addExtension:function(t){return this._extensions.add(t),!0},parse:function(t){this._reader.put(t);for(var e=!0;e;)switch(this._stage){case 0:e=this._reader.read(1),e&&this._parseOpcode(e[0]);break;case 1:e=this._reader.read(1),e&&this._parseLength(e[0]);break;case 2:e=this._reader.read(this._frame.lengthBytes),e&&this._parseExtendedLength(e);break;case 3:e=this._reader.read(4),e&&(this._stage=4,this._frame.maskingKey=e);break;case 4:e=this._reader.read(this._frame.length),e&&(this._stage=0,this._emitFrame(e));break;default:e=null}},text:function(t){return this.readyState>1?!1:this.frame(t,"text")},binary:function(t){return this.readyState>1?!1:this.frame(t,"binary")},ping:function(t,e){return this.readyState>1?!1:(t=t||"",e&&(this._pingCallbacks[t]=e),this.frame(t,"ping"))},pong:function(t){return this.readyState>1?!1:(t=t||"",this.frame(t,"pong"))},close:function(t,e){return t=t||"",e=e||this.ERRORS.normal_closure,this.readyState<=0?(this.readyState=3,this.emit("close",new Xa.CloseEvent(e,t)),!0):this.readyState===1?(this.readyState=2,this._extensions.close(function(){this.frame(t,"close",e)},this),!0):!1},frame:function(t,e,n){if(this.readyState<=0)return this._queue([t,e,n]);if(this.readyState>2)return!1;t instanceof Array&&(t=Md.from(t)),typeof t=="number"&&(t=t.toString());var r=new gJ,i=typeof t=="string",s,o;r.rsv1=r.rsv2=r.rsv3=!1,r.opcode=this.OPCODES[e||(i?"text":"binary")],s=i?Md.from(t,"utf8"):t,n&&(o=s,s=Md.allocUnsafe(2+o.length),s.writeUInt16BE(n,0),o.copy(s,2)),r.data=s;var a=function(A){var c=new fJ;c.final=!0,c.rsv1=A.rsv1,c.rsv2=A.rsv2,c.rsv3=A.rsv3,c.opcode=A.opcode,c.masked=!!this._masking,c.length=A.data.length,c.payload=A.data,c.masked&&(c.maskingKey=EJ.randomBytes(4)),this._sendFrame(c)};return this.MESSAGE_OPCODES.indexOf(r.opcode)>=0?this._extensions.processOutgoingMessage(r,function(A,c){if(A)return this._fail("extension_error",A.message);a.call(this,c)},this):a.call(this,r),!0},_sendFrame:function(t){var e=t.length,n=e<=125?2:e<=65535?4:10,r=n+(t.masked?4:0),i=Md.allocUnsafe(r+e),s=t.masked?this.MASK:0;i[0]=(t.final?this.FIN:0)|(t.rsv1?this.RSV1:0)|(t.rsv2?this.RSV2:0)|(t.rsv3?this.RSV3:0)|t.opcode,e<=125?i[1]=s|e:e<=65535?(i[1]=s|126,i.writeUInt16BE(e,2)):(i[1]=s|127,i.writeUInt32BE(Math.floor(e/4294967296),2),i.writeUInt32BE(e%4294967296,6)),t.payload.copy(i,r),t.masked&&(t.maskingKey.copy(i,n),lr.mask(i,t.maskingKey,r)),this._write(i)},_handshakeResponse:function(){var t=this._request.headers["sec-websocket-key"],e=this._request.headers["sec-websocket-version"];if(e!==lr.VERSION)throw new Error("Unsupported WebSocket version: "+e);if(typeof t!="string")throw new Error("Missing handshake request header: Sec-WebSocket-Key");this._headers.set("Upgrade","websocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Accept",lr.generateAccept(t)),this.protocol&&this._headers.set("Sec-WebSocket-Protocol",this.protocol);var n=this._extensions.generateResponse(this._request.headers["sec-websocket-extensions"]);n&&this._headers.set("Sec-WebSocket-Extensions",n);var r="HTTP/1.1 101 Switching Protocols",i=[r,this._headers.toString(),""];return Md.from(i.join(`\r
`),"utf8")},_shutdown:function(t,e,n){delete this._frame,delete this._message,this._stage=5;var r=this.readyState===1;this.readyState=2,this._extensions.close(function(){r&&this.frame(e,"close",t),this.readyState=3,n&&this.emit("error",new Error(e)),this.emit("close",new Xa.CloseEvent(t,e))},this)},_fail:function(t,e){this.readyState>1||this._shutdown(this.ERRORS[t],e,!0)},_parseOpcode:function(t){var e=[this.RSV1,this.RSV2,this.RSV3].map(function(r){return(t&r)===r}),n=this._frame=new fJ;if(n.final=(t&this.FIN)===this.FIN,n.rsv1=e[0],n.rsv2=e[1],n.rsv3=e[2],n.opcode=t&this.OPCODE,this._stage=1,!this._extensions.validFrameRsv(n))return this._fail("protocol_error","One or more reserved bits are on: reserved1 = "+(n.rsv1?1:0)+", reserved2 = "+(n.rsv2?1:0)+", reserved3 = "+(n.rsv3?1:0));if(this.OPCODE_CODES.indexOf(n.opcode)<0)return this._fail("protocol_error","Unrecognized frame opcode: "+n.opcode);if(this.MESSAGE_OPCODES.indexOf(n.opcode)<0&&!n.final)return this._fail("protocol_error","Received fragmented control frame: opcode = "+n.opcode);if(this._message&&this.OPENING_OPCODES.indexOf(n.opcode)>=0)return this._fail("protocol_error","Received new data frame but previous continuous frame is unfinished")},_parseLength:function(t){var e=this._frame;if(e.masked=(t&this.MASK)===this.MASK,e.length=t&this.LENGTH,e.length>=0&&e.length<=125){if(this._stage=e.masked?3:4,!this._checkFrameLength())return}else this._stage=2,e.lengthBytes=e.length===126?2:8;if(this._requireMasking&&!e.masked)return this._fail("unacceptable","Received unmasked frame but masking is required")},_parseExtendedLength:function(t){var e=this._frame;if(e.length=this._readUInt(t),this._stage=e.masked?3:4,this.MESSAGE_OPCODES.indexOf(e.opcode)<0&&e.length>125)return this._fail("protocol_error","Received control frame having too long payload: "+e.length);this._checkFrameLength()},_checkFrameLength:function(){var t=this._message?this._message.length:0;return t+this._frame.length>this._maxLength?(this._fail("too_large","WebSocket frame length too large"),!1):!0},_emitFrame:function(t){var e=this._frame,n=e.payload=lr.mask(t,e.maskingKey),r=e.opcode,i,s,o,a,A;if(delete this._frame,r===this.OPCODES.continuation){if(!this._message)return this._fail("protocol_error","Received unexpected continuation frame");this._message.pushFrame(e)}if((r===this.OPCODES.text||r===this.OPCODES.binary)&&(this._message=new gJ,this._message.pushFrame(e)),e.final&&this.MESSAGE_OPCODES.indexOf(r)>=0)return this._emitMessage(this._message);r===this.OPCODES.close&&(s=n.length>=2?n.readUInt16BE(0):null,o=n.length>2?this._encode(n.slice(2)):null,n.length!==0&&!(s!==null&&s>=this.MIN_RESERVED_ERROR&&s<=this.MAX_RESERVED_ERROR)&&this.ERROR_CODES.indexOf(s)<0&&(s=this.ERRORS.protocol_error),(n.length>125||n.length>2&&!o)&&(s=this.ERRORS.protocol_error),this._shutdown(s||this.DEFAULT_ERROR_CODE,o||"")),r===this.OPCODES.ping&&(this.frame(n,"pong"),this.emit("ping",new Xa.PingEvent(n.toString()))),r===this.OPCODES.pong&&(a=this._pingCallbacks,i=this._encode(n),A=a[i],delete a[i],A&&A(),this.emit("pong",new Xa.PongEvent(n.toString())))},_emitMessage:function(e){var e=this._message;e.read(),delete this._message,this._extensions.processIncomingMessage(e,function(n,r){if(n)return this._fail("extension_error",n.message);var i=r.data;if(r.opcode===this.OPCODES.text&&(i=this._encode(i)),i===null)return this._fail("encoding_error","Could not decode a text frame as UTF-8");this.emit("message",new Xa.MessageEvent(i))},this)},_encode:function(t){try{var e=t.toString("binary",0,t.length);if(!this.UTF8_MATCH.test(e))return null}catch{}return t.toString("utf8",0,t.length)},_readUInt:function(t){return t.length===2?t.readUInt16BE(0):t.readUInt32BE(0)*4294967296+t.readUInt32BE(4)}};for(gR in pJ)lr.prototype[gR]=pJ[gR];var gR;mJ.exports=lr});var QJ=m((oRe,BJ)=>{"use strict";var yJ=Xi().Buffer,_me=B("stream").Stream,CJ=B("url"),Sme=B("util"),bme=To(),Dme=JC(),Rme=ZC(),Tme={"ws:":80,"wss:":443},mR=function(t,e,n){this._client=t,this._http=new Rme("response"),this._origin=typeof t.url=="object"?t.url:CJ.parse(t.url),this._url=typeof e=="object"?e:CJ.parse(e),this._options=n||{},this._state=0,this.readable=this.writable=!0,this._paused=!1,this._headers=new Dme,this._headers.set("Host",this._origin.host),this._headers.set("Connection","keep-alive"),this._headers.set("Proxy-Connection","keep-alive");var r=this._url.auth&&yJ.from(this._url.auth,"utf8").toString("base64");r&&this._headers.set("Proxy-Authorization","Basic "+r)};Sme.inherits(mR,_me);var IJ={setHeader:function(t,e){return this._state!==0?!1:(this._headers.set(t,e),!0)},start:function(){if(this._state!==0)return!1;this._state=1;var t=this._origin,e=t.port||Tme[t.protocol],n="CONNECT "+t.hostname+":"+e+" HTTP/1.1",r=[n,this._headers.toString(),""];return this.emit("data",yJ.from(r.join(`\r
`),"utf8")),!0},pause:function(){this._paused=!0},resume:function(){this._paused=!1,this.emit("drain")},write:function(t){if(!this.writable)return!1;if(this._http.parse(t),!this._http.isComplete())return!this._paused;if(this.statusCode=this._http.statusCode,this.headers=this._http.headers,this.statusCode===200)this.emit("connect",new bme.ConnectEvent);else{var e="Can't establish a connection to the server at "+this._origin.href;this.emit("error",new Error(e))}return this.end(),!this._paused},end:function(t){this.writable&&(t!==void 0&&this.write(t),this.readable=this.writable=!1,this.emit("close"),this.emit("end"))},destroy:function(){this.end()}};for(ER in IJ)mR.prototype[ER]=IJ[ER];var ER;BJ.exports=mR});var SJ=m((aRe,_J)=>{"use strict";var vJ=Xi().Buffer,Nme=B("crypto"),kme=B("url"),Fme=B("util"),Mme=ZC(),xme=To(),_l=pR(),Lme=QJ(),xd=function(t,e){this.version="hybi-"+_l.VERSION,_l.call(this,null,t,e),this.readyState=-1,this._key=xd.generateKey(),this._accept=_l.generateAccept(this._key),this._http=new Mme("response");var n=kme.parse(this.url),r=n.auth&&vJ.from(n.auth,"utf8").toString("base64");if(this.VALID_PROTOCOLS.indexOf(n.protocol)<0)throw new Error(this.url+" is not a valid WebSocket URL");this._pathname=(n.pathname||"/")+(n.search||""),this._headers.set("Host",n.host),this._headers.set("Upgrade","websocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Key",this._key),this._headers.set("Sec-WebSocket-Version",_l.VERSION),this._protocols.length>0&&this._headers.set("Sec-WebSocket-Protocol",this._protocols.join(", ")),r&&this._headers.set("Authorization","Basic "+r)};Fme.inherits(xd,_l);xd.generateKey=function(){return Nme.randomBytes(16).toString("base64")};var wJ={VALID_PROTOCOLS:["ws:","wss:"],proxy:function(t,e){return new Lme(this,t,e)},start:function(){return this.readyState!==-1?!1:(this._write(this._handshakeRequest()),this.readyState=0,!0)},parse:function(t){if(this.readyState!==3){if(this.readyState>0)return _l.prototype.parse.call(this,t);this._http.parse(t),this._http.isComplete()&&(this._validateHandshake(),this.readyState!==3&&(this._open(),this.parse(this._http.body)))}},_handshakeRequest:function(){var t=this._extensions.generateOffer();t&&this._headers.set("Sec-WebSocket-Extensions",t);var e="GET "+this._pathname+" HTTP/1.1",n=[e,this._headers.toString(),""];return vJ.from(n.join(`\r
`),"utf8")},_failHandshake:function(t){t="Error during WebSocket handshake: "+t,this.readyState=3,this.emit("error",new Error(t)),this.emit("close",new xme.CloseEvent(this.ERRORS.protocol_error,t))},_validateHandshake:function(){if(this.statusCode=this._http.statusCode,this.headers=this._http.headers,this._http.error)return this._failHandshake(this._http.error.message);if(this._http.statusCode!==101)return this._failHandshake("Unexpected response code: "+this._http.statusCode);var t=this._http.headers,e=t.upgrade||"",n=t.connection||"",r=t["sec-websocket-accept"]||"",i=t["sec-websocket-protocol"]||"";if(e==="")return this._failHandshake("'Upgrade' header is missing");if(e.toLowerCase()!=="websocket")return this._failHandshake("'Upgrade' header value is not 'WebSocket'");if(n==="")return this._failHandshake("'Connection' header is missing");if(n.toLowerCase()!=="upgrade")return this._failHandshake("'Connection' header value is not 'Upgrade'");if(r!==this._accept)return this._failHandshake("Sec-WebSocket-Accept mismatch");if(this.protocol=null,i!==""){if(this._protocols.indexOf(i)<0)return this._failHandshake("Sec-WebSocket-Protocol mismatch");this.protocol=i}try{this._extensions.activate(this.headers["sec-websocket-extensions"])}catch(s){return this._failHandshake(s.message)}}};for(CR in wJ)xd.prototype[CR]=wJ[CR];var CR;_J.exports=xd});var BR=m((ARe,DJ)=>{"use strict";var tI=Xi().Buffer,nI=To(),Ome=B("util"),yR=function(t,e,n){nI.apply(this,arguments),this._stage=0,this.version="hixie-75",this._headers.set("Upgrade","WebSocket"),this._headers.set("Connection","Upgrade"),this._headers.set("WebSocket-Origin",this._request.headers.origin),this._headers.set("WebSocket-Location",this.url)};Ome.inherits(yR,nI);var bJ={close:function(){return this.readyState===3?!1:(this.readyState=3,this.emit("close",new nI.CloseEvent(null,null)),!0)},parse:function(t){this.readyState>1||(this._reader.put(t),this._reader.eachByte(function(e){var n;switch(this._stage){case-1:this._body.push(e),this._sendHandshakeBody();break;case 0:this._parseLeadingByte(e);break;case 1:if(this._length=(e&127)+128*this._length,this._closing&&this._length===0)return this.close();(e&128)!==128&&(this._length===0?this._stage=0:(this._skipped=0,this._stage=2));break;case 2:if(e===255)this._stage=0,n=tI.from(this._buffer).toString("utf8",0,this._buffer.length),this.emit("message",new nI.MessageEvent(n));else if(this._length)this._skipped+=1,this._skipped===this._length&&(this._stage=0);else if(this._buffer.push(e),this._buffer.length>this._maxLength)return this.close();break}},this))},frame:function(t){if(this.readyState===0)return this._queue([t]);if(this.readyState>1)return!1;typeof t!="string"&&(t=t.toString());var e=tI.byteLength(t),n=tI.allocUnsafe(e+2);return n[0]=0,n.write(t,1),n[n.length-1]=255,this._write(n),!0},_handshakeResponse:function(){var t="HTTP/1.1 101 Web Socket Protocol Handshake",e=[t,this._headers.toString(),""];return tI.from(e.join(`\r
`),"utf8")},_parseLeadingByte:function(t){(t&128)===128?(this._length=0,this._stage=1):(delete this._length,delete this._skipped,this._buffer=[],this._stage=2)}};for(IR in bJ)yR.prototype[IR]=bJ[IR];var IR;DJ.exports=yR});var FJ=m((cRe,kJ)=>{"use strict";var Ld=Xi().Buffer,Ume=To(),rI=BR(),Pme=B("crypto"),Vme=B("util"),RJ=function(t){return parseInt((t.match(/[0-9]/g)||[]).join(""),10)},TJ=function(t){return(t.match(/ /g)||[]).length},wR=function(t,e,n){rI.apply(this,arguments),this._stage=-1,this._body=[],this.version="hixie-76",this._headers.clear(),this._headers.set("Upgrade","WebSocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Origin",this._request.headers.origin),this._headers.set("Sec-WebSocket-Location",this.url)};Vme.inherits(wR,rI);var NJ={BODY_SIZE:8,start:function(){return rI.prototype.start.call(this)?(this._started=!0,this._sendHandshakeBody(),!0):!1},close:function(){return this.readyState===3?!1:(this.readyState===1&&this._write(Ld.from([255,0])),this.readyState=3,this.emit("close",new Ume.CloseEvent(null,null)),!0)},_handshakeResponse:function(){var a=this._request.headers,t=a["sec-websocket-key1"],e=a["sec-websocket-key2"];if(!t)throw new Error("Missing required header: Sec-WebSocket-Key1");if(!e)throw new Error("Missing required header: Sec-WebSocket-Key2");var n=RJ(t),r=TJ(t),i=RJ(e),s=TJ(e);if(n%r!==0||i%s!==0)throw new Error("Client sent invalid Sec-WebSocket-Key headers");this._keyValues=[n/r,i/s];var o="HTTP/1.1 101 WebSocket Protocol Handshake",a=[o,this._headers.toString(),""];return Ld.from(a.join(`\r
`),"binary")},_handshakeSignature:function(){if(this._body.length<this.BODY_SIZE)return null;var t=Pme.createHash("md5"),e=Ld.allocUnsafe(8+this.BODY_SIZE);return e.writeUInt32BE(this._keyValues[0],0),e.writeUInt32BE(this._keyValues[1],4),Ld.from(this._body).copy(e,8,0,this.BODY_SIZE),t.update(e),Ld.from(t.digest("binary"),"binary")},_sendHandshakeBody:function(){if(this._started){var t=this._handshakeSignature();t&&(this._write(t),this._stage=0,this._open(),this._body.length>this.BODY_SIZE&&this.parse(this._body.slice(this.BODY_SIZE)))}},_parseLeadingByte:function(t){if(t!==255)return rI.prototype._parseLeadingByte.call(this,t);this._closing=!0,this._length=0,this._stage=1}};for(QR in NJ)wR.prototype[QR]=NJ[QR];var QR;kJ.exports=wR});var xJ=m((lRe,MJ)=>{"use strict";var qme=B("util"),Gme=ZC(),SR=To(),Hme=BR(),Yme=FJ(),Wme=pR(),Za=function(t){SR.call(this,null,null,t),this._http=new Gme("request")};qme.inherits(Za,SR);var _R={EVENTS:["open","message","error","close","ping","pong"],_bindEventListeners:function(){this.messages.on("error",function(){}),this.on("error",function(){})},parse:function(t){if(this._delegate)return this._delegate.parse(t);if(this._http.parse(t),!!this._http.isComplete()){this.method=this._http.method,this.url=this._http.url,this.headers=this._http.headers,this.body=this._http.body;var e=this;this._delegate=Za.http(this,this._options),this._delegate.messages=this.messages,this._delegate.io=this.io,this._open(),this.EVENTS.forEach(function(n){this._delegate.on(n,function(r){e.emit(n,r)})},this),this.protocol=this._delegate.protocol,this.version=this._delegate.version,this.parse(this._http.body),this.emit("connect",new SR.ConnectEvent)}},_open:function(){this.__queue.forEach(function(t){this._delegate[t[0]].apply(this._delegate,t[1])},this),this.__queue=[]}};["addExtension","setHeader","start","frame","text","binary","ping","close"].forEach(function(t){_R[t]=function(){return this._delegate?this._delegate[t].apply(this._delegate,arguments):(this.__queue.push([t,arguments]),!0)}});for(vR in _R)Za.prototype[vR]=_R[vR];var vR;Za.isSecureRequest=function(t){if(t.connection&&t.connection.authorized!==void 0||t.socket&&t.socket.secure)return!0;var e=t.headers;return e?e.https==="on"||e["x-forwarded-ssl"]==="on"||e["x-forwarded-scheme"]==="https"||e["x-forwarded-proto"]==="https":!1};Za.determineUrl=function(t){var e=this.isSecureRequest(t)?"wss:":"ws:";return e+"//"+t.headers.host+t.url};Za.http=function(t,e){e=e||{},e.requireMasking===void 0&&(e.requireMasking=!0);var n=t.headers,r=n["sec-websocket-version"],i=n["sec-websocket-key"],s=n["sec-websocket-key1"],o=n["sec-websocket-key2"],a=this.determineUrl(t);return r||i?new Wme(t,a,e):s||o?new Yme(t,a,e):new Hme(t,a,e)};MJ.exports=Za});var Od=m((uRe,OJ)=>{"use strict";var LJ=To(),Jme=SJ(),iI=xJ(),zme={client:function(t,e){return e=e||{},e.masking===void 0&&(e.masking=!0),new Jme(t,e)},server:function(t){return t=t||{},t.requireMasking===void 0&&(t.requireMasking=!0),new iI(t)},http:function(){return iI.http.apply(iI,arguments)},isSecureRequest:function(t){return iI.isSecureRequest(t)},isWebSocket:function(t){return LJ.isWebSocket(t)},validateOptions:function(t,e){LJ.validateOptions(t,e)}};OJ.exports=zme});var Ud=m((hRe,UJ)=>{"use strict";var eA=function(t,e){this.type=t;for(var n in e)this[n]=e[n]};eA.prototype.initEvent=function(t,e,n){this.type=t,this.bubbles=e,this.cancelable=n};eA.prototype.stopPropagation=function(){};eA.prototype.preventDefault=function(){};eA.CAPTURING_PHASE=1;eA.AT_TARGET=2;eA.BUBBLING_PHASE=3;UJ.exports=eA});var bR=m((dRe,PJ)=>{"use strict";var jme=Ud(),Kme={onopen:null,onmessage:null,onerror:null,onclose:null,addEventListener:function(t,e,n){this.on(t,e)},removeEventListener:function(t,e,n){this.removeListener(t,e)},dispatchEvent:function(t){t.target=t.currentTarget=this,t.eventPhase=jme.AT_TARGET,this["on"+t.type]&&this["on"+t.type](t),this.emit(t.type,t)}};PJ.exports=Kme});var oI=m((fRe,GJ)=>{"use strict";var $me=B("stream").Stream,Xme=B("util"),Zme=Od(),VJ=bR(),sI=Ud(),At=function(t){t=t||{},Zme.validateOptions(t,["headers","extensions","maxLength","ping","proxy","tls","ca"]),this.readable=this.writable=!0;var e=t.headers;if(e)for(var n in e)this._driver.setHeader(n,e[n]);var r=t.extensions;r&&[].concat(r).forEach(this._driver.addExtension,this._driver),this._ping=t.ping,this._pingId=0,this.readyState=At.CONNECTING,this.bufferedAmount=0,this.protocol="",this.url=this._driver.url,this.version=this._driver.version;var i=this;this._driver.on("open",function(s){i._open()}),this._driver.on("message",function(s){i._receiveMessage(s.data)}),this._driver.on("close",function(s){i._beginClose(s.reason,s.code)}),this._driver.on("error",function(s){i._emitError(s.message)}),this.on("error",function(){}),this._driver.messages.on("drain",function(){i.emit("drain")}),this._ping&&(this._pingTimer=setInterval(function(){i._pingId+=1,i.ping(i._pingId.toString())},this._ping*1e3)),this._configureStream(),this._proxy||(this._stream.pipe(this._driver.io),this._driver.io.pipe(this._stream))};Xme.inherits(At,$me);At.CONNECTING=0;At.OPEN=1;At.CLOSING=2;At.CLOSED=3;At.CLOSE_TIMEOUT=3e4;var qJ={write:function(t){return this.send(t)},end:function(t){t!==void 0&&this.send(t),this.close()},pause:function(){return this._driver.messages.pause()},resume:function(){return this._driver.messages.resume()},send:function(t){return this.readyState>At.OPEN?!1:(t instanceof Buffer||(t=String(t)),this._driver.messages.write(t))},ping:function(t,e){return this.readyState>At.OPEN?!1:this._driver.ping(t,e)},close:function(t,e){if(t===void 0&&(t=1e3),e===void 0&&(e=""),t!==1e3&&(t<3e3||t>4999))throw new Error("Failed to execute 'close' on WebSocket: The code must be either 1000, or between 3000 and 4999. "+t+" is neither.");if(this.readyState<At.CLOSING){var n=this;this._closeTimer=setTimeout(function(){n._beginClose("",1006)},At.CLOSE_TIMEOUT)}this.readyState!==At.CLOSED&&(this.readyState=At.CLOSING),this._driver.close(e,t)},_configureStream:function(){var t=this;this._stream.setTimeout(0),this._stream.setNoDelay(!0),["close","end"].forEach(function(e){this._stream.on(e,function(){t._finalizeClose()})},this),this._stream.on("error",function(e){t._emitError("Network error: "+t.url+": "+e.message),t._finalizeClose()})},_open:function(){if(this.readyState===At.CONNECTING){this.readyState=At.OPEN,this.protocol=this._driver.protocol||"";var t=new sI("open");t.initEvent("open",!1,!1),this.dispatchEvent(t)}},_receiveMessage:function(t){if(this.readyState>At.OPEN)return!1;this.readable&&this.emit("data",t);var e=new sI("message",{data:t});e.initEvent("message",!1,!1),this.dispatchEvent(e)},_emitError:function(t){if(!(this.readyState>=At.CLOSING)){var e=new sI("error",{message:t});e.initEvent("error",!1,!1),this.dispatchEvent(e)}},_beginClose:function(t,e){this.readyState!==At.CLOSED&&(this.readyState=At.CLOSING,this._closeParams=[t,e],this._stream&&(this._stream.destroy(),this._stream.readable||this._finalizeClose()))},_finalizeClose:function(){if(this.readyState!==At.CLOSED){this.readyState=At.CLOSED,this._closeTimer&&clearTimeout(this._closeTimer),this._pingTimer&&clearInterval(this._pingTimer),this._stream&&this._stream.end(),this.readable&&this.emit("end"),this.readable=this.writable=!1;var t=this._closeParams?this._closeParams[0]:"",e=this._closeParams?this._closeParams[1]:1006,n=new sI("close",{code:e,reason:t});n.initEvent("close",!1,!1),this.dispatchEvent(n)}}};for(DR in qJ)At.prototype[DR]=qJ[DR];var DR;for(RR in VJ)At.prototype[RR]=VJ[RR];var RR;GJ.exports=At});var jJ=m((pRe,zJ)=>{"use strict";var eCe=B("util"),tCe=B("net"),HJ=B("tls"),YJ=B("url"),nCe=Od(),WJ=oI(),gRe=Ud(),rCe={"http:":80,"https:":443,"ws:":80,"wss:":443},JJ=["https:","wss:"],aI=function(t,e,n){n=n||{},this.url=t,this._driver=nCe.client(this.url,{maxLength:n.maxLength,protocols:e}),["open","error"].forEach(function(h){this._driver.on(h,function(){u.headers=u._driver.headers,u.statusCode=u._driver.statusCode})},this);var r=n.proxy||{},i=YJ.parse(r.origin||this.url),s=i.port||rCe[i.protocol],o=JJ.indexOf(i.protocol)>=0,a=function(){u._onConnect()},A=n.net||{},c=n.tls||{},l=r.origin?r.tls||{}:c,u=this;A.host=l.host=i.hostname,A.port=l.port=s,c.ca=c.ca||n.ca,l.servername=l.servername||i.hostname,this._stream=o?HJ.connect(l,a):tCe.connect(A,a),r.origin&&this._configureProxy(r,c),WJ.call(this,n)};eCe.inherits(aI,WJ);aI.prototype._onConnect=function(){var t=this._proxy||this._driver;t.start()};aI.prototype._configureProxy=function(t,e){var n=YJ.parse(this.url),r=JJ.indexOf(n.protocol)>=0,i=this,s;if(this._proxy=this._driver.proxy(t.origin),t.headers)for(s in t.headers)this._proxy.setHeader(s,t.headers[s]);this._proxy.pipe(this._stream,{end:!1}),this._stream.pipe(this._proxy),this._proxy.on("connect",function(){if(r){var o={socket:i._stream,servername:n.hostname};for(s in e)o[s]=e[s];i._stream=HJ.connect(o),i._configureStream()}i._driver.io.pipe(i._stream),i._stream.pipe(i._driver.io),i._driver.start()}),this._proxy.on("error",function(o){i._driver.emit("error",o)})};zJ.exports=aI});var e4=m((ERe,ZJ)=>{"use strict";var iCe=B("stream").Stream,sCe=B("util"),oCe=Od(),aCe=JC(),Sl=oI(),KJ=bR(),$J=Ud(),Pd=function(t,e,n){this.writable=!0,n=n||{},this._stream=e.socket,this._ping=n.ping||this.DEFAULT_PING,this._retry=n.retry||this.DEFAULT_RETRY;var r=oCe.isSecureRequest(t)?"https:":"http:";this.url=r+"//"+t.headers.host+t.url,this.lastEventId=t.headers["last-event-id"]||"",this.readyState=Sl.CONNECTING;var i=new aCe,s=this;if(n.headers)for(var o in n.headers)i.set(o,n.headers[o]);if(!(!this._stream||!this._stream.writable)){process.nextTick(function(){s._open()}),this._stream.setTimeout(0),this._stream.setNoDelay(!0);var a=`HTTP/1.1 200 OK\r
Content-Type: text/event-stream\r
Cache-Control: no-cache, no-store\r
Connection: close\r
`+i.toString()+`\r
retry: `+Math.floor(this._retry*1e3)+`\r
\r
`;this._write(a),this._stream.on("drain",function(){s.emit("drain")}),this._ping&&(this._pingTimer=setInterval(function(){s.ping()},this._ping*1e3)),["error","end"].forEach(function(A){s._stream.on(A,function(){s.close()})})}};sCe.inherits(Pd,iCe);Pd.isEventSource=function(t){if(t.method!=="GET")return!1;var e=(t.headers.accept||"").split(/\s*,\s*/);return e.indexOf("text/event-stream")>=0};var XJ={DEFAULT_PING:10,DEFAULT_RETRY:5,_write:function(t){if(!this.writable)return!1;try{return this._stream.write(t,"utf8")}catch{return!1}},_open:function(){if(this.readyState===Sl.CONNECTING){this.readyState=Sl.OPEN;var t=new $J("open");t.initEvent("open",!1,!1),this.dispatchEvent(t)}},write:function(t){return this.send(t)},end:function(t){t!==void 0&&this.write(t),this.close()},send:function(t,e){if(this.readyState>Sl.OPEN)return!1;t=String(t).replace(/(\r\n|\r|\n)/g,"$1data: "),e=e||{};var n="";return e.event&&(n+="event: "+e.event+`\r
`),e.id&&(n+="id: "+e.id+`\r
`),n+="data: "+t+`\r
\r
`,this._write(n)},ping:function(){return this._write(`:\r
\r
`)},close:function(){if(this.readyState>Sl.OPEN)return!1;this.readyState=Sl.CLOSED,this.writable=!1,this._pingTimer&&clearInterval(this._pingTimer),this._stream&&this._stream.end();var t=new $J("close");return t.initEvent("close",!1,!1),this.dispatchEvent(t),!0}};for(TR in XJ)Pd.prototype[TR]=XJ[TR];var TR;for(NR in KJ)Pd.prototype[NR]=KJ[NR];var NR;ZJ.exports=Pd});var r4=m((mRe,n4)=>{"use strict";var ACe=B("util"),kR=Od(),t4=oI(),No=function(t,e,n,r,i){i=i||{},this._stream=e,this._driver=kR.http(t,{maxLength:i.maxLength,protocols:r});var s=this;if(!(!this._stream||!this._stream.writable)){if(!this._stream.readable)return this._stream.end();var o=function(){s._stream.removeListener("data",o)};this._stream.on("data",o),t4.call(this,i),process.nextTick(function(){s._driver.start(),s._driver.io.write(n)})}};ACe.inherits(No,t4);No.isWebSocket=function(t){return kR.isWebSocket(t)};No.validateOptions=function(t,e){kR.validateOptions(t,e)};No.WebSocket=No;No.Client=jJ();No.EventSource=e4();n4.exports=No});var uf={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var O=function(t,e){if(!t)throw Oo(e)},Oo=function(t){return new Error("Firebase Database ("+uf.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var rN=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},zz=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],A=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(A>>10)),e[r++]=String.fromCharCode(56320+(A&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},df={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,A=i+2<t.length,c=A?t[i+2]:0,l=s>>2,u=(s&3)<<4|a>>4,h=(a&15)<<2|c>>6,d=c&63;A||(d=64,o||(h=64)),r.push(n[l],n[u],n[h],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zz(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let c=i<t.length?n[t.charAt(i)]:64;++i;let u=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||u==null)throw new PI;let h=s<<2|a>>4;if(r.push(h),c!==64){let d=a<<4&240|c>>2;if(r.push(d),u!==64){let f=c<<6&192|u;r.push(f)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},PI=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},qI=function(t){let e=rN(t);return df.encodeByteArray(e,!0)},zl=function(t){return qI(t).replace(/\./g,"")},jl=function(t){try{return df.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function iN(t){return sN(void 0,t)}function sN(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!jz(n)||(t[n]=sN(t[n],e[n]));return t}function jz(t){return t!=="__proto__"}function Kz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var $z=()=>Kz().__FIREBASE_DEFAULTS__,Xz=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Zz=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&jl(t[1]);return e&&JSON.parse(e)},GI=()=>{try{return $z()||Xz()||Zz()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},oN=t=>{var e,n;return(n=(e=GI())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ff=t=>{let e=oN(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},HI=()=>{var t;return(t=GI())===null||t===void 0?void 0:t.config};var Lo=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function gf(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[zl(JSON.stringify(n)),zl(JSON.stringify(o)),""].join(".")}function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kl(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function e3(){var t;let e=(t=GI())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aN(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function pf(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ci(){return uf.NODE_CLIENT===!0||uf.NODE_ADMIN===!0}function AN(){return!e3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ef(){try{return typeof indexedDB=="object"}catch{return!1}}function cN(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var t3="FirebaseError",hr=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=t3,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zi.prototype.create)}},Zi=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?n3(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new hr(i,a,r)}};function n3(t,e){return t.replace(r3,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var r3=/\{\$([^}]+)}/g;function uA(t){return JSON.parse(t)}function Tt(t){return JSON.stringify(t)}var lN=function(t){let e={},n={},r={},i="";try{let s=t.split(".");e=uA(jl(s[0])||""),n=uA(jl(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var uN=function(t){let e=lN(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},hN=function(t){let e=lN(t).claims;return typeof e=="object"&&e.admin===!0};function li(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Uo(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function YI(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $l(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function hA(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(nN(s)&&nN(o)){if(!hA(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function nN(t){return t!==null&&typeof t=="object"}function Xl(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var hf=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let u=0;u<16;u++)r[u]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let u=0;u<16;u++)r[u]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let u=16;u<80;u++){let h=r[u-3]^r[u-8]^r[u-14]^r[u-16];r[u]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],A=this.chain_[4],c,l;for(let u=0;u<80;u++){u<40?u<20?(c=a^s&(o^a),l=1518500249):(c=s^o^a,l=1859775393):u<60?(c=s&o|a&(s|o),l=2400959708):(c=s^o^a,l=3395469782);let h=(i<<5|i>>>27)+c+A+l+r[u]&4294967295;A=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+A&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function dN(t,e){let n=new VI(t,e);return n.subscribe.bind(n)}var VI=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");i3(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=UI),i.error===void 0&&(i.error=UI),i.complete===void 0&&(i.complete=UI);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function i3(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function UI(){}function fN(t,e){return`${t} failed: ${e} argument `}var gN=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,O(r<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Zl=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var kye=4*60*60*1e3;function Dt(t){return t&&t._delegate?t._delegate:t}uf.NODE_CLIENT=!0;var kn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Po="[DEFAULT]";var mf=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Lo;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(o3(e))try{this.getOrInitializeService({instanceIdentifier:Po})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Po){return this.instances.has(e)}getOptions(e=Po){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:s3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Po){return this.component?this.component.multipleInstances?e:Po:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function s3(t){return t===Po?void 0:t}function o3(t){return t.instantiationMode==="EAGER"}var eu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new mf(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var a3=[],pe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(pe||{}),A3={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},c3=pe.INFO,l3={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},u3=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=l3[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ui=class{constructor(e){this.name=e,this._logLevel=c3,this._logHandler=u3,this._userLogHandler=null,a3.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?A3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}};var h3=(t,e)=>e.some(n=>t instanceof n),pN,EN;function d3(){return pN||(pN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function f3(){return EN||(EN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var mN=new WeakMap,JI=new WeakMap,CN=new WeakMap,WI=new WeakMap,jI=new WeakMap;function g3(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(hi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&mN.set(n,t)}).catch(()=>{}),jI.set(e,t),e}function p3(t){if(JI.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});JI.set(t,e)}var zI={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return JI.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function IN(t){zI=t(zI)}function E3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Cf(this),e,...n);return CN.set(r,e.sort?e.sort():[e]),hi(r)}:f3().includes(t)?function(...e){return t.apply(Cf(this),e),hi(mN.get(this))}:function(...e){return hi(t.apply(Cf(this),e))}}function m3(t){return typeof t=="function"?E3(t):(t instanceof IDBTransaction&&p3(t),h3(t,d3())?new Proxy(t,zI):t)}function hi(t){if(t instanceof IDBRequest)return g3(t);if(WI.has(t))return WI.get(t);let e=m3(t);return e!==t&&(WI.set(t,e),jI.set(e,t)),e}var Cf=t=>jI.get(t);function BN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=hi(o);return r&&o.addEventListener("upgradeneeded",A=>{r(hi(o.result),A.oldVersion,A.newVersion,hi(o.transaction),A)}),n&&o.addEventListener("blocked",A=>n(A.oldVersion,A.newVersion,A)),a.then(A=>{s&&A.addEventListener("close",()=>s()),i&&A.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var C3=["get","getKey","getAll","getAllKeys","count"],I3=["put","add","delete","clear"],KI=new Map;function yN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(KI.get(e))return KI.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=I3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||C3.includes(n)))return;let s=function(o,...a){return p(this,null,function*(){let A=this.transaction(o,i?"readwrite":"readonly"),c=A.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[n](...a),i&&A.done]))[0]})};return KI.set(e,s),s}IN(t=>j(k({},t),{get:(e,n,r)=>yN(e,n)||t.get(e,n,r),has:(e,n)=>!!yN(e,n)||t.has(e,n)}));var XI=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(y3(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function y3(t){let e=t.getComponent();return e?.type==="VERSION"}var ZI="@firebase/app",QN="0.10.1";var Vo=new ui("@firebase/app"),B3="@firebase/app-compat",Q3="@firebase/analytics-compat",w3="@firebase/analytics",v3="@firebase/app-check-compat",_3="@firebase/app-check",S3="@firebase/auth",b3="@firebase/auth-compat",D3="@firebase/database",R3="@firebase/database-compat",T3="@firebase/functions",N3="@firebase/functions-compat",k3="@firebase/installations",F3="@firebase/installations-compat",M3="@firebase/messaging",x3="@firebase/messaging-compat",L3="@firebase/performance",O3="@firebase/performance-compat",U3="@firebase/remote-config",P3="@firebase/remote-config-compat",V3="@firebase/storage",q3="@firebase/storage-compat",G3="@firebase/firestore",H3="@firebase/firestore-compat",Y3="firebase",W3="10.11.0";var ey="[DEFAULT]",J3={[ZI]:"fire-core",[B3]:"fire-core-compat",[w3]:"fire-analytics",[Q3]:"fire-analytics-compat",[_3]:"fire-app-check",[v3]:"fire-app-check-compat",[S3]:"fire-auth",[b3]:"fire-auth-compat",[D3]:"fire-rtdb",[R3]:"fire-rtdb-compat",[T3]:"fire-fn",[N3]:"fire-fn-compat",[k3]:"fire-iid",[F3]:"fire-iid-compat",[M3]:"fire-fcm",[x3]:"fire-fcm-compat",[L3]:"fire-perf",[O3]:"fire-perf-compat",[U3]:"fire-rc",[P3]:"fire-rc-compat",[V3]:"fire-gcs",[q3]:"fire-gcs-compat",[G3]:"fire-fst",[H3]:"fire-fst-compat","fire-js":"fire-js",[Y3]:"fire-js-all"};var tu=new Map,z3=new Map,ty=new Map;function wN(t,e){try{t.container.addComponent(e)}catch(n){Vo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function di(t){let e=t.name;if(ty.has(e))return Vo.debug(`There were multiple attempts to register component ${e}.`),!1;ty.set(e,t);for(let n of tu.values())wN(n,t);for(let n of z3.values())wN(n,t);return!0}function ru(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function dA(t){return t.settings!==void 0}var j3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ns=new Zi("app","Firebase",j3);var ny=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ns.create("app-deleted",{appName:this._name})}};var ks=W3;function sy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ey,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ns.create("bad-app-name",{appName:String(i)});if(n||(n=HI()),!n)throw Ns.create("no-options");let s=tu.get(i);if(s){if(hA(n,s.options)&&hA(r,s.config))return s;throw Ns.create("duplicate-app",{appName:i})}let o=new eu(i);for(let A of ty.values())o.addComponent(A);let a=new ny(n,r,o);return tu.set(i,a),a}function qo(t=ey){let e=tu.get(t);if(!e&&t===ey&&HI())return sy();if(!e)throw Ns.create("no-app",{appName:t});return e}function If(){return Array.from(tu.values())}function ct(t,e,n){var r;let i=(r=J3[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vo.warn(a.join(" "));return}di(new kn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var K3="firebase-heartbeat-database",$3=1,nu="firebase-heartbeat-store",$I=null;function bN(){return $I||($I=BN(K3,$3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ns.create("idb-open",{originalErrorMessage:t.message})})),$I}function X3(t){return p(this,null,function*(){try{let n=(yield bN()).transaction(nu),r=yield n.objectStore(nu).get(DN(t));return yield n.done,r}catch(e){if(e instanceof hr)Vo.warn(e.message);else{let n=Ns.create("idb-get",{originalErrorMessage:e?.message});Vo.warn(n.message)}}})}function vN(t,e){return p(this,null,function*(){try{let r=(yield bN()).transaction(nu,"readwrite");yield r.objectStore(nu).put(e,DN(t)),yield r.done}catch(n){if(n instanceof hr)Vo.warn(n.message);else{let r=Ns.create("idb-set",{originalErrorMessage:n?.message});Vo.warn(r.message)}}})}function DN(t){return`${t.name}!${t.options.appId}`}var Z3=1024,e9=30*24*60*60*1e3,ry=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new iy(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return p(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_N();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=e9}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return p(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=_N(),{heartbeatsToSend:r,unsentEntries:i}=t9(this._heartbeatsCache.heartbeats),s=zl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function _N(){return new Date().toISOString().substring(0,10)}function t9(t,e=Z3){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),SN(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),SN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var iy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return Ef()?cN().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield X3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return vN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return vN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function SN(t){return zl(JSON.stringify({version:2,heartbeats:t})).length}function n9(t){di(new kn("platform-logger",e=>new XI(e),"PRIVATE")),di(new kn("heartbeat",e=>new ry(e),"PRIVATE")),ct(ZI,QN,t),ct(ZI,QN,"esm2017"),ct("fire-js","")}n9("");var r9="firebase",i9="10.11.0";ct(r9,i9,"app");var Fs=new xI("ANGULARFIRE2_VERSION");function iu(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Yo=(t,e)=>{let n=e?[e]:If(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Ho=class{constructor(){return Yo(s9)}},s9="app-check";function fA(){}var yf=class{zone;delegate;constructor(e,n=zT){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},oy=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fA,{},fA,fA)),n.pipe(KT({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Wo=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new yf(Zone.current)),this.insideAngular=n.run(()=>new yf(Zone.current,JT)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(lf(Rs))};static \u0275prov=cf({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Qf(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function o9(t){return Qf().ngZone.runOutsideAngular(()=>t())}function Go(t){return Qf().ngZone.run(()=>t())}function a9(t){return A9(Qf())(t)}function A9(t){return function(n){return n=n.lift(new oy(t.ngZone)),n.pipe(bI(t.outsideAngular),SI(t.insideAngular))}}var c9=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Go(()=>t.apply(void 0,r))},en=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Go(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fA,{},fA,fA))),r[s]=c9(r[s],n));let i=o9(()=>t.apply(this,r));if(!e)if(i instanceof Gl){let s=Qf();return i.pipe(bI(s.outsideAngular),SI(s.insideAngular))}else return Go(()=>i);return i instanceof Gl?i.pipe(a9):i instanceof Promise?Go(()=>new Promise((s,o)=>i.then(a=>Go(()=>s(a)),a=>Go(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Go(()=>i)};var es=class{constructor(e){return e}},Jo=class{constructor(){return If()}};function l9(t){return t&&t.length===1?t[0]:new es(qo())}var ay=new Yn("angularfire2._apps"),u9={provide:es,useFactory:l9,deps:[[new Wn,ay]]},h9={provide:Jo,deps:[[new Wn,ay]]};function d9(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new es(r)}}var f9=(()=>{class t{constructor(n){ct("angularfire",Fs.full,"core"),ct("angularfire",Fs.full,"app"),ct("angular",ZT.full,n.toString())}static \u0275fac=function(r){return new(r||t)(lf($T))};static \u0275mod=Ai({type:t});static \u0275inj=ai({providers:[u9,h9]})}return t})();function EBe(t,...e){return{ngModule:f9,providers:[{provide:ay,useFactory:d9(t),multi:!0,deps:[Rs,xo,Wo,...e]}]}}var mBe=en(sy,!0);var ic=ql(sw(),1);function I1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var y1=I1,B1=new Zi("auth","Firebase",I1());var fp=new ui("@firebase/auth");function hte(t,...e){fp.logLevel<=pe.WARN&&fp.warn(`Auth (${ks}): ${t}`,...e)}function hp(t,...e){fp.logLevel<=pe.ERROR&&fp.error(`Auth (${ks}): ${t}`,...e)}function d1(t,...e){throw Ew(t,...e)}function pw(t,...e){return Ew(t,...e)}function Q1(t,e,n){let r=Object.assign(Object.assign({},y1()),{[e]:n});return new Zi("auth","Firebase",r).create(e,{appName:t.name})}function dp(t){return Q1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ew(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return B1.create(t,...e)}function Fe(t,e,...n){if(!t)throw Ew(e,...n)}function Wu(t){let e="INTERNAL ASSERTION FAILED: "+t;throw hp(e),new Error(e)}function gp(t,e){t||Wu(e)}function dte(){return f1()==="http:"||f1()==="https:"}function f1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function fte(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dte()||aN()||"connection"in navigator)?navigator.onLine:!0}function gte(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Aw=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,gp(n>e,"Short delay should be less than long delay!"),this.isMobile=Kl()||pf()}get(){return fte()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function pte(t,e){gp(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var ju=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Ete={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var mte=new Aw(3e4,6e4);function w1(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ip(s,o,a,A){return p(this,arguments,function*(t,e,n,r,i={}){return v1(t,i,()=>p(this,null,function*(){let c={},l={};r&&(e==="GET"?l=r:c={body:JSON.stringify(r)});let u=Xl(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),ju.fetch()(_1(t,t.config.apiHost,n,u),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},c))}))})}function v1(t,e,n){return p(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Ete),e);try{let i=new cw(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw up(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[A,c]=a.split(" : ");if(A==="FEDERATED_USER_ID_ALREADY_LINKED")throw up(t,"credential-already-in-use",o);if(A==="EMAIL_EXISTS")throw up(t,"email-already-in-use",o);if(A==="USER_DISABLED")throw up(t,"user-disabled",o);let l=r[A]||A.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Q1(t,l,c);d1(t,l)}}catch(i){if(i instanceof hr)throw i;d1(t,"network-request-failed",{message:String(i)})}})}function _1(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?pte(t.config,i):`${t.config.apiScheme}://${i}`}var cw=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pw(this.auth,"network-request-failed")),mte.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function up(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=pw(t,e,r);return i.customData._tokenResponse=n,i}function Cte(t,e){return p(this,null,function*(){return Ip(t,"POST","/v1/accounts:delete",e)})}function S1(t,e){return p(this,null,function*(){return Ip(t,"POST","/v1/accounts:lookup",e)})}function Ju(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function mw(t,e=!1){return p(this,null,function*(){let n=Dt(t),r=yield n.getIdToken(e),i=b1(r);Fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ju(ow(i.auth_time)),issuedAtTime:Ju(ow(i.iat)),expirationTime:Ju(ow(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function ow(t){return Number(t)*1e3}function b1(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hp("JWT malformed, contained fewer than 3 sections"),null;try{let i=jl(n);return i?JSON.parse(i):(hp("Failed to decode base64 JWT payload"),null)}catch(i){return hp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function g1(t){let e=b1(t);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function lw(t,e,n=!1){return p(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof hr&&Ite(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function Ite({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var uw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ku=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ju(this.lastLoginAt),this.creationTime=Ju(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function pp(t){return p(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield lw(t,S1(n,{idToken:r}));Fe(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?D1(s.providerUserInfo):[],a=yte(t.providerData,o),A=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!a?.length,l=A?c:!1,u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ku(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,u)})}function Cw(t){return p(this,null,function*(){let e=Dt(t);yield pp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function yte(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function D1(t){return t.map(e=>{var{providerId:n}=e,r=_I(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Bte(t,e){return p(this,null,function*(){let n=yield v1(t,{},()=>p(this,null,function*(){let r=Xl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=_1(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ju.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Qte(t,e){return p(this,null,function*(){return Ip(t,"POST","/v2/accounts:revokeToken",w1(t,e))})}var zu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");let n=g1(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return p(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return p(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield Bte(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(Fe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Fe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Fe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Wu("not implemented")}};function zs(t,e){Fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var $u=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=_I(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ku(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let n=yield lw(this,this.stsTokenManager.getToken(this.auth,e));return Fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return mw(this,e)}reload(){return Cw(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return p(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield pp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){if(dA(this.auth.app))return Promise.reject(dp(this.auth));let e=yield this.getIdToken();return yield lw(this,Cte(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,A,c,l;let u=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,d=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,f=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,C=(A=n._redirectEventId)!==null&&A!==void 0?A:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,I=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:S,emailVerified:v,isAnonymous:_,providerData:D,stsTokenManager:W}=n;Fe(S&&W,e,"internal-error");let de=zu.fromJSON(this.name,W);Fe(typeof S=="string",e,"internal-error"),zs(u,e.name),zs(h,e.name),Fe(typeof v=="boolean",e,"internal-error"),Fe(typeof _=="boolean",e,"internal-error"),zs(d,e.name),zs(f,e.name),zs(E,e.name),zs(C,e.name),zs(y,e.name),zs(I,e.name);let Ce=new t({uid:S,auth:e,email:h,emailVerified:v,displayName:u,isAnonymous:_,photoURL:f,phoneNumber:d,tenantId:E,stsTokenManager:de,createdAt:y,lastLoginAt:I});return D&&Array.isArray(D)&&(Ce.providerData=D.map(le=>Object.assign({},le))),C&&(Ce._redirectEventId=C),Ce}static _fromIdTokenResponse(e,n,r=!1){return p(this,null,function*(){let i=new zu;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield pp(s),s})}static _fromGetAccountInfoResponse(e,n,r){return p(this,null,function*(){let i=n.users[0];Fe(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?D1(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new zu;a.updateFromIdToken(r);let A=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ku(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(A,c),A})}};var p1=new Map;function fa(t){gp(t instanceof Function,"Expected a class definition");let e=p1.get(t);return e?(gp(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,p1.set(t,e),e)}var wte=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,r){return p(this,null,function*(){this.storage[n]=r})}_get(n){return p(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),hw=wte;function aw(t,e,n){return`firebase:${t}:${e}:${n}`}var Ep=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=aw(this.userKey,i.apiKey,s),this.fullPersistenceKey=aw("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?$u._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(this,null,function*(){if(!n.length)return new t(fa(hw),e,r);let i=(yield Promise.all(n.map(c=>p(this,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),s=i[0]||fa(hw),o=aw(r,e.config.apiKey,e.name),a=null;for(let c of n)try{let l=yield c._get(o);if(l){let u=$u._fromJSON(e,l);c!==s&&(a=u),s=c;break}}catch{}let A=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!A.length?new t(s,e,r):(s=A[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(c=>p(this,null,function*(){if(c!==s)try{yield c._remove(o)}catch{}}))),new t(s,e,r))})}};function E1(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bte(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vte(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Rte(e))return"Blackberry";if(Tte(e))return"Webos";if(_te(e))return"Safari";if((e.includes("chrome/")||Ste(e))&&!e.includes("edge/"))return"Chrome";if(Dte(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function vte(t=Zt()){return/firefox\//i.test(t)}function _te(t=Zt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ste(t=Zt()){return/crios\//i.test(t)}function bte(t=Zt()){return/iemobile/i.test(t)}function Dte(t=Zt()){return/android/i.test(t)}function Rte(t=Zt()){return/blackberry/i.test(t)}function Tte(t=Zt()){return/webos/i.test(t)}function R1(t,e=[]){let n;switch(t){case"Browser":n=E1(Zt());break;case"Worker":n=`${E1(Zt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ks}/${r}`}var dw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let A=e(s);o(A)}catch(A){a(A)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Nte(n){return p(this,arguments,function*(t,e={}){return Ip(t,"GET","/v2/passwordPolicy",w1(t,e))})}var kte=6,fw=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:kte,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let A={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,A),this.validatePasswordCharacterOptions(e,A),A.isValid&&(A.isValid=(n=A.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),A.isValid&&(A.isValid=(r=A.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),A.isValid&&(A.isValid=(i=A.containsLowercaseLetter)!==null&&i!==void 0?i:!0),A.isValid&&(A.isValid=(s=A.containsUppercaseLetter)!==null&&s!==void 0?s:!0),A.isValid&&(A.isValid=(o=A.containsNumericCharacter)!==null&&o!==void 0?o:!0),A.isValid&&(A.isValid=(a=A.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),A}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var mp=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cp(this),this.idTokenSubscription=new Cp(this),this.beforeStateQueue=new dw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=B1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fa(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Ep.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return p(this,null,function*(){try{let n=yield S1(this,{idToken:e}),r=yield $u._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return p(this,null,function*(){var n;if(dA(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,A=yield this.tryRedirectSignIn(e);(!o||o===a)&&A?.user&&(i=A.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield pp(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=gte()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){if(dA(this.app))return Promise.reject(dp(this));let n=e?Dt(e):null;return n&&Fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return p(this,null,function*(){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return dA(this.app)?Promise.reject(dp(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return dA(this.app)?Promise.reject(dp(this)):this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(fa(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield Nte(this),n=new fw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Qte(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return p(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&fa(e)||this._popupRedirectResolver;Fe(n,this,"argument-error"),this.redirectPersistenceManager=yield Ep.create(this,[fa(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let A=e.addObserver(n,r,i);return()=>{o=!0,A()}}else{let A=e.addObserver(n);return()=>{o=!0,A()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=R1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return p(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&hte(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Fte(t){return Dt(t)}var Cp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=dN(n=>this.observer=n)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function Mte(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(fa);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var m1="@firebase/auth",C1="1.7.1";var gw=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function xte(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Lte(t){di(new kn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Fe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let A={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:R1(t)},c=new mp(r,i,s,A);return Mte(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),di(new kn("auth-internal",e=>{let n=Fte(e.getProvider("auth").getImmediate());return(r=>new gw(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ct(m1,C1,xte(t)),ct(m1,C1,"esm2017")}ju.initialize(ic.fetch,ic.Headers,ic.Response);Lte("Node");var tve=pw("operation-not-supported-in-this-environment");mp.prototype.setPersistence=()=>p(void 0,null,function*(){});var Mve=ql(sw(),1);var xne="auth";var sc=class{constructor(){return Yo(xne)}};import{inspect as Jue,TextEncoder as zue,TextDecoder as C0e}from"util";import{randomBytes as jue}from"crypto";var Lne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hr={},U,Vw=Vw||{},oe=Lne||self;function Fp(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function uh(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function One(t){return Object.prototype.hasOwnProperty.call(t,Iw)&&t[Iw]||(t[Iw]=++Une)}var Iw="closure_uid_"+(1e9*Math.random()>>>0),Une=0;function Pne(t,e,n){return t.call.apply(t.bind,arguments)}function Vne(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function sn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?sn=Pne:sn=Vne,sn.apply(null,arguments)}function yp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ft(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function js(){this.s=this.s,this.o=this.o}var qne=0;js.prototype.s=!1;js.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),qne!=0)&&One(this)};js.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var G1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function qw(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function T1(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Fp(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function on(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}on.prototype.h=function(){this.defaultPrevented=!0};var Gne=function(){if(!oe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};oe.addEventListener("test",n,e),oe.removeEventListener("test",n,e)}catch{}return t}();function rh(t){return/^[\s\xa0]*$/.test(t)}function Mp(){var t=oe.navigator;return t&&(t=t.userAgent)?t:""}function _i(t){return Mp().indexOf(t)!=-1}function Gw(t){return Gw[" "](t),t}Gw[" "]=function(){};function Hne(t,e){var n=Nre;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Yne=_i("Opera"),cc=_i("Trident")||_i("MSIE"),H1=_i("Edge"),vw=H1||cc,Y1=_i("Gecko")&&!(Mp().toLowerCase().indexOf("webkit")!=-1&&!_i("Edge"))&&!(_i("Trident")||_i("MSIE"))&&!_i("Edge"),Wne=Mp().toLowerCase().indexOf("webkit")!=-1&&!_i("Edge");function W1(){var t=oe.document;return t?t.documentMode:void 0}var _w;e:{if(Bp="",Qp=function(){var t=Mp();if(Y1)return/rv:([^\);]+)(\)|;)/.exec(t);if(H1)return/Edge\/([\d\.]+)/.exec(t);if(cc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Wne)return/WebKit\/(\S+)/.exec(t);if(Yne)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Qp&&(Bp=Qp?Qp[1]:""),cc&&(wp=W1(),wp!=null&&wp>parseFloat(Bp))){_w=String(wp);break e}_w=Bp}var Bp,Qp,wp,Sw;oe.document&&cc?(yw=W1(),Sw=yw||parseInt(_w,10)||void 0):Sw=void 0;var yw,Jne=Sw;function ih(t,e){if(on.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Y1){e:{try{Gw(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:zne[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ih.$.h.call(this)}}Ft(ih,on);var zne={2:"touch",3:"pen",4:"mouse"};ih.prototype.h=function(){ih.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var hh="closure_listenable_"+(1e6*Math.random()|0),jne=0;function Kne(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++jne,this.fa=this.ia=!1}function xp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Hw(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function $ne(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function J1(t){let e={};for(let n in t)e[n]=t[n];return e}var N1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z1(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<N1.length;s++)n=N1[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Lp(t){this.src=t,this.g={},this.h=0}Lp.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Dw(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new Kne(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function bw(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=G1(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(xp(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Dw(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Yw="closure_lm_"+(1e6*Math.random()|0),Bw={};function j1(t,e,n,r,i){if(r&&r.once)return $1(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)j1(t,e[s],n,r,i);return null}return n=zw(n),t&&t[hh]?t.O(e,n,uh(r)?!!r.capture:!!r,i):K1(t,e,n,!1,r,i)}function K1(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=uh(i)?!!i.capture:!!i,a=Jw(t);if(a||(t[Yw]=a=new Lp(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=Xne(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Gne||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Z1(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Xne(){function t(n){return e.call(t.src,t.listener,n)}let e=Zne;return t}function $1(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)$1(t,e[s],n,r,i);return null}return n=zw(n),t&&t[hh]?t.P(e,n,uh(r)?!!r.capture:!!r,i):K1(t,e,n,!0,r,i)}function X1(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)X1(t,e[s],n,r,i);else r=uh(r)?!!r.capture:!!r,n=zw(n),t&&t[hh]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Dw(s,n,r,i),-1<n&&(xp(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Jw(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Dw(e,n,r,i)),(n=-1<t?e[t]:null)&&Ww(n))}function Ww(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[hh])bw(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Z1(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Jw(e))?(bw(n,t),n.h==0&&(n.src=null,e[Yw]=null)):xp(t)}}}function Z1(t){return t in Bw?Bw[t]:Bw[t]="on"+t}function Zne(t,e){if(t.fa)t=!0;else{e=new ih(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Ww(t),t=n.call(r,e)}return t}function Jw(t){return t=t[Yw],t instanceof Lp?t:null}var Qw="__closure_events_fn_"+(1e9*Math.random()>>>0);function zw(t){return typeof t=="function"?t:(t[Qw]||(t[Qw]=function(e){return t.handleEvent(e)}),t[Qw])}function kt(){js.call(this),this.i=new Lp(this),this.S=this,this.J=null}Ft(kt,js);kt.prototype[hh]=!0;kt.prototype.removeEventListener=function(t,e,n,r){X1(this,t,e,n,r)};function jt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new on(e,t);else if(e instanceof on)e.target=e.target||t;else{var i=e;e=new on(r,t),z1(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=vp(o,r,!0,e)&&i}if(o=e.g=t,i=vp(o,r,!0,e)&&i,i=vp(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=vp(o,r,!1,e)&&i}kt.prototype.N=function(){if(kt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)xp(n[r]);delete t.g[e],t.h--}}this.J=null};kt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};kt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function vp(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,A=o.la||o.src;o.ia&&bw(t.i,o),i=a.call(A,r)!==!1&&i}}return i&&!r.defaultPrevented}var jw=oe.JSON.stringify,Rw=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function ere(){var t=Kw;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Tw=class{constructor(){this.h=this.g=null}add(e,n){let r=eU.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},eU=new Rw(()=>new Nw,t=>t.reset()),Nw=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function tre(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function nre(t){oe.setTimeout(()=>{throw t},0)}var sh,oh=!1,Kw=new Tw,tU=()=>{let t=oe.Promise.resolve(void 0);sh=()=>{t.then(rre)}},rre=()=>{for(var t;t=ere();){try{t.h.call(t.g)}catch(n){nre(n)}var e=eU;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}oh=!1};function Op(t,e){kt.call(this),this.h=t||1,this.g=e||oe,this.j=sn(this.qb,this),this.l=Date.now()}Ft(Op,kt);U=Op.prototype;U.ga=!1;U.T=null;U.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),jt(this,"tick"),this.ga&&($w(this),this.start()))}};U.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function $w(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}U.N=function(){Op.$.N.call(this),$w(this),delete this.g};function Xw(t,e,n){if(typeof t=="function")n&&(t=sn(t,n));else if(t&&typeof t.handleEvent=="function")t=sn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:oe.setTimeout(t,e||0)}function nU(t){t.g=Xw(()=>{t.g=null,t.i&&(t.i=!1,nU(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var kw=class extends js{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:nU(this)}N(){super.N(),this.g&&(oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function ah(t){js.call(this),this.h=t,this.g={}}Ft(ah,js);var k1=[];function rU(t,e,n,r){Array.isArray(n)||(n&&(k1[0]=n.toString()),n=k1);for(var i=0;i<n.length;i++){var s=j1(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function iU(t){Hw(t.g,function(e,n){this.g.hasOwnProperty(n)&&Ww(e)},t),t.g={}}ah.prototype.N=function(){ah.$.N.call(this),iU(this)};ah.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Up(){this.g=!0}Up.prototype.Ea=function(){this.g=!1};function ire(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),A=0;A<a.length;A++){var c=a[A].split("=");if(1<c.length){var l=c[0];c=c[1];var u=l.split("_");o=2<=u.length&&u[1]=="type"?o+(l+"="+c+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function sre(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ac(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+are(t,n)+(r?" "+r:"")})}function ore(t,e){t.info(function(){return"TIMEOUT: "+e})}Up.prototype.info=function(){};function are(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return jw(n)}catch{return e}}var ma={},F1=null;function Pp(){return F1=F1||new kt}ma.Ta="serverreachability";function sU(t){on.call(this,ma.Ta,t)}Ft(sU,on);function Ah(t){let e=Pp();jt(e,new sU(e))}ma.STAT_EVENT="statevent";function oU(t,e){on.call(this,ma.STAT_EVENT,t),this.stat=e}Ft(oU,on);function Qn(t){let e=Pp();jt(e,new oU(e,t))}ma.Ua="timingevent";function aU(t,e){on.call(this,ma.Ua,t),this.size=e}Ft(aU,on);function dh(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return oe.setTimeout(function(){t()},e)}var Vp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},AU={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Zw(){}Zw.prototype.h=null;function M1(t){return t.h||(t.h=t.i())}function cU(){}var fh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ev(){on.call(this,"d")}Ft(ev,on);function tv(){on.call(this,"c")}Ft(tv,on);var Fw;function qp(){}Ft(qp,Zw);qp.prototype.g=function(){return new XMLHttpRequest};qp.prototype.i=function(){return{}};Fw=new qp;function gh(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ah(this),this.P=Are,t=vw?125:void 0,this.V=new Op(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new lU}function lU(){this.i=null,this.g="",this.h=!1}var Are=45e3,uU={},Mw={};U=gh.prototype;U.setTimeout=function(t){this.P=t};function xw(t,e,n){t.L=1,t.A=Hp(fs(e)),t.u=n,t.S=!0,hU(t,null)}function hU(t,e){t.G=Date.now(),ph(t),t.B=fs(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),IU(n.i,"t",r),t.o=0,n=t.l.J,t.h=new lU,t.g=VU(t.l,n?e:null,!t.u),0<t.O&&(t.M=new kw(sn(t.Pa,t,t.g),t.O)),rU(t.U,t.g,"readystatechange",t.nb),e=t.I?J1(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Ah(),ire(t.j,t.v,t.B,t.m,t.W,t.u)}U.nb=function(t){t=t.target;let e=this.M;e&&Si(t)==3?e.l():this.Pa(t)};U.Pa=function(t){try{if(t==this.g)e:{let l=Si(this.g);var e=this.g.Ia();let u=this.g.da();if(!(3>l)&&(l!=3||vw||this.g&&(this.h.h||this.g.ja()||U1(this.g)))){this.J||l!=4||e==7||(e==8||0>=u?Ah(3):Ah(2)),Gp(this);var n=this.g.da();this.ca=n;t:if(dU(this)){var r=U1(this.g);t="";var i=r.length,s=Si(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ga(this),nh(this);var o="";break t}this.h.i=new oe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,sre(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,A=this.g;if((a=A.g?A.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rh(a)){var c=a;break t}}c=null}if(n=c)ac(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Lw(this,n);else{this.i=!1,this.s=3,Qn(12),ga(this),nh(this);break e}}this.S?(fU(this,l,o),vw&&this.i&&l==3&&(rU(this.U,this.V,"tick",this.mb),this.V.start())):(ac(this.j,this.m,o,null),Lw(this,o)),l==4&&ga(this),this.i&&!this.J&&(l==4?LU(this.l,this):(this.i=!1,ph(this)))}else Dre(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Qn(12)):(this.s=0,Qn(13)),ga(this),nh(this)}}}catch{}finally{}};function dU(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function fU(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=cre(t,n),i==Mw){e==4&&(t.s=4,Qn(14),r=!1),ac(t.j,t.m,null,"[Incomplete Response]");break}else if(i==uU){t.s=4,Qn(15),ac(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ac(t.j,t.m,i,null),Lw(t,i);dU(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Qn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),av(e),e.M=!0,Qn(11))):(ac(t.j,t.m,n,"[Invalid Chunked Response]"),ga(t),nh(t))}U.mb=function(){if(this.g){var t=Si(this.g),e=this.g.ja();this.o<e.length&&(Gp(this),fU(this,t,e),this.i&&t!=4&&ph(this))}};function cre(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Mw:(n=Number(e.substring(n,r)),isNaN(n)?uU:(r+=1,r+n>e.length?Mw:(e=e.slice(r,r+n),t.o=r+n,e)))}U.cancel=function(){this.J=!0,ga(this)};function ph(t){t.Y=Date.now()+t.P,gU(t,t.P)}function gU(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=dh(sn(t.lb,t),e)}function Gp(t){t.C&&(oe.clearTimeout(t.C),t.C=null)}U.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(ore(this.j,this.B),this.L!=2&&(Ah(),Qn(17)),ga(this),this.s=2,nh(this)):gU(this,this.Y-t)};function nh(t){t.l.H==0||t.J||LU(t.l,t)}function ga(t){Gp(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,$w(t.V),iU(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Lw(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Ow(n.i,t))){if(!t.K&&Ow(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Rp(n),Jp(n);else break e;ov(n),Qn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=dh(sn(n.ib,n),6e3));if(1>=QU(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else pa(n,11)}else if((t.K||n.g==t)&&Rp(n),!rh(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];let l=c[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let u=c[4];u!=null&&(n.Ga=u,n.l.info("SVER="+n.Ga));let h=c[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let d=t.g;if(d){let f=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(f){var s=r.i;s.g||f.indexOf("spdy")==-1&&f.indexOf("quic")==-1&&f.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(nv(s,s.h),s.h=null))}if(r.F){let E=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.Da=E,nt(r.I,r.F,E))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=PU(r,r.J?r.pa:null,r.Y),o.K){wU(r.i,o);var a=o,A=r.L;A&&a.setTimeout(A),a.C&&(Gp(a),ph(a)),r.g=o}else MU(r);0<n.j.length&&zp(n)}else c[0]!="stop"&&c[0]!="close"||pa(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?pa(n,7):sv(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Ah(4)}catch{}}function lre(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Fp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function ure(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Fp(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function pU(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Fp(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=ure(t),r=lre(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var EU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hre(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ea(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ea){this.h=t.h,bp(this,t.j),this.s=t.s,this.g=t.g,Dp(this,t.m),this.l=t.l;var e=t.i,n=new ch;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),x1(this,n),this.o=t.o}else t&&(e=String(t).match(EU))?(this.h=!1,bp(this,e[1]||"",!0),this.s=eh(e[2]||""),this.g=eh(e[3]||"",!0),Dp(this,e[4]),this.l=eh(e[5]||"",!0),x1(this,e[6]||"",!0),this.o=eh(e[7]||"")):(this.h=!1,this.i=new ch(null,this.h))}Ea.prototype.toString=function(){var t=[],e=this.j;e&&t.push(th(e,L1,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(th(e,L1,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(th(n,n.charAt(0)=="/"?gre:fre,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",th(n,Ere)),t.join("")};function fs(t){return new Ea(t)}function bp(t,e,n){t.j=n?eh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Dp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function x1(t,e,n){e instanceof ch?(t.i=e,mre(t.i,t.h)):(n||(e=th(e,pre)),t.i=new ch(e,t.h))}function nt(t,e,n){t.i.set(e,n)}function Hp(t){return nt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function eh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function th(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,dre),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function dre(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var L1=/[#\/\?@]/g,fre=/[#\?:]/g,gre=/[#\?]/g,pre=/[#\?@]/g,Ere=/#/g;function ch(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ks(t){t.g||(t.g=new Map,t.h=0,t.i&&hre(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}U=ch.prototype;U.add=function(t,e){Ks(this),this.i=null,t=lc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function mU(t,e){Ks(t),e=lc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function CU(t,e){return Ks(t),e=lc(t,e),t.g.has(e)}U.forEach=function(t,e){Ks(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};U.ta=function(){Ks(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};U.Z=function(t){Ks(this);let e=[];if(typeof t=="string")CU(this,t)&&(e=e.concat(this.g.get(lc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};U.set=function(t,e){return Ks(this),this.i=null,t=lc(this,t),CU(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};U.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function IU(t,e,n){mU(t,e),0<n.length&&(t.i=null,t.g.set(lc(t,e),qw(n)),t.h+=n.length)}U.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function lc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function mre(t,e){e&&!t.j&&(Ks(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(mU(this,r),IU(this,i,n))},t)),t.j=e}var Cre=class{constructor(t,e){this.g=t,this.map=e}};function yU(t){this.l=t||Ire,oe.PerformanceNavigationTiming?(t=oe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(oe.g&&oe.g.Ka&&oe.g.Ka()&&oe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ire=10;function BU(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function QU(t){return t.h?1:t.g?t.g.size:0}function Ow(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function nv(t,e){t.g?t.g.add(e):t.h=e}function wU(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}yU.prototype.cancel=function(){if(this.i=vU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function vU(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return qw(t.i)}var yre=class{stringify(t){return oe.JSON.stringify(t,void 0)}parse(t){return oe.JSON.parse(t,void 0)}};function Bre(){this.g=new yre}function Qre(t,e,n){let r=n||"";try{pU(t,function(i,s){let o=i;uh(i)&&(o=jw(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function wre(t,e){let n=new Up;if(oe.Image){let r=new Image;r.onload=yp(_p,n,r,"TestLoadImage: loaded",!0,e),r.onerror=yp(_p,n,r,"TestLoadImage: error",!1,e),r.onabort=yp(_p,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=yp(_p,n,r,"TestLoadImage: timeout",!1,e),oe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function _p(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Eh(t){this.l=t.ec||null,this.j=t.ob||!1}Ft(Eh,Zw);Eh.prototype.g=function(){return new Yp(this.l,this.j)};Eh.prototype.i=function(t){return function(){return t}}({});function Yp(t,e){kt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=rv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ft(Yp,kt);var rv=0;U=Yp.prototype;U.open=function(t,e){if(this.readyState!=rv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,lh(this)};U.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||oe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};U.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mh(this)),this.readyState=rv};U.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,lh(this)),this.g&&(this.readyState=3,lh(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof oe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_U(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function _U(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}U.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?mh(this):lh(this),this.readyState==3&&_U(this)}};U.Za=function(t){this.g&&(this.response=this.responseText=t,mh(this))};U.Ya=function(t){this.g&&(this.response=t,mh(this))};U.ka=function(){this.g&&mh(this)};function mh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,lh(t)}U.setRequestHeader=function(t,e){this.v.append(t,e)};U.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};U.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function lh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Yp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var vre=oe.JSON.parse;function gt(t){kt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=SU,this.L=this.M=!1}Ft(gt,kt);var SU="",_re=/^https?$/i,Sre=["POST","PUT"];U=gt.prototype;U.Oa=function(t){this.M=t};U.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Fw.g(),this.C=this.u?M1(this.u):M1(Fw),this.g.onreadystatechange=sn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){O1(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=oe.FormData&&t instanceof oe.FormData,!(0<=G1(Sre,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{RU(this),0<this.B&&((this.L=bre(this.g))?(this.g.timeout=this.B,this.g.ontimeout=sn(this.ua,this)):this.A=Xw(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){O1(this,s)}};function bre(t){return cc&&typeof t.timeout=="number"&&t.ontimeout!==void 0}U.ua=function(){typeof Vw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jt(this,"timeout"),this.abort(8))};function O1(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,bU(t),Wp(t)}function bU(t){t.F||(t.F=!0,jt(t,"complete"),jt(t,"error"))}U.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,jt(this,"complete"),jt(this,"abort"),Wp(this))};U.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wp(this,!0)),gt.$.N.call(this)};U.La=function(){this.s||(this.G||this.v||this.l?DU(this):this.kb())};U.kb=function(){DU(this)};function DU(t){if(t.h&&typeof Vw<"u"&&(!t.C[1]||Si(t)!=4||t.da()!=2)){if(t.v&&Si(t)==4)Xw(t.La,0,t);else if(jt(t,"readystatechange"),Si(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(EU)[1]||null;!i&&oe.self&&oe.self.location&&(i=oe.self.location.protocol.slice(0,-1)),r=!_re.test(i?i.toLowerCase():"")}n=r}if(n)jt(t,"complete"),jt(t,"success");else{t.m=6;try{var s=2<Si(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",bU(t)}}finally{Wp(t)}}}}function Wp(t,e){if(t.g){RU(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||jt(t,"ready");try{n.onreadystatechange=r}catch{}}}function RU(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(oe.clearTimeout(t.A),t.A=null)}U.isActive=function(){return!!this.g};function Si(t){return t.g?t.g.readyState:0}U.da=function(){try{return 2<Si(this)?this.g.status:-1}catch{return-1}};U.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};U.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),vre(e)}};function U1(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case SU:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Dre(t){let e={};t=(t.g&&2<=Si(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(rh(t[r]))continue;var n=tre(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}$ne(e,function(r){return r.join(", ")})}U.Ia=function(){return this.m};U.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function TU(t){let e="";return Hw(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function iv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=TU(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):nt(t,e,n))}function Xu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function NU(t){this.Ga=0,this.j=[],this.l=new Up,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Xu("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Xu("baseRetryDelayMs",5e3,t),this.hb=Xu("retryDelaySeedMs",1e4,t),this.eb=Xu("forwardChannelMaxRetries",2,t),this.xa=Xu("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new yU(t&&t.concurrentRequestLimit),this.Ja=new Bre,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}U=NU.prototype;U.ra=8;U.H=1;function sv(t){if(kU(t),t.H==3){var e=t.W++,n=fs(t.I);if(nt(n,"SID",t.K),nt(n,"RID",e),nt(n,"TYPE","terminate"),Ch(t,n),e=new gh(t,t.l,e),e.L=2,e.A=Hp(fs(n)),n=!1,oe.navigator&&oe.navigator.sendBeacon)try{n=oe.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&oe.Image&&(new Image().src=e.A,n=!0),n||(e.g=VU(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ph(e)}UU(t)}function Jp(t){t.g&&(av(t),t.g.cancel(),t.g=null)}function kU(t){Jp(t),t.u&&(oe.clearTimeout(t.u),t.u=null),Rp(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&oe.clearTimeout(t.m),t.m=null)}function zp(t){if(!BU(t.i)&&!t.m){t.m=!0;var e=t.Na;sh||tU(),oh||(sh(),oh=!0),Kw.add(e,t),t.C=0}}function Rre(t,e){return QU(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=dh(sn(t.Na,t,e),OU(t,t.C)),t.C++,!0)}U.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new gh(this,this.l,t),s=this.s;if(this.U&&(s?(s=J1(s),z1(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=FU(this,i,e),n=fs(this.I),nt(n,"RID",t),nt(n,"CVER",22),this.F&&nt(n,"X-HTTP-Session-Id",this.F),Ch(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(TU(s)))+"&"+e:this.o&&iv(n,this.o,s)),nv(this.i,i),this.bb&&nt(n,"TYPE","init"),this.P?(nt(n,"$req",e),nt(n,"SID","null"),i.aa=!0,xw(i,n,null)):xw(i,n,e),this.H=2}}else this.H==3&&(t?P1(this,t):this.j.length==0||BU(this.i)||P1(this))};function P1(t,e){var n;e?n=e.m:n=t.W++;let r=fs(t.I);nt(r,"SID",t.K),nt(r,"RID",n),nt(r,"AID",t.V),Ch(t,r),t.o&&t.s&&iv(r,t.o,t.s),n=new gh(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=FU(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),nv(t.i,n),xw(n,r,e)}function Ch(t,e){t.na&&Hw(t.na,function(n,r){nt(e,r,n)}),t.h&&pU({},function(n,r){nt(e,r,n)})}function FU(t,e,n){n=Math.min(t.j.length,n);var r=t.h?sn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let A=0;A<n;A++){let c=i[A].g,l=i[A].map;if(c-=s,0>c)s=Math.max(0,i[A].g-100),a=!1;else try{Qre(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function MU(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;sh||tU(),oh||(sh(),oh=!0),Kw.add(e,t),t.A=0}}function ov(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=dh(sn(t.Ma,t),OU(t,t.A)),t.A++,!0)}U.Ma=function(){if(this.u=null,xU(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=dh(sn(this.jb,this),t)}};U.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Qn(10),Jp(this),xU(this))};function av(t){t.B!=null&&(oe.clearTimeout(t.B),t.B=null)}function xU(t){t.g=new gh(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=fs(t.wa);nt(e,"RID","rpc"),nt(e,"SID",t.K),nt(e,"AID",t.V),nt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&nt(e,"TO",t.qa),nt(e,"TYPE","xmlhttp"),Ch(t,e),t.o&&t.s&&iv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Hp(fs(e)),n.u=null,n.S=!0,hU(n,t)}U.ib=function(){this.v!=null&&(this.v=null,Jp(this),ov(this),Qn(19))};function Rp(t){t.v!=null&&(oe.clearTimeout(t.v),t.v=null)}function LU(t,e){var n=null;if(t.g==e){Rp(t),av(t),t.g=null;var r=2}else if(Ow(t.i,e))n=e.F,wU(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Pp(),jt(r,new aU(r,n)),zp(t)}else MU(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&Rre(t,e)||r==2&&ov(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:pa(t,5);break;case 4:pa(t,10);break;case 3:pa(t,6);break;default:pa(t,2)}}}function OU(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function pa(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=sn(t.pb,t);n||(n=new Ea("//www.google.com/images/cleardot.gif"),oe.location&&oe.location.protocol=="http"||bp(n,"https"),Hp(n)),wre(n.toString(),r)}else Qn(2);t.H=0,t.h&&t.h.za(e),UU(t),kU(t)}U.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Qn(2)):(this.l.info("Failed to ping google.com"),Qn(1))};function UU(t){if(t.H=0,t.ma=[],t.h){let e=vU(t.i);(e.length!=0||t.j.length!=0)&&(T1(t.ma,e),T1(t.ma,t.j),t.i.i.length=0,qw(t.j),t.j.length=0),t.h.ya()}}function PU(t,e,n){var r=n instanceof Ea?fs(n):new Ea(n);if(r.g!="")e&&(r.g=e+"."+r.g),Dp(r,r.m);else{var i=oe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ea(null);r&&bp(s,r),e&&(s.g=e),i&&Dp(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&nt(r,n,e),nt(r,"VER",t.ra),Ch(t,r),r}function VU(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new gt(new Eh({ob:n})):new gt(t.va),e.Oa(t.J),e}U.isActive=function(){return!!this.h&&this.h.isActive(this)};function qU(){}U=qU.prototype;U.Ba=function(){};U.Aa=function(){};U.za=function(){};U.ya=function(){};U.isActive=function(){return!0};U.Va=function(){};function Tp(){if(cc&&!(10<=Number(Jne)))throw Error("Environmental error: no available transport.")}Tp.prototype.g=function(t,e){return new rr(t,e)};function rr(t,e){kt.call(this),this.g=new NU(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!rh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!rh(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new uc(this)}Ft(rr,kt);rr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Qn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=PU(t,null,t.Y),zp(t)};rr.prototype.close=function(){sv(this.g)};rr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=jw(t),t=n);e.j.push(new Cre(e.fb++,t)),e.H==3&&zp(e)};rr.prototype.N=function(){this.g.h=null,delete this.j,sv(this.g),delete this.g,rr.$.N.call(this)};function GU(t){ev.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ft(GU,ev);function HU(){tv.call(this),this.status=1}Ft(HU,tv);function uc(t){this.g=t}Ft(uc,qU);uc.prototype.Ba=function(){jt(this.g,"a")};uc.prototype.Aa=function(t){jt(this.g,new GU(t))};uc.prototype.za=function(t){jt(this.g,new HU)};uc.prototype.ya=function(){jt(this.g,"b")};function Tre(){this.blockSize=-1}function Gr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ft(Gr,Tre);Gr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function ww(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Gr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)ww(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){ww(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){ww(this,r),i=0;break}}this.h=i,this.i+=e};Gr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ue(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var Nre={};function Av(t){return-128<=t&&128>t?Hne(t,function(e){return new Ue([e|0],0>e?-1:0)}):new Ue([t|0],0>t?-1:0)}function bi(t){if(isNaN(t)||!isFinite(t))return Ac;if(0>t)return zt(bi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Uw;return new Ue(e,0)}function YU(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return zt(YU(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=bi(Math.pow(e,8)),r=Ac,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=bi(Math.pow(e,s)),r=r.R(s).add(bi(o))):(r=r.R(n),r=r.add(bi(o)))}return r}var Uw=4294967296,Ac=Av(0),Pw=Av(1),V1=Av(16777216);U=Ue.prototype;U.ea=function(){if(Cr(this))return-zt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Uw+r)*e,e*=Uw}return t};U.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ds(this))return"0";if(Cr(this))return"-"+zt(this).toString(t);for(var e=bi(Math.pow(t,6)),n=this,r="";;){var i=kp(n,e).g;n=Np(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,ds(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};U.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ds(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Cr(t){return t.h==-1}U.X=function(t){return t=Np(this,t),Cr(t)?-1:ds(t)?0:1};function zt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ue(n,~t.h).add(Pw)}U.abs=function(){return Cr(this)?zt(this):this};U.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ue(n,n[n.length-1]&-2147483648?-1:0)};function Np(t,e){return t.add(zt(e))}U.R=function(t){if(ds(this)||ds(t))return Ac;if(Cr(this))return Cr(t)?zt(this).R(zt(t)):zt(zt(this).R(t));if(Cr(t))return zt(this.R(zt(t)));if(0>this.X(V1)&&0>t.X(V1))return bi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,A=t.D(i)&65535;n[2*r+2*i]+=o*A,Sp(n,2*r+2*i),n[2*r+2*i+1]+=s*A,Sp(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Sp(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Sp(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ue(n,0)};function Sp(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Zu(t,e){this.g=t,this.h=e}function kp(t,e){if(ds(e))throw Error("division by zero");if(ds(t))return new Zu(Ac,Ac);if(Cr(t))return e=kp(zt(t),e),new Zu(zt(e.g),zt(e.h));if(Cr(e))return e=kp(t,zt(e)),new Zu(zt(e.g),e.h);if(30<t.g.length){if(Cr(t)||Cr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Pw,r=e;0>=r.X(t);)n=q1(n),r=q1(r);var i=oc(n,1),s=oc(r,1);for(r=oc(r,2),n=oc(n,2);!ds(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=oc(r,1),n=oc(n,1)}return e=Np(t,i.R(e)),new Zu(i,e)}for(i=Ac;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=bi(n),o=s.R(e);Cr(o)||0<o.X(t);)n-=r,s=bi(n),o=s.R(e);ds(s)&&(s=Pw),i=i.add(s),t=Np(t,o)}return new Zu(i,t)}U.gb=function(t){return kp(this,t).h};U.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ue(n,this.h&t.h)};U.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ue(n,this.h|t.h)};U.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ue(n,this.h^t.h)};function q1(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ue(n,t.h)}function oc(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ue(i,t.h)}Tp.prototype.createWebChannel=Tp.prototype.g;rr.prototype.send=rr.prototype.u;rr.prototype.open=rr.prototype.m;rr.prototype.close=rr.prototype.close;Vp.NO_ERROR=0;Vp.TIMEOUT=8;Vp.HTTP_ERROR=6;AU.COMPLETE="complete";cU.EventType=fh;fh.OPEN="a";fh.CLOSE="b";fh.ERROR="c";fh.MESSAGE="d";kt.prototype.listen=kt.prototype.O;gt.prototype.listenOnce=gt.prototype.P;gt.prototype.getLastError=gt.prototype.Sa;gt.prototype.getLastErrorCode=gt.prototype.Ia;gt.prototype.getStatus=gt.prototype.da;gt.prototype.getResponseJson=gt.prototype.Wa;gt.prototype.getResponseText=gt.prototype.ja;gt.prototype.send=gt.prototype.ha;gt.prototype.setWithCredentials=gt.prototype.Oa;Gr.prototype.digest=Gr.prototype.l;Gr.prototype.reset=Gr.prototype.reset;Gr.prototype.update=Gr.prototype.j;Ue.prototype.add=Ue.prototype.add;Ue.prototype.multiply=Ue.prototype.R;Ue.prototype.modulo=Ue.prototype.gb;Ue.prototype.compare=Ue.prototype.X;Ue.prototype.toNumber=Ue.prototype.ea;Ue.prototype.toString=Ue.prototype.toString;Ue.prototype.getBits=Ue.prototype.D;Ue.fromNumber=bi;Ue.fromString=YU;var Wve=Hr.createWebChannelTransport=function(){return new Tp},Jve=Hr.getStatEventTarget=function(){return Pp()},zve=Hr.ErrorCode=Vp,jve=Hr.EventType=AU,Kve=Hr.Event=ma,$ve=Hr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Xve=Hr.FetchXmlHttpFactory=Eh,Zve=Hr.WebChannel=cU,e_e=Hr.XhrIo=gt,WU=Hr.Md5=Gr,Ca=Hr.Integer=Ue;var Fa=ql(IG(),1),oH=ql(rS(),1);var yG="@firebase/firestore",BG="4.6.0";var Ut=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ut.UNAUTHENTICATED=new Ut(null);Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid");Ut.FIRST_PARTY=new Ut("first-party-uid");Ut.MOCK_USER=new Ut("mock-user");var Kue="10.11.0";var ml=Kue;function $ue(t){ml=t}function Xue(t){return Jue(t,{depth:100})}var Ma=new ui("@firebase/firestore");function td(){return Ma.logLevel}function P(t,...e){if(Ma.logLevel<=pe.DEBUG){let n=e.map(ED);Ma.debug(`Firestore (${ml}): ${t}`,...n)}}function Nr(t,...e){if(Ma.logLevel<=pe.ERROR){let n=e.map(ED);Ma.error(`Firestore (${ml}): ${t}`,...n)}}function rl(t,...e){if(Ma.logLevel<=pe.WARN){let n=e.map(ED);Ma.warn(`Firestore (${ml}): ${t}`,...n)}}function ED(t){if(typeof t=="string")return t;try{return Xue(t)}catch{return t}}function re(t="Unexpected state"){let e=`FIRESTORE (${ml}) INTERNAL ASSERTION FAILED: `+t;throw Nr(e),new Error(e)}function Xe(t,e){t||re()}function Ae(t,e){return t}var b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},G=class extends hr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Zr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var jm=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},k0=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ut.UNAUTHENTICATED))}shutdown(){}},F0=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},M0=class{constructor(e){this.authProvider=e,this.currentUser=Ut.UNAUTHENTICATED,this.tokenCounter=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.tokenCounter,i=A=>this.tokenCounter!==r?(r=this.tokenCounter,n(A)):Promise.resolve(),s=new Zr;this.tokenListener=()=>{this.tokenCounter++,this.currentUser=this.getUser(),s.resolve(),s=new Zr,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let A=s;e.enqueueRetryable(()=>p(this,null,function*(){yield A.promise,yield i(this.currentUser)}))},a=A=>{P("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=A,this.auth.addAuthTokenListener(this.tokenListener),o()};this.authProvider.onInit(A=>a(A)),setTimeout(()=>{if(!this.auth){let A=this.authProvider.getImmediate({optional:!0});A?a(A):(P("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Zr)}},0),o()}getToken(){let e=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.tokenCounter!==e?(P("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string"),new jm(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.tokenListener)}getUser(){let e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new Ut(e)}},x0=class{constructor(e,n,r){this.sessionIndex=e,this.iamToken=n,this.authTokenFactory=r,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this._headers=new Map}getAuthToken(){return this.authTokenFactory?this.authTokenFactory():null}get headers(){this._headers.set("X-Goog-AuthUser",this.sessionIndex);let e=this.getAuthToken();return e&&this._headers.set("Authorization",e),this.iamToken&&this._headers.set("X-Goog-Iam-Authorization-Token",this.iamToken),this._headers}},L0=class{constructor(e,n,r){this.sessionIndex=e,this.iamToken=n,this.authTokenFactory=r}getToken(){return Promise.resolve(new x0(this.sessionIndex,this.iamToken,this.authTokenFactory))}start(e,n){e.enqueueRetryable(()=>n(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}},O0=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},U0=class{constructor(e){this.appCheckProvider=e,this.forceRefresh=!1,this.appCheck=null,this.latestAppCheckToken=null}start(e,n){let r=s=>{s.error!=null&&P("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.latestAppCheckToken;return this.latestAppCheckToken=s.token,P("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.tokenListener=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{P("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.tokenListener)};this.appCheckProvider.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.appCheckProvider.getImmediate({optional:!0});s?i(s):P("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xe(typeof n.token=="string"),this.latestAppCheckToken=n.token,new O0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.tokenListener)}};function Zue(t){if(!t)return new k0;switch(t.type){case"firstParty":return new L0(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new G(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}function ehe(t){return jue(t)}var Km=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="",i=20;for(;r.length<i;){let s=ehe(40);for(let o=0;o<s.length;++o)r.length<i&&s[o]<n&&(r+=e.charAt(s[o]%e.length))}return r}};function Me(t,e){return t<e?-1:t>e?1:0}function xa(t,e,n){return t.length!==e.length?!1:t.every((r,i)=>n(r,e[i]))}var QG=-62135596800,wG=1e6,Kt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<QG)throw new G(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-n*1e3)*wG);return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return this.seconds*1e3+this.nanoseconds/wG}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-QG,n=String(e).padStart(12,"0"),r=String(this.nanoseconds).padStart(9,"0");return n+"."+r}};var ce=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Kt(0,0))}static max(){return new t(new Kt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return this.timestamp.seconds*1e6+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var vG="__name__",$m=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&re(),r===void 0?r=e.length-n:r>e.length-n&&re(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},ut=class t extends $m{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new G(b.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},the=/^[_a-zA-Z][_a-zA-Z0-9]*$/,cr=class t extends $m{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return the.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vG}static keyField(){return new t([vG])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new G(b.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new G(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let A=e[i+1];if(!(A==="\\"||A==="."||A==="`"))throw new G(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=A,i+=2}else a==="`"?(o=!o,i++):a==="."&&!o?(s(),i++):(r+=a,i++)}if(s(),o)throw new G(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var te=class t{constructor(e){this.path=e}static fromPath(e){return new t(ut.fromString(e))}static fromName(e){return new t(ut.fromString(e).popFirst(5))}static empty(){return new t(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2===0}static fromSegments(e){return new t(new ut(e.slice()))}};var od=-1;function nhe(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new Kt(n+1,0):new Kt(n,r));return new La(i,te.empty(),e)}function rhe(t){return new La(t.readTime,t.key,od)}var La=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ce.min(),te.empty(),od)}static max(){return new t(ce.max(),te.empty(),od)}};function ihe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0||(n=te.comparator(t.documentKey,e.documentKey),n!==0)?n:Me(t.largestBatchId,e.largestBatchId)}var she="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",P0=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function yd(t){return p(this,null,function*(){if(t.code===b.FAILED_PRECONDITION&&t.message===she)P("LocalStore","Unexpectedly lost primary lease");else throw t})}var N=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},A=>r(A))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let A=0;A<s;A++){let c=A;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var ar="SimpleDb",ohe=3,V0=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.completionDeferred=new Zr,this.transaction.oncomplete=()=>{this.completionDeferred.resolve()},this.transaction.onabort=()=>{n.error?this.completionDeferred.reject(new ka(e,n.error)):this.completionDeferred.resolve()},this.transaction.onerror=r=>{let i=mD(r.target.error);this.completionDeferred.reject(new ka(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new ka(n,s)}}get completionPromise(){return this.completionDeferred.promise}abort(e){e&&this.completionDeferred.reject(e),this.aborted||(P(ar,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}maybeCommit(){let e=this.transaction;!this.aborted&&typeof e.commit=="function"&&e.commit()}store(e){let n=this.transaction.objectStore(e);return new G0(n)}},Xm=class t{constructor(e,n,r){this.name=e,this.version=n,this.schemaConverter=r,t.getIOSVersion(Zt())===12.2&&Nr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return P(ar,"Removing database:",e),Ra(window.indexedDB.deleteDatabase(e)).toPromise()}static isAvailable(){if(!Ef())return!1;if(t.isMockPersistence())return!0;let e=Zt(),n=t.getIOSVersion(e),r=0<n&&n<10,i=t.getAndroidVersion(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static isMockPersistence(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.USE_MOCK_PERSISTENCE)==="YES"}static getStore(e,n){return e.store(n)}static getIOSVersion(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static getAndroidVersion(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}ensureDb(e){return p(this,null,function*(){return this.db||(P(ar,"Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new ka(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new G(b.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new G(b.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new ka(e,o))},i.onupgradeneeded=s=>{P(ar,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.schemaConverter.createOrUpgrade(o,i.transaction,s.oldVersion,this.version).next(()=>{P(ar,"Database upgrade to version "+this.version+" complete")})}})),this.versionchangelistener&&(this.db.onversionchange=n=>this.versionchangelistener(n)),this.db})}setVersionChangeListener(e){this.versionchangelistener=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return p(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.ensureDb(e);let a=V0.open(this.db,e,s?"readonly":"readwrite",r),A=i(a).next(c=>(a.maybeCommit(),c)).catch(c=>(a.abort(c),N.reject(c))).toPromise();return A.catch(()=>{}),yield a.completionPromise,A}catch(a){let A=a,c=A.name!=="FirebaseError"&&o<ohe;if(P(ar,"Transaction failed with error:",A.message,"Retrying:",c),this.close(),!c)return Promise.reject(A)}}})}close(){this.db&&this.db.close(),this.db=void 0}},q0=class{constructor(e){this.dbCursor=e,this.shouldStop=!1,this.nextKey=null}get isDone(){return this.shouldStop}get skipToKey(){return this.nextKey}set cursor(e){this.dbCursor=e}done(){this.shouldStop=!0}skip(e){this.nextKey=e}delete(){return Ra(this.dbCursor.delete())}},ka=class extends G{constructor(e,n){super(b.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function Bd(t){return t.name==="IndexedDbTransactionError"}var G0=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(P(ar,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(P(ar,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ra(r)}add(e){P(ar,"ADD",this.store.name,e,e);let n=this.store.add(e);return Ra(n)}get(e){let n=this.store.get(e);return Ra(n).next(r=>(r===void 0&&(r=null),P(ar,"GET",this.store.name,e,r),r))}delete(e){P(ar,"DELETE",this.store.name,e);let n=this.store.delete(e);return Ra(n)}count(){P(ar,"COUNT",this.store.name);let e=this.store.count();return Ra(e)}loadAll(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new N((o,a)=>{s.onerror=A=>{a(A.target.error)},s.onsuccess=A=>{o(A.target.result)}})}else{let s=this.cursor(r),o=[];return this.iterateCursor(s,(a,A)=>{o.push(A)}).next(()=>o)}}loadFirst(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new N((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}deleteAll(e,n){P(ar,"DELETE ALL",this.store.name);let r=this.options(e,n);r.keysOnly=!1;let i=this.cursor(r);return this.iterateCursor(i,(s,o,a)=>a.delete())}iterate(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.iterateCursor(i,n)}iterateSerial(e){let n=this.cursor({});return new N((r,i)=>{n.onerror=s=>{let o=mD(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;if(!o){r();return}e(o.primaryKey,o.value).next(a=>{a?o.continue():r()})}})}iterateCursor(e,n){let r=[];return new N((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a){i();return}let A=new q0(a),c=n(a.primaryKey,a.value,A);if(c instanceof N){let l=c.catch(u=>(A.done(),N.reject(u)));r.push(l)}A.isDone?i():A.skipToKey===null?a.continue():a.continue(A.skipToKey)}}).next(()=>N.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.keysOnly?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}else return this.store.openCursor(e.range,n)}};function Ra(t){return new N((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=mD(r.target.error);n(i)}})}var _G=!1;function mD(t){let e=Xm.getIOSVersion(Zt());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new G("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return _G||(_G=!0,setTimeout(()=>{throw r},0)),r}}return t}var Q0e=15*1e3,w0e=60*1e3;var aH=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.setPreviousValue(i),this.writeNewSequenceNumber=i=>r.writeSequenceNumber(i))}setPreviousValue(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(n),n}}t.INVALID=-1;return t})();var ahe="remoteDocuments";var AH="owner";var cH="mutationQueues";var lH="mutations";var uH="documentMutations",Ahe="remoteDocumentsV14";var hH="remoteDocumentGlobal";var dH="targets";var fH="targetDocuments";var gH="targetGlobal",pH="collectionParents";var EH="clientMetadata";var mH="bundles";var CH="namedQueries";var che="indexConfiguration";var lhe="indexState";var uhe="indexEntries";var IH="documentOverlays";var hhe=[cH,lH,uH,ahe,dH,AH,gH,fH],dhe=hhe,fhe=[...dhe,EH],ghe=[...fhe,hH],phe=[...ghe,pH],Ehe=[...phe,mH,CH],v0e=[...Ehe,IH],mhe=[cH,lH,uH,Ahe,dH,AH,gH,fH,EH,hH,pH,mH,CH,IH],Che=mhe,_0e=[...Che,che,lhe,uhe];function SG(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ya(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yH(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var mt=class t{constructor(e,n){this.comparator=e,this.root=n||rd.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rd.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rd.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tl(this.root,e,this.comparator,!1)}getReverseIterator(){return new tl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tl(this.root,e,this.comparator,!0)}},tl=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)this.isReverse?e=e.left:e=e.right;else if(s===0){this.nodeStack.push(e);break}else this.nodeStack.push(e),this.isReverse?e=e.right:e=e.left}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},rd=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let n=this;return!n.left.isRed()&&!n.left.left.isRed()&&(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,r){let i,s=this;if(r(n,s.key)<0)!s.left.isEmpty()&&!s.left.isRed()&&!s.left.left.isRed()&&(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(n,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),!s.right.isEmpty()&&!s.right.isRed()&&!s.right.left.isRed()&&(s=s.moveRedRight()),r(n,s.key)===0){if(s.right.isEmpty())return t.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(n,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth(){let n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw re();let n=this.left.check();if(n!==this.right.check())throw re();return n+(this.isRed()?0:1)}}return t.EMPTY=null,t.RED=!0,t.BLACK=!1,t})(),H0=class{constructor(){this.size=0}get key(){throw re()}get value(){throw re()}get color(){throw re()}get left(){throw re()}get right(){throw re()}copy(e,n,r,i,s){return this}insert(e,n,r){return new rd(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};rd.EMPTY=new H0;var hn=class t{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(n!==void 0?r=this.data.getIteratorFrom(n):r=this.data.getIterator();r.hasNext();){let i=r.getNext();if(!e(i.key))return}}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zm(this.data.getIterator())}getIteratorFrom(e){return new Zm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Zm=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Tr=class t{constructor(e){this.fields=e,e.sort(cr.comparator)}static empty(){return new t([])}unionWith(e){let n=new hn(cr.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xa(this.fields,e.fields,(n,r)=>n.isEqual(r))}};function Ihe(t){return Buffer.from(t,"base64").toString("binary")}function yhe(t){return Buffer.from(t,"binary").toString("base64")}var Dn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=Ihe(e);return new t(n)}static fromUint8Array(e){let n=Bhe(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return yhe(this.binaryString)}toUint8Array(){return Qhe(this.binaryString)}approximateByteSize(){return this.binaryString.length*2}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Dn.EMPTY_BYTE_STRING=new Dn("");function Bhe(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}function Qhe(t){let e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}var whe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(t){if(Xe(!!t),typeof t=="string"){let e=0,n=whe.exec(t);if(Xe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}else{let e=Et(t.seconds),n=Et(t.nanos);return{seconds:e,nanos:n}}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _o(t){return typeof t=="string"?Dn.fromBase64String(t):Dn.fromUint8Array(t)}var BH="server_timestamp",QH="__type__",wH="__previous_value__",vH="__local_write_time__";function CD(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[QH])===null||n===void 0?void 0:n.stringValue)===BH}function vhe(t,e){let n={fields:{[QH]:{stringValue:BH},[vH]:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&CD(e)&&(e=ID(e)),e&&(n.fields[wH]=e),{mapValue:n}}function ID(t){let e=t.mapValue.fields[wH];return CD(e)?ID(e):e}function ad(t){let e=ws(t.mapValue.fields[vH].timestampValue);return new Kt(e.seconds,e.nanos)}var Y0=class{constructor(e,n,r,i,s,o,a,A,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=A,this.useFetchStreams=c}},W0="(default)",eC=class t{constructor(e,n){this.projectId=e,this.database=n||W0}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===W0}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};function _he(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new G(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eC(t.options.projectId,e)}var yD=-1;function vC(t){return t==null}function Ad(t){return t===0&&1/t===-1/0}function She(t){return typeof t=="number"&&Number.isInteger(t)&&!Ad(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var _H="__max__",Ym={mapValue:{fields:{__type__:{stringValue:_H}}}};function Oa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?CD(t)?4:SH(t)?9007199254740991:10:re()}function ei(t,e){if(t===e)return!0;let n=Oa(t),r=Oa(e);if(n!==r)return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ad(t).isEqual(ad(e));case 3:return bhe(t,e);case 5:return t.stringValue===e.stringValue;case 6:return Rhe(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return Dhe(t,e);case 2:return The(t,e);case 9:return xa(t.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:return Nhe(t,e);case 9007199254740991:return!0;default:return re()}}function bhe(t,e){if(typeof t.timestampValue=="string"&&typeof e.timestampValue=="string"&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;let n=ws(t.timestampValue),r=ws(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}function Dhe(t,e){return Et(t.geoPointValue.latitude)===Et(e.geoPointValue.latitude)&&Et(t.geoPointValue.longitude)===Et(e.geoPointValue.longitude)}function Rhe(t,e){return _o(t.bytesValue).isEqual(_o(e.bytesValue))}function The(t,e){if("integerValue"in t&&"integerValue"in e)return Et(t.integerValue)===Et(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){let n=Et(t.doubleValue),r=Et(e.doubleValue);return n===r?Ad(n)===Ad(r):isNaN(n)&&isNaN(r)}return!1}function Nhe(t,e){let n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(SG(n)!==SG(r))return!1;for(let i in n)if(n.hasOwnProperty(i)&&(r[i]===void 0||!ei(n[i],r[i])))return!1;return!0}function cd(t,e){return(t.values||[]).find(n=>ei(n,e))!==void 0}function sl(t,e){if(t===e)return 0;let n=Oa(t),r=Oa(e);if(n!==r)return Me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return khe(t,e);case 3:return bG(t.timestampValue,e.timestampValue);case 4:return bG(ad(t),ad(e));case 5:return Me(t.stringValue,e.stringValue);case 6:return xhe(t.bytesValue,e.bytesValue);case 7:return Fhe(t.referenceValue,e.referenceValue);case 8:return Mhe(t.geoPointValue,e.geoPointValue);case 9:return Lhe(t.arrayValue,e.arrayValue);case 10:return Ohe(t.mapValue,e.mapValue);default:throw re()}}function khe(t,e){let n=Et(t.integerValue||t.doubleValue),r=Et(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}function bG(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);let n=ws(t),r=ws(e),i=Me(n.seconds,r.seconds);return i!==0?i:Me(n.nanos,r.nanos)}function Fhe(t,e){let n=t.split("/"),r=e.split("/");for(let i=0;i<n.length&&i<r.length;i++){let s=Me(n[i],r[i]);if(s!==0)return s}return Me(n.length,r.length)}function Mhe(t,e){let n=Me(Et(t.latitude),Et(e.latitude));return n!==0?n:Me(Et(t.longitude),Et(e.longitude))}function xhe(t,e){let n=_o(t),r=_o(e);return n.compareTo(r)}function Lhe(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=sl(n[i],r[i]);if(s)return s}return Me(n.length,r.length)}function Ohe(t,e){if(t===Ym.mapValue&&e===Ym.mapValue)return 0;if(t===Ym.mapValue)return 1;if(e===Ym.mapValue)return-1;let n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){let a=Me(r[o],s[o]);if(a!==0)return a;let A=sl(n[r[o]],i[s[o]]);if(A!==0)return A}return Me(r.length,s.length)}function ol(t){return BD(t)}function BD(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?Phe(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Uhe(t.bytesValue):"referenceValue"in t?qhe(t.referenceValue):"geoPointValue"in t?Vhe(t.geoPointValue):"arrayValue"in t?Hhe(t.arrayValue):"mapValue"in t?Ghe(t.mapValue):re()}function Uhe(t){return _o(t).toBase64()}function Phe(t){let e=ws(t);return`time(${e.seconds},${e.nanos})`}function Vhe(t){return`geo(${t.latitude},${t.longitude})`}function qhe(t){return te.fromName(t).toString()}function Ghe(t){let e=Object.keys(t.fields||{}).sort(),n="{",r=!0;for(let i of e)r?r=!1:n+=",",n+=`${i}:${BD(t.fields[i])}`;return n+"}"}function Hhe(t){let e="[",n=!0;for(let r of t.values||[])n?n=!1:e+=",",e+=BD(r);return e+"]"}function DG(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function J0(t){return!!t&&"integerValue"in t}function Yhe(t){return!!t&&"doubleValue"in t}function Whe(t){return J0(t)||Yhe(t)}function QD(t){return!!t&&"arrayValue"in t}function RG(t){return!!t&&"nullValue"in t}function TG(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jm(t){return!!t&&"mapValue"in t}function id(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ya(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=id(r)),e}else if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=id(t.arrayValue.values[n]);return e}else return Object.assign({},t)}function SH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===_H}var Ar=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Jm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){let r=this.getFieldsMap(e.popLast());r[e.lastSegment()]=id(n)}setAll(e){let n=cr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let A=this.getFieldsMap(n);this.applyChanges(A,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=id(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Jm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];(!Jm(i)||!i.mapValue.fields)&&(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ya(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(id(this.value))}};function bH(t){let e=[];return Ya(t.fields,(n,r)=>{let i=new cr([n]);if(Jm(r)){let o=bH(r.mapValue).fields;if(o.length===0)e.push(i);else for(let a of o)e.push(i.child(a))}else e.push(i)}),new Tr(e)}var ti=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ce.min(),ce.min(),ce.min(),Ar.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ce.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ce.min(),ce.min(),Ar.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ce.min(),ce.min(),Ar.empty(),2)}convertToFoundDocument(e,n){return this.createTime.isEqual(ce.min())&&(this.documentType===2||this.documentType===0)&&(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};function Jhe(t,e,n){let r=e.data.field(t),i=n.data.field(t);return r!==null&&i!==null?sl(r,i):re()}var al=class{constructor(e,n){this.position=e,this.inclusive=n}};function DH(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField())r=te.comparator(te.fromName(o.referenceValue),n.key);else{let a=n.data.field(s.field);r=sl(o,a)}if(s.dir==="desc"&&(r=r*-1),r!==0)break}return r}function zhe(t,e,n){let r=DH(t,e,n);return t.inclusive?r>=0:r>0}function jhe(t,e,n){let r=DH(t,e,n);return t.inclusive?r<=0:r<0}function NG(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++){let r=t.position[n],i=e.position[n];if(!ei(r,i))return!1}return!0}var Al=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Khe(t){return t.field.canonicalString()+t.dir}function $he(t){return`${t.field.canonicalString()} (${t.dir})`}function Xhe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var tC=class{},St=class t extends tC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new j0(e,n,r):n==="array-contains"?new X0(e,r):n==="in"?new Z0(e,r):n==="not-in"?new eb(e,r):n==="array-contains-any"?new tb(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new K0(e,r):new $0(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(sl(n,this.value)):n!==null&&Oa(this.value)===Oa(n)&&this.matchesComparison(sl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ni=class t extends tC{constructor(e,n){super(),this.filters=e,this.op=n,this.memoizedFlattenedFilters=null}static create(e,n){return new t(e,n)}matches(e){return RH(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.memoizedFlattenedFilters!==null?this.memoizedFlattenedFilters:(this.memoizedFlattenedFilters=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[]),this.memoizedFlattenedFilters)}getFilters(){return Object.assign([],this.filters)}};function RH(t){return t.op==="and"}function TH(t){return Zhe(t)&&RH(t)}function Zhe(t){for(let e of t.filters)if(e instanceof ni)return!1;return!0}function z0(t){if(t instanceof St)return t.field.canonicalString()+t.op.toString()+ol(t.value);if(TH(t))return t.filters.map(e=>z0(e)).join(",");{let e=t.filters.map(n=>z0(n)).join(",");return`${t.op}(${e})`}}function NH(t,e){if(t instanceof St)return ede(t,e);if(t instanceof ni)return tde(t,e);re()}function ede(t,e){return e instanceof St&&t.op===e.op&&t.field.isEqual(e.field)&&ei(t.value,e.value)}function tde(t,e){return e instanceof ni&&t.op===e.op&&t.filters.length===e.filters.length?t.filters.reduce((r,i,s)=>r&&NH(i,e.filters[s]),!0):!1}function kH(t){return t instanceof St?rde(t):t instanceof ni?nde(t):"Filter"}function nde(t){return t.op.toString()+" {"+t.getFilters().map(kH).join(" ,")+"}"}function rde(t){return`${t.field.canonicalString()} ${t.op} ${ol(t.value)}`}var j0=class extends St{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){let n=te.comparator(e.key,this.key);return this.matchesComparison(n)}},K0=class extends St{constructor(e,n){super(e,"in",n),this.keys=FH("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},$0=class extends St{constructor(e,n){super(e,"not-in",n),this.keys=FH("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function FH(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}var X0=class extends St{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return QD(n)&&cd(n.arrayValue,this.value)}},Z0=class extends St{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&cd(this.value.arrayValue,n)}},eb=class extends St{constructor(e,n){super(e,"not-in",n)}matches(e){if(cd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!cd(this.value.arrayValue,n)}},tb=class extends St{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!QD(n)||!n.arrayValue.values?!1:n.arrayValue.values.some(r=>cd(this.value.arrayValue,r))}};var nb=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.memoizedCanonicalId=null}};function kG(t,e=null,n=[],r=[],i=null,s=null,o=null){return new nb(t,e,n,r,i,s,o)}function wD(t){let e=Ae(t);if(e.memoizedCanonicalId===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>z0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>Khe(r)).join(","),vC(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ol(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ol(r)).join(",")),e.memoizedCanonicalId=n}return e.memoizedCanonicalId}function ide(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>kH(n)).join(", ")}]`),vC(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>$he(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>ol(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>ol(n)).join(",")),`Target(${e})`}function vD(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Xhe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!NH(t.filters[n],e.filters[n]))return!1;return t.collectionGroup!==e.collectionGroup||!t.path.isEqual(e.path)||!NG(t.startAt,e.startAt)?!1:NG(t.endAt,e.endAt)}function rb(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ua=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,A=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=A,this.memoizedNormalizedOrderBy=null,this.memoizedTarget=null,this.memoizedAggregateTarget=null,this.startAt,this.endAt}};function sde(t,e,n,r,i,s,o,a){return new Ua(t,e,n,r,i,s,o,a)}function _D(t){return new Ua(t)}function ode(t,e){return new Ua(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function FG(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ade(t){let e=new hn(cr.comparator);return t.filters.forEach(n=>{n.getFlattenedFilters().forEach(i=>{i.isInequality()&&(e=e.add(i.field))})}),e}function Ade(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function MH(t){return t.collectionGroup!==null}function ld(t){let e=Ae(t);if(e.memoizedNormalizedOrderBy===null){e.memoizedNormalizedOrderBy=[];let n=new Set;for(let s of e.explicitOrderBy)e.memoizedNormalizedOrderBy.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";ade(e).forEach(s=>{!n.has(s.canonicalString())&&!s.isKeyField()&&e.memoizedNormalizedOrderBy.push(new Al(s,r))}),n.has(cr.keyField().canonicalString())||e.memoizedNormalizedOrderBy.push(new Al(cr.keyField(),r))}return e.memoizedNormalizedOrderBy}function Wi(t){let e=Ae(t);return e.memoizedTarget||(e.memoizedTarget=cde(e,ld(t))),e.memoizedTarget}function cde(t,e){if(t.limitType==="F")return kG(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Al(i.field,s)});let n=t.endAt?new al(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new al(t.startAt.position,t.startAt.inclusive):null;return kG(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function SD(t,e){let n=t.filters.concat([e]);return new Ua(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ib(t,e,n){return new Ua(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _C(t,e){return vD(Wi(t),Wi(e))&&t.limitType===e.limitType}function xH(t){return`${wD(Wi(t))}|lt:${t.limitType}`}function Zc(t){return`Query(target=${ide(Wi(t))}; limitType=${t.limitType})`}function SC(t,e){return e.isFoundDocument()&&lde(t,e)&&ude(t,e)&&hde(t,e)&&dde(t,e)}function lde(t,e){let n=e.key.path;return t.collectionGroup!==null?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):te.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}function ude(t,e){for(let n of ld(t))if(!n.field.isKeyField()&&e.data.field(n.field)===null)return!1;return!0}function hde(t,e){for(let n of t.filters)if(!n.matches(e))return!1;return!0}function dde(t,e){return!(t.startAt&&!jhe(t.startAt,ld(t),e)||t.endAt&&!zhe(t.endAt,ld(t),e))}function fde(t){return t.collectionGroup||(t.path.length%2===1?t.path.lastSegment():t.path.get(t.path.length-2))}function LH(t){return(e,n)=>{let r=!1;for(let i of ld(t)){let s=gde(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function gde(t,e,n){let r=t.field.isKeyField()?te.comparator(e.key,n.key):Jhe(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return re()}}var So=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0){this.inner[r]=[[e,n]],this.innerSize++;return}for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e)){i[s]=[e,n];return}i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ya(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return yH(this.inner)}size(){return this.innerSize}};var pde=new mt(te.comparator);function vs(){return pde}var OH=new mt(te.comparator);function nd(...t){let e=OH;for(let n of t)e=e.insert(n.key,n);return e}function Ede(){return ud()}function UH(t){let e=OH;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ta(){return ud()}function PH(){return ud()}function ud(){return new So(t=>t.toString(),(t,e)=>t.isEqual(e))}var mde=new mt(te.comparator);function Cde(){return mde}var Ide=new hn(te.comparator);function ye(...t){let e=Ide;for(let n of t)e=e.add(n);return e}var yde=new hn(Me);function Bde(){return yde}function VH(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ad(e)?"-0":e}}function qH(t){return{integerValue:""+t}}function Qde(t,e){return She(e)?qH(e):VH(t,e)}var cl=class{constructor(){this._=void 0}};function wde(t,e,n){return t instanceof ll?vhe(n,e):t instanceof Pa?HH(t,e):t instanceof Va?YH(t,e):Sde(t,e)}function vde(t,e,n){return t instanceof Pa?HH(t,e):t instanceof Va?YH(t,e):n}function GH(t,e){return t instanceof ul?Whe(e)?e:{integerValue:0}:null}function _de(t,e){return t instanceof Pa&&e instanceof Pa||t instanceof Va&&e instanceof Va?xa(t.elements,e.elements,ei):t instanceof ul&&e instanceof ul?ei(t.operand,e.operand):t instanceof ll&&e instanceof ll}var ll=class extends cl{},Pa=class extends cl{constructor(e){super(),this.elements=e}};function HH(t,e){let n=WH(e);for(let r of t.elements)n.some(i=>ei(i,r))||n.push(r);return{arrayValue:{values:n}}}var Va=class extends cl{constructor(e){super(),this.elements=e}};function YH(t,e){let n=WH(e);for(let r of t.elements)n=n.filter(i=>!ei(i,r));return{arrayValue:{values:n}}}var ul=class extends cl{constructor(e,n){super(),this.serializer=e,this.operand=n}};function Sde(t,e){let n=GH(t,e),r=MG(n)+MG(t.operand);return J0(n)&&J0(t.operand)?qH(r):VH(t.serializer,r)}function MG(t){return Et(t.integerValue||t.doubleValue)}function WH(t){return QD(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function bde(t,e){return t.field.isEqual(e.field)&&_de(t.transform,e.transform)}function Dde(t,e){return t===void 0&&e===void 0?!0:t&&e?xa(t,e,(n,r)=>bde(n,r)):!1}var sb=class{constructor(e,n){this.version=e,this.transformResults=n}},Ji=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function bC(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists!==void 0?t.exists===e.isFoundDocument():!0}var hl=class{};function JH(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new hd(t.key,Ji.none()):new qa(t.key,t.data,Ji.none());{let n=t.data,r=Ar.empty(),i=new hn(cr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ki(t.key,r,new Tr(i.toArray()),Ji.none())}}function Rde(t,e,n){t instanceof qa?Nde(t,e,n):t instanceof Ki?Fde(t,e,n):xde(t,e,n)}function sd(t,e,n,r){return t instanceof qa?kde(t,e,n,r):t instanceof Ki?Mde(t,e,n,r):Lde(t,e,n)}function Tde(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=GH(r.transform,i||null);s!=null&&(n===null&&(n=Ar.empty()),n.set(r.field,s))}return n||null}function xG(t,e){return t.type!==e.type||!t.key.isEqual(e.key)||!t.precondition.isEqual(e.precondition)||!Dde(t.fieldTransforms,e.fieldTransforms)?!1:t.type===0?t.value.isEqual(e.value):t.type===1?t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask):!0}var qa=class extends hl{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}};function Nde(t,e,n){let r=t.value.clone(),i=jH(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}function kde(t,e,n,r){if(!bC(t.precondition,e))return n;let i=t.value.clone(),s=KH(t.fieldTransforms,r,e);return i.setAll(s),e.convertToFoundDocument(e.version,i).setHasLocalMutations(),null}var Ki=class extends hl{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function Fde(t,e,n){if(!bC(t.precondition,e)){e.convertToUnknownDocument(n.version);return}let r=jH(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(zH(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}function Mde(t,e,n,r){if(!bC(t.precondition,e))return n;let i=KH(t.fieldTransforms,r,e),s=e.data;return s.setAll(zH(t)),s.setAll(i),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),n===null?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map(o=>o.field))}function zH(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function jH(t,e,n){let r=new Map;Xe(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,vde(o,a,n[i]))}return r}function KH(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,wde(s,o,e))}return r}var hd=class extends hl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};function xde(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}function Lde(t,e,n){return bC(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}var ob=class extends hl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var ab=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];if(s.key.isEqual(e.key)){let o=r[i];Rde(s,e,o)}}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=sd(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=sd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=PH();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let A=JH(o,a);A!==null&&r.set(i.key,A),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ye())}isEqual(e){return this.batchId===e.batchId&&xa(this.mutations,e.mutations,(n,r)=>xG(n,r))&&xa(this.baseMutations,e.baseMutations,(n,r)=>xG(n,r))}},Ab=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Xe(e.mutations.length===r.length);let i=Cde(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var cb=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var lb=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ot=function(t){return t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS",t}(Ot||{});function Ode(t){switch(t){case b.OK:return re();case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0;default:return re()}}function Ude(t){return Ode(t)&&t!==b.ABORTED}function zm(t){if(t===void 0)return Nr("GRPC error has no .code"),b.UNKNOWN;switch(t){case Ot.OK:return b.OK;case Ot.CANCELLED:return b.CANCELLED;case Ot.UNKNOWN:return b.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return b.INTERNAL;case Ot.UNAVAILABLE:return b.UNAVAILABLE;case Ot.UNAUTHENTICATED:return b.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case Ot.NOT_FOUND:return b.NOT_FOUND;case Ot.ALREADY_EXISTS:return b.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return b.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case Ot.ABORTED:return b.ABORTED;case Ot.OUT_OF_RANGE:return b.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return b.UNIMPLEMENTED;case Ot.DATA_LOSS:return b.DATA_LOSS;default:return re()}}var ub=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var S0=null;function Pde(){return new zue}var Vde=new Ca([4294967295,4294967295],0);function LG(t){let e=Pde().encode(t),n=new WU;return n.update(e),new Uint8Array(n.digest())}function OG(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0),o=new Ca([n,r],0),a=new Ca([i,s],0);return[o,a]}var hb=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Na(`Invalid padding: ${n}`);if(r<0)throw new Na(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Na(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Na(`Invalid padding when bitmap length is 0: ${n}`);this.bitCount=e.length*8-n,this.bitCountInInteger=Ca.fromNumber(this.bitCount)}getBitIndex(e,n,r){let i=e.add(n.multiply(Ca.fromNumber(r)));return i.compare(Vde)===1&&(i=new Ca([i.getBits(0),i.getBits(1)],0)),i.modulo(this.bitCountInInteger).toNumber()}isBitSet(e){let n=this.bitmap[Math.floor(e/8)],r=e%8;return(n&1<<r)!==0}mightContain(e){if(this.bitCount===0)return!1;let n=LG(e),[r,i]=OG(n);for(let s=0;s<this.hashCount;s++){let o=this.getBitIndex(r,i,s);if(!this.isBitSet(o))return!1}return!0}static create(e,n,r){let i=e%8===0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.bitCount===0)return;let n=LG(e),[r,i]=OG(n);for(let s=0;s<this.hashCount;s++){let o=this.getBitIndex(r,i,s);this.setBit(o)}}setBit(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Na=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var nC=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,dd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ce.min(),i,new mt(Me),vs(),ye())}},dd=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ye(),ye(),ye())}};var il=class{constructor(e,n,r,i){this.updatedTargetIds=e,this.removedTargetIds=n,this.key=r,this.newDoc=i}},rC=class{constructor(e,n){this.targetId=e,this.existenceFilter=n}},iC=class{constructor(e,n,r=Dn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},sC=class{constructor(){this.pendingResponses=0,this.documentChanges=PG(),this._resumeToken=Dn.EMPTY_BYTE_STRING,this._current=!1,this._hasPendingChanges=!0}get current(){return this._current}get resumeToken(){return this._resumeToken}get isPending(){return this.pendingResponses!==0}get hasPendingChanges(){return this._hasPendingChanges}updateResumeToken(e){e.approximateByteSize()>0&&(this._hasPendingChanges=!0,this._resumeToken=e)}toTargetChange(){let e=ye(),n=ye(),r=ye();return this.documentChanges.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:re()}}),new dd(this._resumeToken,this._current,e,n,r)}clearPendingChanges(){this._hasPendingChanges=!1,this.documentChanges=PG()}addDocumentChange(e,n){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(e,n)}removeDocumentChange(e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(e)}recordPendingTargetRequest(){this.pendingResponses+=1}recordTargetResponse(){this.pendingResponses-=1,Xe(this.pendingResponses>=0)}markCurrent(){this._hasPendingChanges=!0,this._current=!0}},qde="WatchChangeAggregator",db=class{constructor(e){this.metadataProvider=e,this.targetStates=new Map,this.pendingDocumentUpdates=vs(),this.pendingDocumentTargetMapping=UG(),this.pendingTargetResets=new mt(Me)}handleDocumentChange(e){for(let n of e.updatedTargetIds)e.newDoc&&e.newDoc.isFoundDocument()?this.addDocumentToTarget(n,e.newDoc):this.removeDocumentFromTarget(n,e.key,e.newDoc);for(let n of e.removedTargetIds)this.removeDocumentFromTarget(n,e.key,e.newDoc)}handleTargetChange(e){this.forEachTarget(e,n=>{let r=this.ensureTargetState(n);switch(e.state){case 0:this.isActiveTarget(n)&&r.updateResumeToken(e.resumeToken);break;case 1:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(e.resumeToken);break;case 2:r.recordTargetResponse(),r.isPending||this.removeTarget(n);break;case 3:this.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(e.resumeToken));break;case 4:this.isActiveTarget(n)&&(this.resetTarget(n),r.updateResumeToken(e.resumeToken));break;default:re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.targetStates.forEach((r,i)=>{this.isActiveTarget(i)&&n(i)})}handleExistenceFilter(e){let n=e.targetId,r=e.existenceFilter.count,i=this.targetDataForActiveTarget(n);if(i){let s=i.target;if(rb(s))if(r===0){let o=new te(s.path);this.removeDocumentFromTarget(n,o,ti.newNoDocument(o,ce.min()))}else Xe(r===1);else{let o=this.getCurrentDocumentCountForTarget(n);if(o!==r){let a=this.parseBloomFilter(e),A=a?this.applyBloomFilter(a,e,o):1;if(A!==0){this.resetTarget(n);let c=A===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.pendingTargetResets=this.pendingTargetResets.insert(n,c)}S0?.notifyOnExistenceFilterMismatch(Gde(o,e.existenceFilter,this.metadataProvider.getDatabaseId(),a,A))}}}}parseBloomFilter(e){let n=e.existenceFilter.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o;try{o=_o(r).toUint8Array()}catch(A){if(A instanceof ub)return rl("Decoding the base64 bloom filter in existence filter failed ("+A.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw A}let a;try{a=new hb(o,i,s)}catch(A){return A instanceof Na?rl("BloomFilter error: ",A):rl("Applying bloom filter failed: ",A),null}return a.bitCount===0?null:a}applyBloomFilter(e,n,r){let i=n.existenceFilter.count,s=this.filterRemovedDocuments(e,n.targetId);return i===r-s?0:2}filterRemovedDocuments(e,n){let r=this.metadataProvider.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.metadataProvider.getDatabaseId(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.removeDocumentFromTarget(n,s,null),i++)}),i}createRemoteEvent(e){let n=new Map;this.targetStates.forEach((s,o)=>{let a=this.targetDataForActiveTarget(o);if(a){if(s.current&&rb(a.target)){let A=new te(a.target.path);this.pendingDocumentUpdates.get(A)===null&&!this.targetContainsDocument(o,A)&&this.removeDocumentFromTarget(o,A,ti.newNoDocument(A,e))}s.hasPendingChanges&&(n.set(o,s.toTargetChange()),s.clearPendingChanges())}});let r=ye();this.pendingDocumentTargetMapping.forEach((s,o)=>{let a=!0;o.forEachWhile(A=>{let c=this.targetDataForActiveTarget(A);return c&&c.purpose!=="TargetPurposeLimboResolution"?(a=!1,!1):!0}),a&&(r=r.add(s))}),this.pendingDocumentUpdates.forEach((s,o)=>o.setReadTime(e));let i=new nC(e,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=vs(),this.pendingDocumentTargetMapping=UG(),this.pendingTargetResets=new mt(Me),i}addDocumentToTarget(e,n){if(!this.isActiveTarget(e))return;let r=this.targetContainsDocument(e,n.key)?2:0;this.ensureTargetState(e).addDocumentChange(n.key,r),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(n.key,n),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(n.key,this.ensureDocumentTargetMapping(n.key).add(e))}removeDocumentFromTarget(e,n,r){if(!this.isActiveTarget(e))return;let i=this.ensureTargetState(e);this.targetContainsDocument(e,n)?i.addDocumentChange(n,1):i.removeDocumentChange(n),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(n,this.ensureDocumentTargetMapping(n).delete(e)),r&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(n,r))}removeTarget(e){this.targetStates.delete(e)}getCurrentDocumentCountForTarget(e){let r=this.ensureTargetState(e).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}recordPendingTargetRequest(e){this.ensureTargetState(e).recordPendingTargetRequest()}ensureTargetState(e){let n=this.targetStates.get(e);return n||(n=new sC,this.targetStates.set(e,n)),n}ensureDocumentTargetMapping(e){let n=this.pendingDocumentTargetMapping.get(e);return n||(n=new hn(Me),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,n)),n}isActiveTarget(e){let n=this.targetDataForActiveTarget(e)!==null;return n||P(qde,"Detected inactive target",e),n}targetDataForActiveTarget(e){let n=this.targetStates.get(e);return n&&n.isPending?null:this.metadataProvider.getTargetDataForTarget(e)}resetTarget(e){this.targetStates.set(e,new sC),this.metadataProvider.getRemoteKeysForTarget(e).forEach(r=>{this.removeDocumentFromTarget(e,r,null)})}targetContainsDocument(e,n){return this.metadataProvider.getRemoteKeysForTarget(e).has(n)}};function UG(){return new mt(te.comparator)}function PG(){return new mt(te.comparator)}function Gde(t,e,n,r,i){var s,o,a,A,c,l;let u={localCacheCount:t,existenceFilterCount:e.count,databaseId:n.database,projectId:n.projectId},h=e.unchangedNames;return h&&(u.bloomFilter={applied:i===0,hashCount:(s=h?.hashCount)!==null&&s!==void 0?s:0,bitmapLength:(A=(a=(o=h?.bits)===null||o===void 0?void 0:o.bitmap)===null||a===void 0?void 0:a.length)!==null&&A!==void 0?A:0,padding:(l=(c=h?.bits)===null||c===void 0?void 0:c.padding)!==null&&l!==void 0?l:0,mightContain:d=>{var f;return(f=r?.mightContain(d))!==null&&f!==void 0?f:!1}}),u}var Hde=(()=>{let t={};return t.asc="ASCENDING",t.desc="DESCENDING",t})(),Yde=(()=>{let t={};return t["<"]="LESS_THAN",t["<="]="LESS_THAN_OR_EQUAL",t[">"]="GREATER_THAN",t[">="]="GREATER_THAN_OR_EQUAL",t["=="]="EQUAL",t["!="]="NOT_EQUAL",t["array-contains"]="ARRAY_CONTAINS",t.in="IN",t["not-in"]="NOT_IN",t["array-contains-any"]="ARRAY_CONTAINS_ANY",t})(),Wde=(()=>{let t={};return t.and="AND",t.or="OR",t})();var fb=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Jde(t){let e=t.code===void 0?b.UNKNOWN:zm(t.code);return new G(e,t.message||"")}function gb(t,e){return t.useProto3Json||vC(e)?e:{value:e}}function zde(t){let e;return typeof t=="object"?e=t.value:e=t,vC(e)?null:e}function oC(t,e){if(t.useProto3Json){let r=new Date(e.seconds*1e3).toISOString().replace(/\.\d*/,"").replace("Z",""),i=("000000000"+e.nanoseconds).slice(-9);return`${r}.${i}Z`}else return{seconds:""+e.seconds,nanos:e.nanoseconds}}function jde(t){let e=ws(t);return new Kt(e.seconds,e.nanos)}function $H(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Kde(t,e){return t.useProto3Json?(Xe(e===void 0||typeof e=="string"),Dn.fromBase64String(e||"")):(Xe(e===void 0||e instanceof Buffer||e instanceof Uint8Array),Dn.fromUint8Array(e||new Uint8Array))}function $de(t,e){return oC(t,e.toTimestamp())}function zi(t){return Xe(!!t),ce.fromTimestamp(jde(t))}function bD(t,e){return pb(t,e).canonicalString()}function pb(t,e){let n=Zde(t).child("documents");return e===void 0?n:n.child(e)}function XH(t){let e=ut.fromString(t);return Xe(rY(e)),e}function Eb(t,e){return bD(t.databaseId,e.path)}function b0(t,e){let n=XH(e);if(n.get(1)!==t.databaseId.projectId)throw new G(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(eY(n))}function ZH(t,e){return bD(t.databaseId,e)}function Xde(t){let e=XH(t);return e.length===4?ut.emptyPath():eY(e)}function mb(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Zde(t){return new ut(["projects",t.projectId,"databases",t.database])}function eY(t){return Xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function VG(t,e,n){return{name:Eb(t,e),fields:n.value.mapValue.fields}}function efe(t,e){let n;if("targetChange"in e){e.targetChange;let r=tfe(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=Kde(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&Jde(o);n=new iC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=b0(t,r.document.name),s=zi(r.document.updateTime),o=r.document.createTime?zi(r.document.createTime):ce.min(),a=new Ar({mapValue:{fields:r.document.fields}}),A=ti.newFoundDocument(i,s,o,a),c=r.targetIds||[],l=r.removedTargetIds||[];n=new il(c,l,A.key,A)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=b0(t,r.document),s=r.readTime?zi(r.readTime):ce.min(),o=ti.newNoDocument(i,s),a=r.removedTargetIds||[];n=new il([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=b0(t,r.document),s=r.removedTargetIds||[];n=new il([],s,i,null)}else if("filter"in e){e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new lb(i,s),a=r.targetId;n=new rC(a,o)}else return re();return n}function tfe(t){return t==="NO_CHANGE"?0:t==="ADD"?1:t==="REMOVE"?2:t==="CURRENT"?3:t==="RESET"?4:re()}function nfe(t){if(!("targetChange"in t))return ce.min();let e=t.targetChange;return e.targetIds&&e.targetIds.length||!e.readTime?ce.min():zi(e.readTime)}function rfe(t,e){let n;if(e instanceof qa)n={update:VG(t,e.key,e.value)};else if(e instanceof hd)n={delete:Eb(t,e.key)};else if(e instanceof Ki)n={update:VG(t,e.key,e.data),updateMask:Mfe(e.fieldMask)};else if(e instanceof ob)n={verify:Eb(t,e.key)};else return re();return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>afe(t,r))),e.precondition.isNone||(n.currentDocument=ife(t,e.precondition)),n}function ife(t,e){return e.updateTime!==void 0?{updateTime:$de(t,e.updateTime)}:e.exists!==void 0?{exists:e.exists}:re()}function sfe(t,e){let n=t.updateTime?zi(t.updateTime):zi(e);return n.isEqual(ce.min())&&(n=zi(e)),new sb(n,t.transformResults||[])}function ofe(t,e){return t&&t.length>0?(Xe(e!==void 0),t.map(n=>sfe(n,e))):[]}function afe(t,e){let n=e.transform;if(n instanceof ll)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Pa)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Va)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ul)return{fieldPath:e.field.canonicalString(),increment:n.operand};throw re()}function Afe(t,e){return{documents:[ZH(t,e.path)]}}function cfe(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ZH(t,i);let s=ffe(e.filters);s&&(n.structuredQuery.where=s);let o=pfe(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=gb(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=mfe(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Cfe(e.endAt)),{queryTarget:n,parent:i}}function lfe(t){let e=Xde(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Xe(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=gfe(n.where));let o=[];n.orderBy&&(o=Efe(n.orderBy));let a=null;n.limit&&(a=zde(n.limit));let A=null;n.startAt&&(A=Ife(n.startAt));let c=null;return n.endAt&&(c=yfe(n.endAt)),sde(e,i,o,s,a,"F",A,c)}function ufe(t,e){let n=hfe(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hfe(t){switch(t){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re()}}function dfe(t,e){let n,r=e.target;if(rb(r)?n={documents:Afe(t,r)}:n={query:cfe(t,r).queryTarget},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){n.resumeToken=$H(t,e.resumeToken);let i=gb(t,e.expectedCount);i!==null&&(n.expectedCount=i)}else if(e.snapshotVersion.compareTo(ce.min())>0){n.readTime=oC(t,e.snapshotVersion.toTimestamp());let i=gb(t,e.expectedCount);i!==null&&(n.expectedCount=i)}return n}function ffe(t){if(t.length!==0)return nY(ni.create(t,"and"))}function gfe(t){let e=tY(t);return e instanceof ni&&TH(e)?e.getFilters():[e]}function tY(t){return t.unaryFilter!==void 0?Nfe(t):t.fieldFilter!==void 0?kfe(t):t.compositeFilter!==void 0?Ffe(t):re()}function pfe(t){if(t.length!==0)return t.map(e=>bfe(e))}function Efe(t){return t.map(e=>Dfe(e))}function mfe(t){return{before:t.inclusive,values:t.position}}function Cfe(t){return{before:!t.inclusive,values:t.position}}function Ife(t){let e=!!t.before,n=t.values||[];return new al(n,e)}function yfe(t){let e=!t.before,n=t.values||[];return new al(n,e)}function Bfe(t){return Hde[t]}function Qfe(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}function wfe(t){return Yde[t]}function vfe(t){return Wde[t]}function _fe(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return re();default:return re()}}function Sfe(t){switch(t){case"AND":return"and";case"OR":return"or";default:return re()}}function el(t){return{fieldPath:t.canonicalString()}}function nl(t){return cr.fromServerFormat(t.fieldPath)}function bfe(t){return{field:el(t.field),direction:Bfe(t.dir)}}function Dfe(t){return new Al(nl(t.field),Qfe(t.direction))}function nY(t){return t instanceof St?Tfe(t):t instanceof ni?Rfe(t):re()}function Rfe(t){let e=t.getFilters().map(n=>nY(n));return e.length===1?e[0]:{compositeFilter:{op:vfe(t.op),filters:e}}}function Tfe(t){if(t.op==="=="){if(TG(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NAN"}};if(RG(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(TG(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NOT_NAN"}};if(RG(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(t.field),op:wfe(t.op),value:t.value}}}function Nfe(t){switch(t.unaryFilter.op){case"IS_NAN":let e=nl(t.unaryFilter.field);return St.create(e,"==",{doubleValue:NaN});case"IS_NULL":let n=nl(t.unaryFilter.field);return St.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let r=nl(t.unaryFilter.field);return St.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let i=nl(t.unaryFilter.field);return St.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return re();default:return re()}}function kfe(t){return St.create(nl(t.fieldFilter.field),_fe(t.fieldFilter.op),t.fieldFilter.value)}function Ffe(t){return ni.create(t.compositeFilter.filters.map(e=>tY(e)),Sfe(t.compositeFilter.op))}function Mfe(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rY(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var fd=class t{constructor(e,n,r,i,s=ce.min(),o=ce.min(),a=Dn.EMPTY_BYTE_STRING,A=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=A}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Cb=class{constructor(e){this.remoteSerializer=e}};function xfe(t){let e=lfe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ib(e,e.limit,"L"):e}function Lfe(t){return{name:t.name,query:xfe(t.bundledQuery),readTime:zi(t.readTime)}}function Ofe(t){return{id:t.id,version:t.version,createTime:zi(t.createTime)}}var Ufe=5,Pfe=10,Vfe=13,qG=15,qfe=20,Gfe=25,Hfe=30,Yfe=37,Wfe=45,Jfe=50,zfe=55,jfe=60,Kfe=2,aC=class{constructor(){}writeIndexValue(e,n){this.writeIndexValueAux(e,n),n.writeInfinity()}writeIndexValueAux(e,n){if("nullValue"in e)this.writeValueTypeLabel(n,Ufe);else if("booleanValue"in e)this.writeValueTypeLabel(n,Pfe),n.writeNumber(e.booleanValue?1:0);else if("integerValue"in e)this.writeValueTypeLabel(n,qG),n.writeNumber(Et(e.integerValue));else if("doubleValue"in e){let r=Et(e.doubleValue);isNaN(r)?this.writeValueTypeLabel(n,Vfe):(this.writeValueTypeLabel(n,qG),Ad(r)?n.writeNumber(0):n.writeNumber(r))}else if("timestampValue"in e){let r=e.timestampValue;this.writeValueTypeLabel(n,qfe),typeof r=="string"&&(r=ws(r)),n.writeString(`${r.seconds||""}`),n.writeNumber(r.nanos||0)}else if("stringValue"in e)this.writeIndexString(e.stringValue,n),this.writeTruncationMarker(n);else if("bytesValue"in e)this.writeValueTypeLabel(n,Hfe),n.writeBytes(_o(e.bytesValue)),this.writeTruncationMarker(n);else if("referenceValue"in e)this.writeIndexEntityRef(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.writeValueTypeLabel(n,Wfe),n.writeNumber(r.latitude||0),n.writeNumber(r.longitude||0)}else"mapValue"in e?SH(e)?this.writeValueTypeLabel(n,Number.MAX_SAFE_INTEGER):(this.writeIndexMap(e.mapValue,n),this.writeTruncationMarker(n)):"arrayValue"in e?(this.writeIndexArray(e.arrayValue,n),this.writeTruncationMarker(n)):re()}writeIndexString(e,n){this.writeValueTypeLabel(n,Gfe),this.writeUnlabeledIndexString(e,n)}writeUnlabeledIndexString(e,n){n.writeString(e)}writeIndexMap(e,n){let r=e.fields||{};this.writeValueTypeLabel(n,zfe);for(let i of Object.keys(r))this.writeIndexString(i,n),this.writeIndexValueAux(r[i],n)}writeIndexArray(e,n){let r=e.values||[];this.writeValueTypeLabel(n,Jfe);for(let i of r)this.writeIndexValueAux(i,n)}writeIndexEntityRef(e,n){this.writeValueTypeLabel(n,Yfe),te.fromName(e).path.forEach(i=>{this.writeValueTypeLabel(n,jfe),this.writeUnlabeledIndexString(i,n)})}writeValueTypeLabel(e,n){e.writeNumber(n)}writeTruncationMarker(e){e.writeNumber(Kfe)}};aC.INSTANCE=new aC;var Ib=class{constructor(){this.collectionParentIndex=new yb}addToCollectionParentIndex(e,n){return this.collectionParentIndex.add(n),N.resolve()}getCollectionParents(e,n){return N.resolve(this.collectionParentIndex.getEntries(n))}addFieldIndex(e,n){return N.resolve()}deleteFieldIndex(e,n){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,n){return N.resolve()}getDocumentsMatchingTarget(e,n){return N.resolve(null)}getIndexType(e,n){return N.resolve(0)}getFieldIndexes(e,n){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,n){return N.resolve(La.min())}getMinOffsetFromCollectionGroup(e,n){return N.resolve(La.min())}updateCollectionGroup(e,n,r){return N.resolve()}updateIndexEntries(e,n){return N.resolve()}},yb=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new hn(ut.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new hn(ut.comparator)).toArray()}};var S0e=new Uint8Array(0);var D0=2,gd=class t{constructor(e){this.lastId=e}next(){return this.lastId+=D0,this.lastId}static forTargetCache(){return new t(2-D0)}static forSyncEngine(){return new t(1-D0)}};var iY=-1,sY=40*1024*1024,Yi=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Yi.DEFAULT_COLLECTION_PERCENTILE=10;Yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3;Yi.DEFAULT=new Yi(sY,Yi.DEFAULT_COLLECTION_PERCENTILE,Yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT);Yi.DISABLED=new Yi(iY,0,0);var GG=1*1024*1024,b0e=1*60*1e3,D0e=5*60*1e3;var Bb=class{constructor(){this.changes=new So(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ti.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Qb=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var wb=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&sd(r.mutation,i,Tr.empty(),Kt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ye()){let i=Ta();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=nd();return s.forEach((a,A)=>{o=o.insert(a,A.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Ta();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ye()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=vs(),o=ud(),a=Ede();return n.forEach((A,c)=>{let l=r.get(c.key);i.has(c.key)&&(l===void 0||l.mutation instanceof Ki)?s=s.insert(c.key,c):l!==void 0?(o.set(c.key,l.mutation.getFieldMask()),sd(l.mutation,c,l.mutation.getFieldMask(),Kt.now())):o.set(c.key,Tr.empty())}),this.recalculateAndSaveOverlays(e,s).next(A=>(A.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var u;return a.set(c,new Qb(l,(u=o.get(c))!==null&&u!==void 0?u:null))}),a))}recalculateAndSaveOverlays(e,n){let r=ud(),i=new mt((o,a)=>o-a),s=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(A=>{let c=n.get(A);if(c===null)return;let l=r.get(A)||Tr.empty();l=a.applyToLocalView(c,l),r.set(A,l);let u=(i.get(a.batchId)||ye()).add(A);i=i.insert(a.batchId,u)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let A=a.getNext(),c=A.key,l=A.value,u=PH();l.forEach(h=>{if(!s.has(h)){let d=JH(n.get(h),r.get(h));d!==null&&u.set(h,d),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,u))}return N.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return Ade(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):MH(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):N.resolve(Ta()),a=od,A=s;return o.next(c=>N.forEach(c,(l,u)=>(a<u.largestBatchId&&(a=u.largestBatchId),s.get(l)?N.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{A=A.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,A,c,ye())).next(l=>({batchId:a,changes:UH(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=nd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=nd();return this.indexManager.getCollectionParents(e,s).next(a=>N.forEach(a,A=>{let c=ode(n,A.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(l=>{l.forEach((u,h)=>{o=o.insert(u,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((A,c)=>{let l=c.getKey();o.get(l)===null&&(o=o.insert(l,ti.newInvalidDocument(l)))});let a=nd();return o.forEach((A,c)=>{let l=s.get(A);l!==void 0&&sd(l.mutation,c,Tr.empty(),Kt.now()),SC(n,c)&&(a=a.insert(A,c))}),a})}};var vb=class{constructor(e){this.serializer=e,this.bundles=new Map,this.namedQueries=new Map}getBundleMetadata(e,n){return N.resolve(this.bundles.get(n))}saveBundleMetadata(e,n){return this.bundles.set(n.id,Ofe(n)),N.resolve()}getNamedQuery(e,n){return N.resolve(this.namedQueries.get(n))}saveNamedQuery(e,n){return this.namedQueries.set(n.name,Lfe(n)),N.resolve()}};var _b=class{constructor(){this.overlays=new mt(te.comparator),this.overlayByBatchId=new Map}getOverlay(e,n){return N.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ta();return N.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.saveOverlay(e,n,s)}),N.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.overlayByBatchId.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.overlayByBatchId.delete(r)),N.resolve()}getOverlaysForCollection(e,n,r){let i=Ta(),s=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return N.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new mt((c,l)=>c-l),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=Ta(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Ta(),A=s.getIterator();for(;A.hasNext()&&(A.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return N.resolve(a)}saveOverlay(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.overlayByBatchId.get(i.largestBatchId).delete(r.key);this.overlayByBatchId.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new cb(n,r));let s=this.overlayByBatchId.get(n);s===void 0&&(s=ye(),this.overlayByBatchId.set(n,s)),this.overlayByBatchId.set(n,s.add(r.key))}};var pd=class{constructor(){this.refsByKey=new hn(_t.compareByKey),this.refsByTarget=new hn(_t.compareByTargetId)}isEmpty(){return this.refsByKey.isEmpty()}addReference(e,n){let r=new _t(e,n);this.refsByKey=this.refsByKey.add(r),this.refsByTarget=this.refsByTarget.add(r)}addReferences(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.removeRef(new _t(e,n))}removeReferences(e,n){e.forEach(r=>this.removeReference(r,n))}removeReferencesForId(e){let n=new te(new ut([])),r=new _t(n,e),i=new _t(n,e+1),s=[];return this.refsByTarget.forEachInRange([r,i],o=>{this.removeRef(o),s.push(o.key)}),s}removeAllReferences(){this.refsByKey.forEach(e=>this.removeRef(e))}removeRef(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e)}referencesForId(e){let n=new te(new ut([])),r=new _t(n,e),i=new _t(n,e+1),s=ye();return this.refsByTarget.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new _t(e,0),r=this.refsByKey.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},_t=class{constructor(e,n){this.key=e,this.targetOrBatchId=n}static compareByKey(e,n){return te.comparator(e.key,n.key)||Me(e.targetOrBatchId,n.targetOrBatchId)}static compareByTargetId(e,n){return Me(e.targetOrBatchId,n.targetOrBatchId)||te.comparator(e.key,n.key)}};var Sb=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nextBatchId=1,this.batchesByDocumentKey=new hn(_t.compareByKey)}checkEmpty(e){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new ab(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.batchesByDocumentKey=this.batchesByDocumentKey.add(new _t(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return N.resolve(o)}lookupMutationBatch(e,n){return N.resolve(this.findMutationBatch(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.indexOfBatchId(r),s=i<0?0:i;return N.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?yD:this.nextBatchId-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new _t(n,0),i=new _t(n,Number.POSITIVE_INFINITY),s=[];return this.batchesByDocumentKey.forEachInRange([r,i],o=>{let a=this.findMutationBatch(o.targetOrBatchId);s.push(a)}),N.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new hn(Me);return n.forEach(i=>{let s=new _t(i,0),o=new _t(i,Number.POSITIVE_INFINITY);this.batchesByDocumentKey.forEachInRange([s,o],a=>{r=r.add(a.targetOrBatchId)})}),N.resolve(this.findMutationBatches(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;te.isDocumentKey(s)||(s=s.child(""));let o=new _t(new te(s),0),a=new hn(Me);return this.batchesByDocumentKey.forEachWhile(A=>{let c=A.key.path;return r.isPrefixOf(c)?(c.length===i&&(a=a.add(A.targetOrBatchId)),!0):!1},o),N.resolve(this.findMutationBatches(a))}findMutationBatches(e){let n=[];return e.forEach(r=>{let i=this.findMutationBatch(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){let r=this.indexOfExistingBatchId(n.batchId,"removed");Xe(r===0),this.mutationQueue.shift();let i=this.batchesByDocumentKey;return N.forEach(n.mutations,s=>{let o=new _t(s.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.batchesByDocumentKey=i})}removeCachedMutationKeys(e){}containsKey(e,n){let r=new _t(n,0),i=this.batchesByDocumentKey.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,N.resolve()}indexOfExistingBatchId(e,n){return this.indexOfBatchId(e)}indexOfBatchId(e){if(this.mutationQueue.length===0)return 0;let n=this.mutationQueue[0].batchId;return e-n}findMutationBatch(e){let n=this.indexOfBatchId(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};function $fe(){return new mt(te.comparator)}var bb=class{constructor(e){this.sizer=e,this.docs=$fe(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.sizer(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():ti.newInvalidDocument(n))}getEntries(e,n){let r=vs();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ti.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=vs(),o=n.path,a=new te(o.child("")),A=this.docs.getIteratorFrom(a);for(;A.hasNext();){let{key:c,value:{document:l}}=A.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||ihe(rhe(l),r)<=0||!i.has(l.key)&&!SC(n,l)||(s=s.insert(l.key,l.mutableCopy()))}return N.resolve(s)}getAllFromCollectionGroup(e,n,r,i){re()}forEachDocumentKey(e,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Db(this)}getSize(e){return N.resolve(this.size)}};function Xfe(t){return new bb(t)}var Db=class extends Bb{constructor(e){super(),this.documentCache=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.documentCache.addEntry(e,i)):this.documentCache.removeEntry(r)}),N.waitFor(n)}getFromCache(e,n){return this.documentCache.getEntry(e,n)}getAllFromCache(e,n){return this.documentCache.getEntries(e,n)}};var Rb=class{constructor(e){this.persistence=e,this.targets=new So(n=>wD(n),vD),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new pd,this.targetCount=0,this.targetIdGenerator=gd.forTargetCache()}forEachTarget(e,n){return this.targets.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.highestSequenceNumber)}allocateTargetId(e){return this.highestTargetId=this.targetIdGenerator.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.highestSequenceNumber&&(this.highestSequenceNumber=n),N.resolve()}saveTargetData(e){this.targets.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.targetIdGenerator=new gd(n),this.highestTargetId=n),e.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=e.sequenceNumber)}addTargetData(e,n){return this.saveTargetData(n),this.targetCount+=1,N.resolve()}updateTargetData(e,n){return this.saveTargetData(n),N.resolve()}removeTargetData(e,n){return this.targets.delete(n.target),this.references.removeReferencesForId(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.targets.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.targets.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),N.waitFor(s).next(()=>i)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,n){let r=this.targets.get(n)||null;return N.resolve(r)}addMatchingKeys(e,n,r){return this.references.addReferences(n,r),N.resolve()}removeMatchingKeys(e,n,r){this.references.removeReferences(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),N.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.references.removeReferencesForId(n),N.resolve()}getMatchingKeysForTargetId(e,n){let r=this.references.referencesForId(n);return N.resolve(r)}containsKey(e,n){return N.resolve(this.references.containsKey(n))}};var Zfe="MemoryPersistence",Tb=class{constructor(e,n){this.mutationQueues={},this.overlays={},this.listenSequence=new aH(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.targetCache=new Rb(this);let r=i=>this.referenceDelegate.documentSize(i);this.indexManager=new Ib,this.remoteDocumentCache=Xfe(r),this.serializer=new Cb(n),this.bundleCache=new vb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this._started=!1,Promise.resolve()}get started(){return this._started}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _b,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.mutationQueues[e.toKey()];return r||(r=new Sb(n,this.referenceDelegate),this.mutationQueues[e.toKey()]=r),r}getTargetCache(){return this.targetCache}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.bundleCache}runTransaction(e,n,r){P(Zfe,"Starting transaction:",e);let i=new Nb(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),r(i).next(s=>this.referenceDelegate.onTransactionCommitted(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}mutationQueuesContainKey(e,n){return N.or(Object.values(this.mutationQueues).map(r=>()=>r.containsKey(e,n)))}},Nb=class extends P0{constructor(e){super(),this.currentSequenceNumber=e}},kb=class t{constructor(e){this.persistence=e,this.localViewReferences=new pd,this._orphanedDocuments=null}static factory(e){return new t(e)}get orphanedDocuments(){if(this._orphanedDocuments)return this._orphanedDocuments;throw re()}addReference(e,n,r){return this.localViewReferences.addReference(r,n),this.orphanedDocuments.delete(r.toString()),N.resolve()}removeReference(e,n,r){return this.localViewReferences.removeReference(r,n),this.orphanedDocuments.add(r.toString()),N.resolve()}markPotentiallyOrphaned(e,n){return this.orphanedDocuments.add(n.toString()),N.resolve()}removeTarget(e,n){this.localViewReferences.removeReferencesForId(n.targetId).forEach(s=>this.orphanedDocuments.add(s.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.orphanedDocuments.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}onTransactionStarted(){this._orphanedDocuments=new Set}onTransactionCommitted(e){let r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.orphanedDocuments,i=>{let s=te.fromPath(i);return this.isReferenced(e,s).next(o=>{o||r.removeEntry(s,ce.min())})}).next(()=>(this._orphanedDocuments=null,r.apply(e)))}updateLimboDocument(e,n){return this.isReferenced(e,n).next(r=>{r?this.orphanedDocuments.delete(n.toString()):this.orphanedDocuments.add(n.toString())})}documentSize(e){return 0}isReferenced(e,n){return N.or([()=>N.resolve(this.localViewReferences.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.mutationQueuesContainKey(e,n)])}};var R0e=30*60*1e3;var DD="LocalStore",ege=5*60*1e6,Fb=class{constructor(e,n,r,i){this.persistence=e,this.queryEngine=n,this.serializer=i,this.targetDataByTarget=new mt(Me),this.targetIdByTarget=new So(s=>wD(s),vD),this.collectionGroupReadTime=new Map,this.remoteDocuments=e.getRemoteDocumentCache(),this.targetCache=e.getTargetCache(),this.bundleCache=e.getBundleCache(),this.initializeUserComponents(r)}initializeUserComponents(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wb(this.remoteDocuments,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.remoteDocuments.setIndexManager(this.indexManager),this.queryEngine.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.targetDataByTarget))}};function tge(t,e,n,r){return new Fb(t,e,n,r)}function oY(t,e){return p(this,null,function*(){let n=Ae(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,n.initializeUserComponents(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{let a=[],A=[],c=ye();for(let l of s){a.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}for(let l of o){A.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(i,c).next(l=>({affectedDocuments:l,removedBatchIds:a,addedBatchIds:A}))})})})}function nge(t,e){let n=Ae(t),r=Kt.now(),i=e.reduce((a,A)=>a.add(A.key),ye()),s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",a=>{let A=vs(),c=ye();return n.remoteDocuments.getEntries(a,i).next(l=>{A=l,A.forEach((u,h)=>{h.isValidDocument()||(c=c.add(u))})}).next(()=>n.localDocuments.getOverlayedDocuments(a,A)).next(l=>{s=l;let u=[];for(let h of e){let d=Tde(h,s.get(h.key).overlayedDocument);d!=null&&u.push(new Ki(h.key,d,bH(d.value.mapValue),Ji.exists(!0)))}return n.mutationQueue.addMutationBatch(a,r,u,e)}).next(l=>{o=l;let u=l.applyToLocalDocumentSet(s,c);return n.documentOverlayCache.saveOverlays(a,l.batchId,u)})}).then(()=>({batchId:o.batchId,changes:UH(s)}))}function rge(t,e){let n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.remoteDocuments.newChangeBuffer({trackRemovals:!0});return dge(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,ige(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ige(t){let e=ye();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}function sge(t,e){let n=Ae(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",r=>{let i;return n.mutationQueue.lookupMutationBatch(r,e).next(s=>(Xe(s!==null),i=s.keys(),n.mutationQueue.removeMutationBatch(r,s))).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,i)).next(()=>n.localDocuments.getDocuments(r,i))})}function aY(t){let e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.targetCache.getLastRemoteSnapshotVersion(n))}function oge(t,e){let n=Ae(t),r=e.snapshotVersion,i=n.targetDataByTarget;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.remoteDocuments.newChangeBuffer({trackRemovals:!0});i=n.targetDataByTarget;let a=[];e.targetChanges.forEach((l,u)=>{let h=i.get(u);if(!h)return;a.push(n.targetCache.removeMatchingKeys(s,l.removedDocuments,u).next(()=>n.targetCache.addMatchingKeys(s,l.addedDocuments,u)));let d=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(u)!==null?d=d.withResumeToken(Dn.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):l.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(l.resumeToken,r)),i=i.insert(u,d),Age(h,d,l)&&a.push(n.targetCache.updateTargetData(s,d))});let A=vs(),c=ye();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(age(s,o,e.documentUpdates).next(l=>{A=l.changedDocuments,c=l.existenceChangedKeys})),!r.isEqual(ce.min())){let l=n.targetCache.getLastRemoteSnapshotVersion(s).next(u=>n.targetCache.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return N.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,A,c)).next(()=>A)}).then(s=>(n.targetDataByTarget=i,s))}function age(t,e,n){let r=ye(),i=ye();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=vs();return n.forEach((a,A)=>{let c=s.get(a);A.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),A.isNoDocument()&&A.version.isEqual(ce.min())?(e.removeEntry(a,A.readTime),o=o.insert(a,A)):!c.isValidDocument()||A.version.compareTo(c.version)>0||A.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(A),o=o.insert(a,A)):P(DD,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",A.version)}),{changedDocuments:o,existenceChangedKeys:i}})}function Age(t,e,n){return t.resumeToken.approximateByteSize()===0||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=ege?!0:n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}function cge(t,e){return p(this,null,function*(){let n=Ae(t);try{yield n.persistence.runTransaction("notifyLocalViewChanges","readwrite",r=>N.forEach(e,i=>N.forEach(i.addedKeys,s=>n.persistence.referenceDelegate.addReference(r,i.targetId,s)).next(()=>N.forEach(i.removedKeys,s=>n.persistence.referenceDelegate.removeReference(r,i.targetId,s)))))}catch(r){if(Bd(r))P(DD,"Failed to update sequence numbers: "+r);else throw r}for(let r of e){let i=r.targetId;if(!r.fromCache){let s=n.targetDataByTarget.get(i),o=s.snapshotVersion,a=s.withLastLimboFreeSnapshotVersion(o);n.targetDataByTarget=n.targetDataByTarget.insert(i,a)}}})}function lge(t,e){let n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=yD),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function uge(t,e){let n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.targetCache.getTargetData(r,e).next(s=>s?(i=s,N.resolve(i)):n.targetCache.allocateTargetId(r).next(o=>(i=new fd(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.targetCache.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.targetDataByTarget.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.targetDataByTarget=n.targetDataByTarget.insert(r.targetId,r),n.targetIdByTarget.set(e,r.targetId)),r})}function hge(t,e,n){let r=Ae(t),i=r.targetIdByTarget.get(n);return i!==void 0?N.resolve(r.targetDataByTarget.get(i)):r.targetCache.getTargetData(e,n)}function Mb(t,e,n){return p(this,null,function*(){let r=Ae(t),i=r.targetDataByTarget.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(Bd(o))P(DD,`Failed to update sequence numbers for target ${e}: ${o}`);else throw o}r.targetDataByTarget=r.targetDataByTarget.remove(e),r.targetIdByTarget.delete(i.target)})}function AY(t,e,n){let r=Ae(t),i=ce.min(),s=ye();return r.persistence.runTransaction("Execute query","readwrite",o=>hge(r,o,Wi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.targetCache.getMatchingKeysForTargetId(o,a.targetId).next(A=>{s=A})}).next(()=>r.queryEngine.getDocumentsMatchingQuery(o,e,n?i:ce.min(),n?s:ye())).next(a=>(fge(r,fde(e),a),{documents:a,remoteKeys:s})))}function dge(t,e,n,r){let i=n.batch,s=i.keys(),o=N.resolve();return s.forEach(a=>{o=o.next(()=>r.getEntry(e,a)).next(A=>{let c=n.docVersions.get(a);Xe(c!==null),A.version.compareTo(c)<0&&(i.applyToRemoteDocument(A,n),A.isValidDocument()&&(A.setReadTime(n.commitVersion),r.addEntry(A)))})}),o.next(()=>t.mutationQueue.removeMutationBatch(e,i))}function fge(t,e,n){let r=t.collectionGroupReadTime.get(e)||ce.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.collectionGroupReadTime.set(e,r)}var xb=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var gge=100;function pge(){return AN()?8:Xm.getAndroidVersion(Zt())>0?6:4}var Lb=class{constructor(){this.initialized=!1,this.indexAutoCreationEnabled=!1,this.indexAutoCreationMinCollectionSize=gge,this.relativeIndexReadCostPerDocument=pge()}initialize(e,n){this.localDocumentsView=e,this.indexManager=n,this.initialized=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.performQueryUsingIndex(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.performQueryUsingRemoteKeys(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new xb;return this.executeFullCollectionScan(e,n,o).next(a=>{if(s.result=a,this.indexAutoCreationEnabled)return this.createCacheIndexes(e,n,o,a.size)})}).next(()=>s.result)}createCacheIndexes(e,n,r,i){return r.documentReadCount<this.indexAutoCreationMinCollectionSize?(td()<=pe.DEBUG&&P("QueryEngine","SDK will not create cache indexes for query:",Zc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.indexAutoCreationMinCollectionSize,"documents"),N.resolve()):(td()<=pe.DEBUG&&P("QueryEngine","Query:",Zc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.relativeIndexReadCostPerDocument*i?(td()<=pe.DEBUG&&P("QueryEngine","The SDK decides to create cache indexes for query:",Zc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wi(n))):N.resolve())}performQueryUsingIndex(e,n){if(FG(n))return N.resolve(null);let r=Wi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ib(n,null,"F"),r=Wi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ye(...s);return this.localDocumentsView.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(A=>{let c=this.applyQuery(n,a);return this.needsRefill(n,c,o,A.readTime)?this.performQueryUsingIndex(e,ib(n,null,"F")):this.appendRemainingResults(e,c,n,A)}))})))}performQueryUsingRemoteKeys(e,n,r,i){return FG(n)||i.isEqual(ce.min())?N.resolve(null):this.localDocumentsView.getDocuments(e,r).next(s=>{let o=this.applyQuery(n,s);return this.needsRefill(n,o,r,i)?N.resolve(null):(td()<=pe.DEBUG&&P("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Zc(n)),this.appendRemainingResults(e,o,n,nhe(i,od)).next(a=>a))})}applyQuery(e,n){let r=new hn(LH(e));return n.forEach((i,s)=>{SC(e,s)&&(r=r.add(s))}),r}needsRefill(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return s?s.hasPendingWrites||s.version.compareTo(i)>0:!1}executeFullCollectionScan(e,n,r){return td()<=pe.DEBUG&&P("QueryEngine","Using full collection scan to execute query:",Zc(n)),this.localDocumentsView.getDocumentsMatchingQuery(e,n,La.min(),r)}appendRemainingResults(e,n,r,i){return this.localDocumentsView.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var AC=class{constructor(){this.activeTargetIds=Bde()}addQueryTarget(e){this.activeTargetIds=this.activeTargetIds.add(e)}removeQueryTarget(e){this.activeTargetIds=this.activeTargetIds.delete(e)}toWebStorageJSON(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Ob=class{constructor(){this.localState=new AC,this.queryState={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.localState.addQueryTarget(e),this.queryState[e]||"not-current"}updateQueryState(e,n,r){this.queryState[e]=n}removeLocalQueryTarget(e){this.localState.removeQueryTarget(e)}isLocalQueryTarget(e){return this.localState.activeTargetIds.has(e)}clearQueryState(e){delete this.queryState[e]}getAllActiveQueryTargets(){return this.localState.activeTargetIds}isActiveQueryTarget(e){return this.localState.activeTargetIds.has(e)}start(){return this.localState=new AC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Ub=class{addCallback(e){}shutdown(){}};var Pb=class{constructor(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}onOpen(e){this.wrappedOnOpen=e}onClose(e){this.wrappedOnClose=e}onMessage(e){this.wrappedOnMessage=e}close(){this.closeFn()}send(e){this.sendFn(e)}callOnOpen(){this.wrappedOnOpen()}callOnClose(e){this.wrappedOnClose(e)}callOnMessage(e){this.wrappedOnMessage(e)}};var Wm=null;function Ege(){return 268435456+Math.round(2147483648*Math.random())}function R0(){return Wm===null?Wm=Ege():Wm++,"0x"+Wm.toString(16)}function mge(t){return new Promise((e,n)=>{t((r,i)=>{r?n(r):e(i)})})}var Cge="1.9.1",Sn="GrpcConnection",Ige=`gl-node/${process.versions.node} fire/${ml} grpc/${Cge}`;function T0(t,e,n,r){Xe(e===null||e.type==="OAuth");let i=new Fa.Metadata;return e&&e.headers.forEach((s,o)=>i.set(o,s)),n&&n.headers.forEach((s,o)=>i.set(o,s)),r&&i.set("X-Firebase-GMPID",r),i.set("X-Goog-Api-Client",Ige),i.set("Google-Cloud-Resource-Prefix",t),i.set("x-goog-request-params",t),i}var Vb=class{constructor(e,n){this.databaseInfo=n,this.cachedStub=null,this.firestore=e.google.firestore.v1,this.databasePath=`projects/${n.databaseId.projectId}/databases/${n.databaseId.database}`}get shouldResourcePathBeIncludedInRequest(){return!0}ensureActiveStub(){if(!this.cachedStub){P(Sn,"Creating Firestore stub.");let e=this.databaseInfo.ssl?Fa.credentials.createSsl():Fa.credentials.createInsecure();this.cachedStub=new this.firestore.Firestore(this.databaseInfo.host,e)}return this.cachedStub}invokeRPC(e,n,r,i,s){let o=R0(),a=this.ensureActiveStub(),A=T0(this.databasePath,i,s,this.databaseInfo.appId),c=Object.assign({database:this.databasePath},r);return mge(l=>(P(Sn,`RPC '${e}' ${o} invoked with request:`,r),a[e](c,A,(u,h)=>{u?(P(Sn,`RPC '${e}' ${o} failed with error:`,u),l(new G(zm(u.code),u.message))):(P(Sn,`RPC '${e}' ${o} completed with response:`,h),l(void 0,h))})))}invokeStreamingRPC(e,n,r,i,s,o){let a=R0(),A=[],c=new Zr;P(Sn,`RPC '${e}' ${a} invoked (streaming) with request:`,r);let l=this.ensureActiveStub(),u=T0(this.databasePath,i,s,this.databaseInfo.appId),h=Object.assign(Object.assign({},r),{database:this.databasePath}),d=l[e](h,u),f=!1;return d.on("data",E=>{P(Sn,`RPC ${e} ${a} received result:`,E),A.push(E),o!==void 0&&A.length===o&&(f=!0,c.resolve(A))}),d.on("end",()=>{P(Sn,`RPC '${e}' ${a} completed.`),f||(f=!0,c.resolve(A))}),d.on("error",E=>{P(Sn,`RPC '${e}' ${a} failed with error:`,E);let C=zm(E.code);c.reject(new G(C,E.message))}),c.promise}openStream(e,n,r){let i=R0(),s=this.ensureActiveStub(),o=T0(this.databasePath,n,r,this.databaseInfo.appId),a=s[e](o),A=!1,c=u=>{A||(A=!0,l.callOnClose(u),a.end())},l=new Pb({sendFn:u=>{if(A)P(Sn,`RPC '${e}' stream ${i} not sending because gRPC stream is closed:`,u);else{P(Sn,`RPC '${e}' stream ${i} sending:`,u);try{a.write(u)}catch(h){throw Nr("Failure sending:",u),Nr("Error:",h),h}}},closeFn:()=>{P(Sn,`RPC '${e}' stream ${i} closed locally via close().`),c()}});return a.on("data",u=>{A||(P(Sn,`RPC '${e}' stream ${i} received:`,u),l.callOnMessage(u))}),a.on("end",()=>{P(Sn,`RPC '${e}' stream ${i} ended.`),c()}),a.on("error",u=>{if(!A){rl(Sn,`RPC '${e}' stream ${i} error. Code:`,u.code,"Message:",u.message);let h=zm(u.code);c(new G(h,u.message))}}),P(Sn,`Opening RPC '${e}' stream ${i} to ${this.databaseInfo.host}`),setTimeout(()=>{l.callOnOpen()},0),l}terminate(){this.cachedStub&&(this.cachedStub.close(),this.cachedStub=void 0)}},cY={google:{nested:{protobuf:{options:{csharp_namespace:"Google.Protobuf.WellKnownTypes",go_package:"github.com/golang/protobuf/ptypes/wrappers",java_package:"com.google.protobuf",java_outer_classname:"WrappersProto",java_multiple_files:!0,objc_class_prefix:"GPB",cc_enable_arenas:!0,optimize_for:"SPEED"},nested:{Timestamp:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}},FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}},Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},Empty:{fields:{}},DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}},Any:{fields:{typeUrl:{type:"string",id:1},value:{type:"bytes",id:2}}}}},firestore:{nested:{v1:{options:{csharp_namespace:"Google.Cloud.Firestore.V1",go_package:"google.golang.org/genproto/googleapis/firestore/v1;firestore",java_multiple_files:!0,java_outer_classname:"WriteProto",java_package:"com.google.firestore.v1",objc_class_prefix:"GCFS",php_namespace:"Google\\Cloud\\Firestore\\V1",ruby_package:"Google::Cloud::Firestore::V1"},nested:{AggregationResult:{fields:{aggregateFields:{keyType:"string",type:"Value",id:2}}},BitSequence:{fields:{bitmap:{type:"bytes",id:1},padding:{type:"int32",id:2}}},BloomFilter:{fields:{bits:{type:"BitSequence",id:1},hashCount:{type:"int32",id:2}}},DocumentMask:{fields:{fieldPaths:{rule:"repeated",type:"string",id:1}}},Precondition:{oneofs:{conditionType:{oneof:["exists","updateTime"]}},fields:{exists:{type:"bool",id:1},updateTime:{type:"google.protobuf.Timestamp",id:2}}},TransactionOptions:{oneofs:{mode:{oneof:["readOnly","readWrite"]}},fields:{readOnly:{type:"ReadOnly",id:2},readWrite:{type:"ReadWrite",id:3}},nested:{ReadWrite:{fields:{retryTransaction:{type:"bytes",id:1}}},ReadOnly:{oneofs:{consistencySelector:{oneof:["readTime"]}},fields:{readTime:{type:"google.protobuf.Timestamp",id:2}}}}},Document:{fields:{name:{type:"string",id:1},fields:{keyType:"string",type:"Value",id:2},createTime:{type:"google.protobuf.Timestamp",id:3},updateTime:{type:"google.protobuf.Timestamp",id:4}}},Value:{oneofs:{valueType:{oneof:["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue"]}},fields:{nullValue:{type:"google.protobuf.NullValue",id:11},booleanValue:{type:"bool",id:1},integerValue:{type:"int64",id:2},doubleValue:{type:"double",id:3},timestampValue:{type:"google.protobuf.Timestamp",id:10},stringValue:{type:"string",id:17},bytesValue:{type:"bytes",id:18},referenceValue:{type:"string",id:5},geoPointValue:{type:"google.type.LatLng",id:8},arrayValue:{type:"ArrayValue",id:9},mapValue:{type:"MapValue",id:6}}},ArrayValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},MapValue:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Firestore:{options:{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},methods:{GetDocument:{requestType:"GetDocumentRequest",responseType:"Document",options:{"(google.api.http).get":"/v1/{name=projects/*/databases/*/documents/*/**}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=projects/*/databases/*/documents/*/**}"}}]},ListDocuments:{requestType:"ListDocumentsRequest",responseType:"ListDocumentsResponse",options:{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"}}]},UpdateDocument:{requestType:"UpdateDocumentRequest",responseType:"Document",options:{"(google.api.http).patch":"/v1/{document.name=projects/*/databases/*/documents/*/**}","(google.api.http).body":"document","(google.api.method_signature)":"document,update_mask"},parsedOptions:[{"(google.api.http)":{patch:"/v1/{document.name=projects/*/databases/*/documents/*/**}",body:"document"}},{"(google.api.method_signature)":"document,update_mask"}]},DeleteDocument:{requestType:"DeleteDocumentRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).delete":"/v1/{name=projects/*/databases/*/documents/*/**}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{delete:"/v1/{name=projects/*/databases/*/documents/*/**}"}},{"(google.api.method_signature)":"name"}]},BatchGetDocuments:{requestType:"BatchGetDocumentsRequest",responseType:"BatchGetDocumentsResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchGet","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchGet",body:"*"}}]},BeginTransaction:{requestType:"BeginTransactionRequest",responseType:"BeginTransactionResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:beginTransaction","(google.api.http).body":"*","(google.api.method_signature)":"database"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:beginTransaction",body:"*"}},{"(google.api.method_signature)":"database"}]},Commit:{requestType:"CommitRequest",responseType:"CommitResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:commit","(google.api.http).body":"*","(google.api.method_signature)":"database,writes"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:commit",body:"*"}},{"(google.api.method_signature)":"database,writes"}]},Rollback:{requestType:"RollbackRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:rollback","(google.api.http).body":"*","(google.api.method_signature)":"database,transaction"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:rollback",body:"*"}},{"(google.api.method_signature)":"database,transaction"}]},RunQuery:{requestType:"RunQueryRequest",responseType:"RunQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery",body:"*"}}}]},RunAggregationQuery:{requestType:"RunAggregationQueryRequest",responseType:"RunAggregationQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery",body:"*"}}}]},PartitionQuery:{requestType:"PartitionQueryRequest",responseType:"PartitionQueryResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:partitionQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:partitionQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery",body:"*"}}}]},Write:{requestType:"WriteRequest",requestStream:!0,responseType:"WriteResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:write","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:write",body:"*"}}]},Listen:{requestType:"ListenRequest",requestStream:!0,responseType:"ListenResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:listen","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:listen",body:"*"}}]},ListCollectionIds:{requestType:"ListCollectionIdsRequest",responseType:"ListCollectionIdsResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","(google.api.http).additional_bindings.body":"*","(google.api.method_signature)":"parent"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds",body:"*"}}},{"(google.api.method_signature)":"parent"}]},BatchWrite:{requestType:"BatchWriteRequest",responseType:"BatchWriteResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchWrite","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchWrite",body:"*"}}]},CreateDocument:{requestType:"CreateDocumentRequest",responseType:"Document",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}","(google.api.http).body":"document"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}",body:"document"}}]}}},GetDocumentRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:5}}},ListDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:3},pageToken:{type:"string",id:4},orderBy:{type:"string",id:6},mask:{type:"DocumentMask",id:7},transaction:{type:"bytes",id:8},readTime:{type:"google.protobuf.Timestamp",id:10},showMissing:{type:"bool",id:12}}},ListDocumentsResponse:{fields:{documents:{rule:"repeated",type:"Document",id:1},nextPageToken:{type:"string",id:2}}},CreateDocumentRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},documentId:{type:"string",id:3},document:{type:"Document",id:4,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:5}}},UpdateDocumentRequest:{fields:{document:{type:"Document",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},updateMask:{type:"DocumentMask",id:2},mask:{type:"DocumentMask",id:3},currentDocument:{type:"Precondition",id:4}}},DeleteDocumentRequest:{fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},currentDocument:{type:"Precondition",id:2}}},BatchGetDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},documents:{rule:"repeated",type:"string",id:2},mask:{type:"DocumentMask",id:3},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:7}}},BatchGetDocumentsResponse:{oneofs:{result:{oneof:["found","missing"]}},fields:{found:{type:"Document",id:1},missing:{type:"string",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:4}}},BeginTransactionRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},options:{type:"TransactionOptions",id:2}}},BeginTransactionResponse:{fields:{transaction:{type:"bytes",id:1}}},CommitRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},transaction:{type:"bytes",id:3}}},CommitResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},commitTime:{type:"google.protobuf.Timestamp",id:2}}},RollbackRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},transaction:{type:"bytes",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}}}},RunQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},transaction:{type:"bytes",id:5},newTransaction:{type:"TransactionOptions",id:6},readTime:{type:"google.protobuf.Timestamp",id:7}}},RunQueryResponse:{fields:{transaction:{type:"bytes",id:2},document:{type:"Document",id:1},readTime:{type:"google.protobuf.Timestamp",id:3},skippedResults:{type:"int32",id:4}}},RunAggregationQueryRequest:{oneofs:{queryType:{oneof:["structuredAggregationQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredAggregationQuery:{type:"StructuredAggregationQuery",id:2},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:6}}},RunAggregationQueryResponse:{fields:{result:{type:"AggregationResult",id:1},transaction:{type:"bytes",id:2},readTime:{type:"google.protobuf.Timestamp",id:3}}},PartitionQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},partitionCount:{type:"int64",id:3},pageToken:{type:"string",id:4},pageSize:{type:"int32",id:5}}},PartitionQueryResponse:{fields:{partitions:{rule:"repeated",type:"Cursor",id:1},nextPageToken:{type:"string",id:2}}},WriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},streamId:{type:"string",id:2},writes:{rule:"repeated",type:"Write",id:3},streamToken:{type:"bytes",id:4},labels:{keyType:"string",type:"string",id:5}}},WriteResponse:{fields:{streamId:{type:"string",id:1},streamToken:{type:"bytes",id:2},writeResults:{rule:"repeated",type:"WriteResult",id:3},commitTime:{type:"google.protobuf.Timestamp",id:4}}},ListenRequest:{oneofs:{targetChange:{oneof:["addTarget","removeTarget"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},addTarget:{type:"Target",id:2},removeTarget:{type:"int32",id:3},labels:{keyType:"string",type:"string",id:4}}},ListenResponse:{oneofs:{responseType:{oneof:["targetChange","documentChange","documentDelete","documentRemove","filter"]}},fields:{targetChange:{type:"TargetChange",id:2},documentChange:{type:"DocumentChange",id:3},documentDelete:{type:"DocumentDelete",id:4},documentRemove:{type:"DocumentRemove",id:6},filter:{type:"ExistenceFilter",id:5}}},Target:{oneofs:{targetType:{oneof:["query","documents"]},resumeType:{oneof:["resumeToken","readTime"]}},fields:{query:{type:"QueryTarget",id:2},documents:{type:"DocumentsTarget",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:11},targetId:{type:"int32",id:5},once:{type:"bool",id:6},expectedCount:{type:"google.protobuf.Int32Value",id:12}},nested:{DocumentsTarget:{fields:{documents:{rule:"repeated",type:"string",id:2}}},QueryTarget:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1},structuredQuery:{type:"StructuredQuery",id:2}}}}},TargetChange:{fields:{targetChangeType:{type:"TargetChangeType",id:1},targetIds:{rule:"repeated",type:"int32",id:2},cause:{type:"google.rpc.Status",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:6}},nested:{TargetChangeType:{values:{NO_CHANGE:0,ADD:1,REMOVE:2,CURRENT:3,RESET:4}}}},ListCollectionIdsRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:2},pageToken:{type:"string",id:3}}},ListCollectionIdsResponse:{fields:{collectionIds:{rule:"repeated",type:"string",id:1},nextPageToken:{type:"string",id:2}}},BatchWriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},labels:{keyType:"string",type:"string",id:3}}},BatchWriteResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},status:{rule:"repeated",type:"google.rpc.Status",id:2}}},StructuredQuery:{fields:{select:{type:"Projection",id:1},from:{rule:"repeated",type:"CollectionSelector",id:2},where:{type:"Filter",id:3},orderBy:{rule:"repeated",type:"Order",id:4},startAt:{type:"Cursor",id:7},endAt:{type:"Cursor",id:8},offset:{type:"int32",id:6},limit:{type:"google.protobuf.Int32Value",id:5}},nested:{CollectionSelector:{fields:{collectionId:{type:"string",id:2},allDescendants:{type:"bool",id:3}}},Filter:{oneofs:{filterType:{oneof:["compositeFilter","fieldFilter","unaryFilter"]}},fields:{compositeFilter:{type:"CompositeFilter",id:1},fieldFilter:{type:"FieldFilter",id:2},unaryFilter:{type:"UnaryFilter",id:3}}},CompositeFilter:{fields:{op:{type:"Operator",id:1},filters:{rule:"repeated",type:"Filter",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,AND:1,OR:2}}}},FieldFilter:{fields:{field:{type:"FieldReference",id:1},op:{type:"Operator",id:2},value:{type:"Value",id:3}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,LESS_THAN:1,LESS_THAN_OR_EQUAL:2,GREATER_THAN:3,GREATER_THAN_OR_EQUAL:4,EQUAL:5,NOT_EQUAL:6,ARRAY_CONTAINS:7,IN:8,ARRAY_CONTAINS_ANY:9,NOT_IN:10}}}},UnaryFilter:{oneofs:{operandType:{oneof:["field"]}},fields:{op:{type:"Operator",id:1},field:{type:"FieldReference",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,IS_NAN:2,IS_NULL:3,IS_NOT_NAN:4,IS_NOT_NULL:5}}}},Order:{fields:{field:{type:"FieldReference",id:1},direction:{type:"Direction",id:2}}},FieldReference:{fields:{fieldPath:{type:"string",id:2}}},Projection:{fields:{fields:{rule:"repeated",type:"FieldReference",id:2}}},Direction:{values:{DIRECTION_UNSPECIFIED:0,ASCENDING:1,DESCENDING:2}}}},StructuredAggregationQuery:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{structuredQuery:{type:"StructuredQuery",id:1},aggregations:{rule:"repeated",type:"Aggregation",id:3}},nested:{Aggregation:{oneofs:{operator:{oneof:["count","sum","avg"]}},fields:{count:{type:"Count",id:1},sum:{type:"Sum",id:2},avg:{type:"Avg",id:3},alias:{type:"string",id:7}},nested:{Count:{fields:{upTo:{type:"google.protobuf.Int64Value",id:1}}},Sum:{fields:{field:{type:"FieldReference",id:1}}},Avg:{fields:{field:{type:"FieldReference",id:1}}}}}}},Cursor:{fields:{values:{rule:"repeated",type:"Value",id:1},before:{type:"bool",id:2}}},Write:{oneofs:{operation:{oneof:["update","delete","verify","transform"]}},fields:{update:{type:"Document",id:1},delete:{type:"string",id:2},verify:{type:"string",id:5},transform:{type:"DocumentTransform",id:6},updateMask:{type:"DocumentMask",id:3},updateTransforms:{rule:"repeated",type:"DocumentTransform.FieldTransform",id:7},currentDocument:{type:"Precondition",id:4}}},DocumentTransform:{fields:{document:{type:"string",id:1},fieldTransforms:{rule:"repeated",type:"FieldTransform",id:2}},nested:{FieldTransform:{oneofs:{transformType:{oneof:["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]}},fields:{fieldPath:{type:"string",id:1},setToServerValue:{type:"ServerValue",id:2},increment:{type:"Value",id:3},maximum:{type:"Value",id:4},minimum:{type:"Value",id:5},appendMissingElements:{type:"ArrayValue",id:6},removeAllFromArray:{type:"ArrayValue",id:7}},nested:{ServerValue:{values:{SERVER_VALUE_UNSPECIFIED:0,REQUEST_TIME:1}}}}}},WriteResult:{fields:{updateTime:{type:"google.protobuf.Timestamp",id:1},transformResults:{rule:"repeated",type:"Value",id:2}}},DocumentChange:{fields:{document:{type:"Document",id:1},targetIds:{rule:"repeated",type:"int32",id:5},removedTargetIds:{rule:"repeated",type:"int32",id:6}}},DocumentDelete:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:6},readTime:{type:"google.protobuf.Timestamp",id:4}}},DocumentRemove:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:2},readTime:{type:"google.protobuf.Timestamp",id:4}}},ExistenceFilter:{fields:{targetId:{type:"int32",id:1},count:{type:"int32",id:2},unchangedNames:{type:"BloomFilter",id:3}}}}}}},api:{options:{go_package:"google.golang.org/genproto/googleapis/api/annotations;annotations",java_multiple_files:!0,java_outer_classname:"HttpProto",java_package:"com.google.api",objc_class_prefix:"GAPI",cc_enable_arenas:!0},nested:{http:{type:"HttpRule",id:72295728,extend:"google.protobuf.MethodOptions"},Http:{fields:{rules:{rule:"repeated",type:"HttpRule",id:1}}},HttpRule:{oneofs:{pattern:{oneof:["get","put","post","delete","patch","custom"]}},fields:{get:{type:"string",id:2},put:{type:"string",id:3},post:{type:"string",id:4},delete:{type:"string",id:5},patch:{type:"string",id:6},custom:{type:"CustomHttpPattern",id:8},selector:{type:"string",id:1},body:{type:"string",id:7},additionalBindings:{rule:"repeated",type:"HttpRule",id:11}}},CustomHttpPattern:{fields:{kind:{type:"string",id:1},path:{type:"string",id:2}}},methodSignature:{rule:"repeated",type:"string",id:1051,extend:"google.protobuf.MethodOptions"},defaultHost:{type:"string",id:1049,extend:"google.protobuf.ServiceOptions"},oauthScopes:{type:"string",id:1050,extend:"google.protobuf.ServiceOptions"},fieldBehavior:{rule:"repeated",type:"google.api.FieldBehavior",id:1052,extend:"google.protobuf.FieldOptions"},FieldBehavior:{values:{FIELD_BEHAVIOR_UNSPECIFIED:0,OPTIONAL:1,REQUIRED:2,OUTPUT_ONLY:3,INPUT_ONLY:4,IMMUTABLE:5,UNORDERED_LIST:6,NON_EMPTY_DEFAULT:7}}}},type:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/type/latlng;latlng",java_multiple_files:!0,java_outer_classname:"LatLngProto",java_package:"com.google.type",objc_class_prefix:"GTP"},nested:{LatLng:{fields:{latitude:{type:"double",id:1},longitude:{type:"double",id:2}}}}},rpc:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/rpc/status;status",java_multiple_files:!0,java_outer_classname:"StatusProto",java_package:"com.google.rpc",objc_class_prefix:"RPC"},nested:{Status:{fields:{code:{type:"int32",id:1},message:{type:"string",id:2},details:{rule:"repeated",type:"google.protobuf.Any",id:3}}}}}}}},yge={nested:cY},Bge=Object.freeze({__proto__:null,nested:cY,default:yge});var Qge={longs:String,enums:String,defaults:!0,oneofs:!1};function wge(){let t=oH.fromJSON(Bge,Qge);return Fa.loadPackageDefinition(t)}function vge(t){let e=wge();return new Vb(e,t)}function _ge(){return new Ub}function DC(t){return new fb(t,!1)}var Sge="ExponentialBackoff",bge=1e3,Dge=1.5,Rge=60*1e3,cC=class{constructor(e,n,r=bge,i=Dge,s=Rge){this.queue=e,this.timerId=n,this.initialDelayMs=r,this.backoffFactor=i,this.maxDelayMs=s,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}reset(){this.currentBaseMs=0}resetToMax(){this.currentBaseMs=this.maxDelayMs}backoffAndRun(e){this.cancel();let n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);i>0&&P(Sge,`Backing off for ${i} ms (base delay: ${this.currentBaseMs} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,()=>(this.lastAttemptTime=Date.now(),e())),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)}skipBackoff(){this.timerPromise!==null&&(this.timerPromise.skipDelay(),this.timerPromise=null)}cancel(){this.timerPromise!==null&&(this.timerPromise.cancel(),this.timerPromise=null)}jitterDelayMs(){return(Math.random()-.5)*this.currentBaseMs}};var HG="PersistentStream",Tge=60*1e3,Nge=10*1e3,lC=class{constructor(e,n,r,i,s,o,a,A){this.queue=e,this.idleTimerId=r,this.healthTimerId=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=A,this.state=0,this.closeCount=0,this.idleTimer=null,this.healthCheck=null,this.stream=null,this.backoff=new cC(e,n)}isStarted(){return this.state===1||this.state===5||this.isOpen()}isOpen(){return this.state===2||this.state===3}start(){if(this.state===4){this.performBackoff();return}this.auth()}stop(){return p(this,null,function*(){this.isStarted()&&(yield this.close(0))})}inhibitBackoff(){this.state=0,this.backoff.reset()}markIdle(){this.isOpen()&&this.idleTimer===null&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,Tge,()=>this.handleIdleCloseTimer()))}sendRequest(e){this.cancelIdleCheck(),this.stream.send(e)}handleIdleCloseTimer(){return p(this,null,function*(){if(this.isOpen())return this.close(0)})}cancelIdleCheck(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)}cancelHealthCheck(){this.healthCheck&&(this.healthCheck.cancel(),this.healthCheck=null)}close(e,n){return p(this,null,function*(){this.cancelIdleCheck(),this.cancelHealthCheck(),this.backoff.cancel(),this.closeCount++,e!==4?this.backoff.reset():n&&n.code===b.RESOURCE_EXHAUSTED?(Nr(n.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):n&&n.code===b.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.onClose(n)})}tearDown(){}auth(){this.state=1;let e=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.closeCount===n&&this.startStream(r,i)},r=>{e(()=>{let i=new G(b.UNKNOWN,"Fetching auth token failed: "+r.message);return this.handleStreamClose(i)})})}startStream(e,n){let r=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e,n),this.stream.onOpen(()=>{r(()=>(this.state=2,this.healthCheck=this.queue.enqueueAfterDelay(this.healthTimerId,Nge,()=>(this.isOpen()&&(this.state=3),Promise.resolve())),this.listener.onOpen()))}),this.stream.onClose(i=>{r(()=>this.handleStreamClose(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}performBackoff(){this.state=5,this.backoff.backoffAndRun(()=>p(this,null,function*(){this.state=0,this.start()}))}handleStreamClose(e){return P(HG,`close with error: ${e}`),this.stream=null,this.close(4,e)}getCloseGuardedDispatcher(e){return n=>{this.queue.enqueueAndForget(()=>this.closeCount===e?n():(P(HG,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},qb=class extends lC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}startRpc(e,n){return this.connection.openStream("Listen",e,n)}onMessage(e){this.backoff.reset();let n=efe(this.serializer,e),r=nfe(e);return this.listener.onWatchChange(n,r)}watch(e){let n={};n.database=mb(this.serializer),n.addTarget=dfe(this.serializer,e);let r=ufe(this.serializer,e);r&&(n.labels=r),this.sendRequest(n)}unwatch(e){let n={};n.database=mb(this.serializer),n.removeTarget=e,this.sendRequest(n)}},Gb=class extends lC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.handshakeComplete_=!1}get handshakeComplete(){return this.handshakeComplete_}start(){this.handshakeComplete_=!1,this.lastStreamToken=void 0,super.start()}tearDown(){this.handshakeComplete_&&this.writeMutations([])}startRpc(e,n){return this.connection.openStream("Write",e,n)}onMessage(e){if(Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.handshakeComplete_){this.backoff.reset();let n=ofe(e.writeResults,e.commitTime),r=zi(e.commitTime);return this.listener.onMutationResult(r,n)}else return Xe(!e.writeResults||e.writeResults.length===0),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()}writeHandshake(){let e={};e.database=mb(this.serializer),this.sendRequest(e)}writeMutations(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>rfe(this.serializer,r))};this.sendRequest(n)}};var Hb=class{},Yb=class extends Hb{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.terminated=!1}verifyInitialized(){if(this.terminated)throw new G(b.FAILED_PRECONDITION,"The client has already been terminated.")}invokeRPC(e,n,r,i){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.invokeRPC(e,pb(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(b.UNKNOWN,s.toString())})}invokeStreamingRPC(e,n,r,i,s){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.invokeStreamingRPC(e,pb(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(b.UNKNOWN,o.toString())})}terminate(){this.terminated=!0,this.connection.terminate()}};function kge(t,e,n,r){return new Yb(t,e,n,r)}function Fge(t,e,n){let r=Ae(t);return r.verifyInitialized(),new Gb(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}function Mge(t,e,n){let r=Ae(t);return r.verifyInitialized(),new qb(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}var xge="OnlineStateTracker",YG=1,WG=10*1e3,Wb=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}handleWatchStreamStart(){this.watchStreamFailures===0&&(this.setAndBroadcast("Unknown"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay("online_state_timeout",WG,()=>(this.onlineStateTimer=null,this.logClientOfflineWarningIfNecessary(`Backend didn't respond within ${WG/1e3} seconds.`),this.setAndBroadcast("Offline"),Promise.resolve())))}handleWatchStreamFailure(e){this.state==="Online"?this.setAndBroadcast("Unknown"):(this.watchStreamFailures++,this.watchStreamFailures>=YG&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary(`Connection failed ${YG} times. Most recent error: ${e.toString()}`),this.setAndBroadcast("Offline")))}set(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,e==="Online"&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)}setAndBroadcast(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}logClientOfflineWarningIfNecessary(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.shouldWarnClientIsOffline?(Nr(n),this.shouldWarnClientIsOffline=!1):P(xge,n)}clearOnlineStateTimer(){this.onlineStateTimer!==null&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)}};var Ga="RemoteStore",Lge=10,Jb=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.writePipeline=[],this.listenTargets=new Map,this.offlineCauses=new Set,this.onNetworkStatusChange=[],this.connectivityMonitor=s,this.connectivityMonitor.addCallback(o=>{r.enqueueAndForget(()=>p(this,null,function*(){Wa(this)&&(P(Ga,"Restarting streams for network reachability change."),yield Xge(this))}))}),this.onlineStateTracker=new Wb(r,i)}};function Oge(t,e,n,r,i){return new Jb(t,e,n,r,i)}function RC(t){return p(this,null,function*(){if(Wa(t))for(let e of t.onNetworkStatusChange)yield e(!0)})}function Qd(t){return p(this,null,function*(){for(let e of t.onNetworkStatusChange)yield e(!1)})}function Uge(t){return p(this,null,function*(){let e=Ae(t);P(Ga,"RemoteStore shutting down."),e.offlineCauses.add(5),yield Qd(e),e.connectivityMonitor.shutdown(),e.onlineStateTracker.set("Unknown")})}function lY(t,e){let n=Ae(t);n.listenTargets.has(e.targetId)||(n.listenTargets.set(e.targetId,e),kD(n)?ND(n):Cl(n).isOpen()&&TD(n,e))}function RD(t,e){let n=Ae(t),r=Cl(n);n.listenTargets.delete(e),r.isOpen()&&uY(n,e),n.listenTargets.size===0&&(r.isOpen()?r.markIdle():Wa(n)&&n.onlineStateTracker.set("Unknown"))}function TD(t,e){if(t.watchChangeAggregator.recordPendingTargetRequest(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Cl(t).watch(e)}function uY(t,e){t.watchChangeAggregator.recordPendingTargetRequest(e),Cl(t).unwatch(e)}function ND(t){t.watchChangeAggregator=new db({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),getTargetDataForTarget:e=>t.listenTargets.get(e)||null,getDatabaseId:()=>t.datastore.serializer.databaseId}),Cl(t).start(),t.onlineStateTracker.handleWatchStreamStart()}function kD(t){return Wa(t)&&!Cl(t).isStarted()&&t.listenTargets.size>0}function Wa(t){return Ae(t).offlineCauses.size===0}function hY(t){t.watchChangeAggregator=void 0}function Pge(t){return p(this,null,function*(){t.listenTargets.forEach((e,n)=>{TD(t,e)})})}function Vge(t,e){return p(this,null,function*(){hY(t),kD(t)?(t.onlineStateTracker.handleWatchStreamFailure(e),ND(t)):t.onlineStateTracker.set("Unknown")})}function qge(t,e,n){return p(this,null,function*(){if(t.onlineStateTracker.set("Online"),e instanceof iC&&e.state===2&&e.cause){try{yield Hge(t,e)}catch(r){P(Ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield uC(t,r)}return}if(e instanceof il?t.watchChangeAggregator.handleDocumentChange(e):e instanceof rC?t.watchChangeAggregator.handleExistenceFilter(e):t.watchChangeAggregator.handleTargetChange(e),!n.isEqual(ce.min()))try{let r=yield aY(t.localStore);n.compareTo(r)>=0&&(yield Gge(t,n))}catch(r){P(Ga,"Failed to raise snapshot:",r),yield uC(t,r)}})}function uC(t,e,n){return p(this,null,function*(){if(Bd(e))t.offlineCauses.add(1),yield Qd(t),t.onlineStateTracker.set("Offline"),n||(n=()=>aY(t.localStore)),t.asyncQueue.enqueueRetryable(()=>p(this,null,function*(){P(Ga,"Retrying IndexedDB access"),yield n(),t.offlineCauses.delete(1),yield RC(t)}));else throw e})}function dY(t,e){return e().catch(n=>uC(t,n,e))}function Gge(t,e){let n=t.watchChangeAggregator.createRemoteEvent(e);return n.targetChanges.forEach((r,i)=>{if(r.resumeToken.approximateByteSize()>0){let s=t.listenTargets.get(i);s&&t.listenTargets.set(i,s.withResumeToken(r.resumeToken,e))}}),n.targetMismatches.forEach((r,i)=>{let s=t.listenTargets.get(r);if(!s)return;t.listenTargets.set(r,s.withResumeToken(Dn.EMPTY_BYTE_STRING,s.snapshotVersion)),uY(t,r);let o=new fd(s.target,r,i,s.sequenceNumber);TD(t,o)}),t.remoteSyncer.applyRemoteEvent(n)}function Hge(t,e){return p(this,null,function*(){let n=e.cause;for(let r of e.targetIds)t.listenTargets.has(r)&&(yield t.remoteSyncer.rejectListen(r,n),t.listenTargets.delete(r),t.watchChangeAggregator.removeTarget(r))})}function TC(t){return p(this,null,function*(){let e=Ae(t),n=Do(e),r=e.writePipeline.length>0?e.writePipeline[e.writePipeline.length-1].batchId:yD;for(;Yge(e);)try{let i=yield lge(e.localStore,r);if(i===null){e.writePipeline.length===0&&n.markIdle();break}else r=i.batchId,Wge(e,i)}catch(i){yield uC(e,i)}fY(e)&&gY(e)})}function Yge(t){return Wa(t)&&t.writePipeline.length<Lge}function Wge(t,e){t.writePipeline.push(e);let n=Do(t);n.isOpen()&&n.handshakeComplete&&n.writeMutations(e.mutations)}function fY(t){return Wa(t)&&!Do(t).isStarted()&&t.writePipeline.length>0}function gY(t){Do(t).start()}function Jge(t){return p(this,null,function*(){Do(t).writeHandshake()})}function zge(t){return p(this,null,function*(){let e=Do(t);for(let n of t.writePipeline)e.writeMutations(n.mutations)})}function jge(t,e,n){return p(this,null,function*(){let r=t.writePipeline.shift(),i=Ab.from(r,e,n);yield dY(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield TC(t)})}function Kge(t,e){return p(this,null,function*(){e&&Do(t).handshakeComplete&&(yield $ge(t,e)),fY(t)&&gY(t)})}function $ge(t,e){return p(this,null,function*(){if(Ude(e.code)){let n=t.writePipeline.shift();Do(t).inhibitBackoff(),yield dY(t,()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e)),yield TC(t)}})}function Xge(t){return p(this,null,function*(){let e=Ae(t);e.offlineCauses.add(4),yield Qd(e),e.onlineStateTracker.set("Unknown"),e.offlineCauses.delete(4),yield RC(e)})}function JG(t,e){return p(this,null,function*(){let n=Ae(t);n.asyncQueue.verifyOperationInProgress(),P(Ga,"RemoteStore received new credentials");let r=Wa(n);n.offlineCauses.add(3),yield Qd(n),r&&n.onlineStateTracker.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.offlineCauses.delete(3),yield RC(n)})}function Zge(t,e){return p(this,null,function*(){let n=Ae(t);e?(n.offlineCauses.delete(2),yield RC(n)):e||(n.offlineCauses.add(2),yield Qd(n),n.onlineStateTracker.set("Unknown"))})}function Cl(t){return t.watchStream||(t.watchStream=Mge(t.datastore,t.asyncQueue,{onOpen:Pge.bind(null,t),onClose:Vge.bind(null,t),onWatchChange:qge.bind(null,t)}),t.onNetworkStatusChange.push(e=>p(this,null,function*(){e?(t.watchStream.inhibitBackoff(),kD(t)?ND(t):t.onlineStateTracker.set("Unknown")):(yield t.watchStream.stop(),hY(t))}))),t.watchStream}function Do(t){return t.writeStream||(t.writeStream=Fge(t.datastore,t.asyncQueue,{onOpen:Jge.bind(null,t),onClose:Kge.bind(null,t),onHandshakeComplete:zge.bind(null,t),onMutationResult:jge.bind(null,t)}),t.onNetworkStatusChange.push(e=>p(this,null,function*(){e?(t.writeStream.inhibitBackoff(),yield TC(t)):(yield t.writeStream.stop(),t.writePipeline.length>0&&(P(Ga,`Stopping write stream with ${t.writePipeline.length} pending writes`),t.writePipeline=[]))}))),t.writeStream}var epe="AsyncQueue",zb=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function FD(t,e){if(Nr(epe,`${e}: ${t}`),Bd(t))return new G(b.UNAVAILABLE,`${e}: ${t}`);throw t}var hC=class t{constructor(e){e?this.comparator=(n,r)=>e(n,r)||te.comparator(n.key,r.key):this.comparator=(n,r)=>te.comparator(n.key,r.key),this.keyedMap=nd(),this.sortedSet=new mt(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var dC=class{constructor(){this.changeMap=new mt(te.comparator)}track(e){let n=e.doc.key,r=this.changeMap.get(n);if(!r){this.changeMap=this.changeMap.insert(n,e);return}e.type!==0&&r.type===3?this.changeMap=this.changeMap.insert(n,e):e.type===3&&r.type!==1?this.changeMap=this.changeMap.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.changeMap=this.changeMap.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.changeMap=this.changeMap.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.changeMap=this.changeMap.remove(n):e.type===1&&r.type===2?this.changeMap=this.changeMap.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.changeMap=this.changeMap.insert(n,{type:2,doc:e.doc}):re()}getChanges(){let e=[];return this.changeMap.inorderTraversal((n,r)=>{e.push(r)}),e}},dl=class t{constructor(e,n,r,i,s,o,a,A,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=A,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,hC.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(this.fromCache!==e.fromCache||this.hasCachedResults!==e.hasCachedResults||this.syncStateChanged!==e.syncStateChanged||!this.mutatedKeys.isEqual(e.mutatedKeys)||!_C(this.query,e.query)||!this.docs.isEqual(e.docs)||!this.oldDocs.isEqual(e.oldDocs))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var jb=class{constructor(){this.viewSnap=void 0,this.listeners=[]}hasRemoteListeners(){return this.listeners.some(e=>e.listensToRemoteStore())}};function tpe(){return new Kb}var Kb=class{constructor(){this.queries=new So(e=>xH(e),_C),this.onlineState="Unknown",this.snapshotsInSyncListeners=new Set}};function npe(t,e){return p(this,null,function*(){let n=Ae(t),r=3,i=e.query,s=n.queries.get(i);s?!s.hasRemoteListeners()&&e.listensToRemoteStore()&&(r=2):(s=new jb,r=e.listensToRemoteStore()?0:1);try{switch(r){case 0:s.viewSnap=yield n.onListen(i,!0);break;case 1:s.viewSnap=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i);break;default:break}}catch(o){let a=FD(o,`Initialization of query '${Zc(e.query)}' failed`);e.onError(a);return}n.queries.set(i,s),s.listeners.push(e),e.applyOnlineStateChange(n.onlineState),s.viewSnap&&e.onViewSnapshot(s.viewSnap)&&MD(n)})}function rpe(t,e){return p(this,null,function*(){let n=Ae(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),s.listeners.length===0?i=e.listensToRemoteStore()?0:1:!s.hasRemoteListeners()&&e.listensToRemoteStore()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function ipe(t,e){let n=Ae(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.listeners)a.onViewSnapshot(i)&&(r=!0);o.viewSnap=i}}r&&MD(n)}function spe(t,e,n){let r=Ae(t),i=r.queries.get(e);if(i)for(let s of i.listeners)s.onError(n);r.queries.delete(e)}function ope(t,e){let n=Ae(t);n.onlineState=e;let r=!1;n.queries.forEach((i,s)=>{for(let o of s.listeners)o.applyOnlineStateChange(e)&&(r=!0)}),r&&MD(n)}function MD(t){t.snapshotsInSyncListeners.forEach(e=>{e.next()})}var pY=function(t){return t.Default="default",t.Cache="cache",t}(pY||{}),$b=class{constructor(e,n,r){this.query=e,this.queryObserver=n,this.raisedInitialEvent=!1,this.snap=null,this.onlineState="Unknown",this.options=r||{}}onViewSnapshot(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new dl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(e)&&(this.queryObserver.next(e),n=!0):this.shouldRaiseInitialEvent(e,this.onlineState)&&(this.raiseInitialEvent(e),n=!0),this.snap=e,n}onError(e){this.queryObserver.error(e)}applyOnlineStateChange(e){this.onlineState=e;let n=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&(this.raiseInitialEvent(this.snap),n=!0),n}shouldRaiseInitialEvent(e,n){if(!e.fromCache||!this.listensToRemoteStore())return!0;let r=n!=="Offline";return this.options.waitForSyncWhenOnline&&r?!1:!e.docs.isEmpty()||e.hasCachedResults||n==="Offline"}shouldRaiseEvent(e){if(e.docChanges.length>0)return!0;let n=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;return e.syncStateChanged||n?this.options.includeMetadataChanges===!0:!1}raiseInitialEvent(e){e=dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.raisedInitialEvent=!0,this.queryObserver.next(e)}listensToRemoteStore(){return this.options.source!==pY.Cache}};var Xb=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.addedKeys=r,this.removedKeys=i}static fromSnapshot(e,n){let r=ye(),i=ye();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key);break}return new t(e,n.fromCache,r,i)}};var fC=class{constructor(e){this.key=e}},gC=class{constructor(e){this.key=e}},Zb=class{constructor(e,n){this.query=e,this._syncedDocuments=n,this.syncState=null,this.hasCachedResults=!1,this.current=!1,this.limboDocuments=ye(),this.mutatedKeys=ye(),this.docComparator=LH(e),this.documentSet=new hC(this.docComparator)}get syncedDocuments(){return this._syncedDocuments}computeDocChanges(e,n){let r=n?n.changeSet:new dC,i=n?n.documentSet:this.documentSet,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,A=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,u)=>{let h=i.get(l),d=SC(this.query,u)?u:null,f=h?this.mutatedKeys.has(h.key):!1,E=d?d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations:!1,C=!1;h&&d?h.data.isEqual(d.data)?f!==E&&(r.track({type:3,doc:d}),C=!0):this.shouldWaitForSyncedDocument(h,d)||(r.track({type:2,doc:d}),C=!0,(A&&this.docComparator(d,A)>0||c&&this.docComparator(d,c)<0)&&(a=!0)):!h&&d?(r.track({type:0,doc:d}),C=!0):h&&!d&&(r.track({type:1,doc:h}),C=!0,(A||c)&&(a=!0)),C&&(d?(o=o.add(d),E?s=s.add(l):s=s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{documentSet:o,changeSet:r,needsRefill:a,mutatedKeys:s}}shouldWaitForSyncedDocument(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;let o=e.changeSet.getChanges();o.sort((u,h)=>ape(u.type,h.type)||this.docComparator(u.doc,h.doc)),this.applyTargetChange(r),i=i??!1;let a=n&&!i?this.updateLimboDocuments():[],c=this.limboDocuments.size===0&&this.current&&!i?1:0,l=c!==this.syncState;return this.syncState=c,o.length===0&&!l?{limboChanges:a}:{snapshot:new dl(this.query,e.documentSet,s,o,e.mutatedKeys,c===0,l,!1,r?r.resumeToken.approximateByteSize()>0:!1),limboChanges:a}}applyOnlineStateChange(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new dC,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}}shouldBeInLimbo(e){return!(this._syncedDocuments.has(e)||!this.documentSet.has(e)||this.documentSet.get(e).hasLocalMutations)}applyTargetChange(e){e&&(e.addedDocuments.forEach(n=>this._syncedDocuments=this._syncedDocuments.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this._syncedDocuments=this._syncedDocuments.delete(n)),this.current=e.current)}updateLimboDocuments(){if(!this.current)return[];let e=this.limboDocuments;this.limboDocuments=ye(),this.documentSet.forEach(r=>{this.shouldBeInLimbo(r.key)&&(this.limboDocuments=this.limboDocuments.add(r.key))});let n=[];return e.forEach(r=>{this.limboDocuments.has(r)||n.push(new gC(r))}),this.limboDocuments.forEach(r=>{e.has(r)||n.push(new fC(r))}),n}synchronizeWithPersistedState(e){this._syncedDocuments=e.remoteKeys,this.limboDocuments=ye();let n=this.computeDocChanges(e.documents);return this.applyChanges(n,!0)}computeInitialSnapshot(){return dl.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===0,this.hasCachedResults)}};function ape(t,e){let n=r=>{switch(r){case 0:return 1;case 2:return 2;case 3:return 2;case 1:return 0;default:return re()}};return n(t)-n(e)}var xD="SyncEngine",eD=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},tD=class{constructor(e){this.key=e,this.receivedDocument=!1}},nD=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.syncEngineListener={},this.queryViewsByQuery=new So(a=>xH(a),_C),this.queriesByTarget=new Map,this.enqueuedLimboResolutions=new Set,this.activeLimboTargetsByKey=new mt(te.comparator),this.activeLimboResolutionsByTarget=new Map,this.limboDocumentRefs=new pd,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=gd.forSyncEngine(),this.onlineState="Unknown",this._isPrimaryClient=void 0}get isPrimaryClient(){return this._isPrimaryClient===!0}};function Ape(t,e,n,r,i,s,o){let a=new nD(t,e,n,r,i,s);return o&&(a._isPrimaryClient=!0),a}function cpe(t,e,n=!0){return p(this,null,function*(){let r=QY(t),i,s=r.queryViewsByQuery.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.computeInitialSnapshot()):i=yield EY(r,e,n,!0),i})}function lpe(t,e){return p(this,null,function*(){let n=QY(t);yield EY(n,e,!0,!1)})}function EY(t,e,n,r){return p(this,null,function*(){let i=yield uge(t.localStore,Wi(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield upe(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&lY(t.remoteStore,i),a})}function upe(t,e,n,r,i){return p(this,null,function*(){t.applyDocChanges=(u,h,d)=>ype(t,u,h,d);let s=yield AY(t.localStore,e,!0),o=new Zb(e,s.remoteKeys),a=o.computeDocChanges(s.documents),A=dd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,A);BY(t,n,c.limboChanges);let l=new eD(e,n,o);return t.queryViewsByQuery.set(e,l),t.queriesByTarget.has(n)?t.queriesByTarget.get(n).push(e):t.queriesByTarget.set(n,[e]),c.snapshot})}function hpe(t,e,n){return p(this,null,function*(){let r=Ae(t),i=r.queryViewsByQuery.get(e),s=r.queriesByTarget.get(i.targetId);if(s.length>1){r.queriesByTarget.set(i.targetId,s.filter(o=>!_C(o,e))),r.queryViewsByQuery.delete(e);return}r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Mb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&RD(r.remoteStore,i.targetId),rD(r,i.targetId)}).catch(yd))):(rD(r,i.targetId),yield Mb(r.localStore,i.targetId,!0))})}function dpe(t,e){return p(this,null,function*(){let n=Ae(t),r=n.queryViewsByQuery.get(e),i=n.queriesByTarget.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),RD(n.remoteStore,r.targetId))})}function fpe(t,e,n){return p(this,null,function*(){let r=wpe(t);try{let i=yield nge(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),Cpe(r,i.batchId,n),yield wd(r,i.changes),yield TC(r.remoteStore)}catch(i){let s=FD(i,"Failed to persist write");n.reject(s)}})}function mY(t,e){return p(this,null,function*(){let n=Ae(t);try{let r=yield oge(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.activeLimboResolutionsByTarget.get(s);o&&(Xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.receivedDocument=!0:i.modifiedDocuments.size>0?Xe(o.receivedDocument):i.removedDocuments.size>0&&(Xe(o.receivedDocument),o.receivedDocument=!1))}),yield wd(n,r,e)}catch(r){yield yd(r)}})}function zG(t,e,n){let r=Ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.queryViewsByQuery.forEach((s,o)=>{let a=o.view.applyOnlineStateChange(e);a.snapshot&&i.push(a.snapshot)}),ope(r.eventManager,e),i.length&&r.syncEngineListener.onWatchChange(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function gpe(t,e,n){return p(this,null,function*(){let r=Ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.activeLimboResolutionsByTarget.get(e),s=i&&i.key;if(s){let o=new mt(te.comparator);o=o.insert(s,ti.newNoDocument(s,ce.min()));let a=ye().add(s),A=new nC(ce.min(),new Map,new mt(Me),o,a);yield mY(r,A),r.activeLimboTargetsByKey=r.activeLimboTargetsByKey.remove(s),r.activeLimboResolutionsByTarget.delete(e),LD(r)}else yield Mb(r.localStore,e,!1).then(()=>rD(r,e,n)).catch(yd)})}function ppe(t,e){return p(this,null,function*(){let n=Ae(t),r=e.batch.batchId;try{let i=yield rge(n.localStore,e);IY(n,r,null),CY(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield wd(n,i)}catch(i){yield yd(i)}})}function Epe(t,e,n){return p(this,null,function*(){let r=Ae(t);try{let i=yield sge(r.localStore,e);IY(r,e,n),CY(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield wd(r,i)}catch(i){yield yd(i)}})}function CY(t,e){(t.pendingWritesCallbacks.get(e)||[]).forEach(n=>{n.resolve()}),t.pendingWritesCallbacks.delete(e)}function mpe(t,e){t.pendingWritesCallbacks.forEach(n=>{n.forEach(r=>{r.reject(new G(b.CANCELLED,e))})}),t.pendingWritesCallbacks.clear()}function Cpe(t,e,n){let r=t.mutationUserCallbacks[t.currentUser.toKey()];r||(r=new mt(Me)),r=r.insert(e,n),t.mutationUserCallbacks[t.currentUser.toKey()]=r}function IY(t,e,n){let r=Ae(t),i=r.mutationUserCallbacks[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.mutationUserCallbacks[r.currentUser.toKey()]=i}}function rD(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.queriesByTarget.get(e))t.queryViewsByQuery.delete(r),n&&t.syncEngineListener.onWatchError(r,n);t.queriesByTarget.delete(e),t.isPrimaryClient&&t.limboDocumentRefs.removeReferencesForId(e).forEach(i=>{t.limboDocumentRefs.containsKey(i)||yY(t,i)})}function yY(t,e){t.enqueuedLimboResolutions.delete(e.path.canonicalString());let n=t.activeLimboTargetsByKey.get(e);n!==null&&(RD(t.remoteStore,n),t.activeLimboTargetsByKey=t.activeLimboTargetsByKey.remove(e),t.activeLimboResolutionsByTarget.delete(n),LD(t))}function BY(t,e,n){for(let r of n)r instanceof fC?(t.limboDocumentRefs.addReference(r.key,e),Ipe(t,r)):r instanceof gC?(P(xD,"Document no longer in limbo: "+r.key),t.limboDocumentRefs.removeReference(r.key,e),t.limboDocumentRefs.containsKey(r.key)||yY(t,r.key)):re()}function Ipe(t,e){let n=e.key,r=n.path.canonicalString();!t.activeLimboTargetsByKey.get(n)&&!t.enqueuedLimboResolutions.has(r)&&(P(xD,"New document in limbo: "+n),t.enqueuedLimboResolutions.add(r),LD(t))}function LD(t){for(;t.enqueuedLimboResolutions.size>0&&t.activeLimboTargetsByKey.size<t.maxConcurrentLimboResolutions;){let e=t.enqueuedLimboResolutions.values().next().value;t.enqueuedLimboResolutions.delete(e);let n=new te(ut.fromString(e)),r=t.limboTargetIdGenerator.next();t.activeLimboResolutionsByTarget.set(r,new tD(n)),t.activeLimboTargetsByKey=t.activeLimboTargetsByKey.insert(n,r),lY(t.remoteStore,new fd(Wi(_D(n.path)),r,"TargetPurposeLimboResolution",aH.INVALID))}}function wd(t,e,n){return p(this,null,function*(){let r=Ae(t),i=[],s=[],o=[];r.queryViewsByQuery.isEmpty()||(r.queryViewsByQuery.forEach((a,A)=>{o.push(r.applyDocChanges(A,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(A.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);let l=Xb.fromSnapshot(A.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.syncEngineListener.onWatchChange(i),yield cge(r.localStore,s))})}function ype(t,e,n,r){return p(this,null,function*(){let i=e.view.computeDocChanges(n);i.needsRefill&&(i=yield AY(t.localStore,e.query,!1).then(({documents:A})=>e.view.computeDocChanges(A,i)));let s=r&&r.targetChanges.get(e.targetId),o=r&&r.targetMismatches.get(e.targetId)!=null,a=e.view.applyChanges(i,t.isPrimaryClient,s,o);return BY(t,e.targetId,a.limboChanges),a.snapshot})}function Bpe(t,e){return p(this,null,function*(){let n=Ae(t);if(!n.currentUser.isEqual(e)){P(xD,"User change. New user:",e.toKey());let i=yield oY(n.localStore,e);n.currentUser=e,mpe(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield wd(n,i.affectedDocuments)}})}function Qpe(t,e){let n=Ae(t),r=n.activeLimboResolutionsByTarget.get(e);if(r&&r.receivedDocument)return ye().add(r.key);{let i=ye(),s=n.queriesByTarget.get(e);if(!s)return i;for(let o of s){let a=n.queryViewsByQuery.get(o);i=i.unionWith(a.view.syncedDocuments)}return i}}function QY(t){let e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mY.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qpe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gpe.bind(null,e),e.syncEngineListener.onWatchChange=ipe.bind(null,e.eventManager),e.syncEngineListener.onWatchError=spe.bind(null,e.eventManager),e}function wpe(t){let e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ppe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Epe.bind(null,e),e}var pC=class{constructor(){this.synchronizeTabs=!1}initialize(e){return p(this,null,function*(){this.serializer=DC(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return tge(this.persistence,new Lb,e.initialUser,this.serializer)}createPersistence(e){return new Tb(kb.factory,this.serializer)}createSharedClientState(e){return new Ob}terminate(){return p(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var iD=class{initialize(e,n){return p(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zG(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bpe.bind(null,this.syncEngine),yield Zge(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return tpe()}createDatastore(e){let n=DC(e.databaseInfo.databaseId),r=vge(e.databaseInfo);return kge(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return Oge(this.localStore,this.datastore,e.asyncQueue,n=>zG(this.syncEngine,n,0),_ge())}createSyncEngine(e,n){return Ape(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return p(this,null,function*(){var e;yield Uge(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};function wY(t,e,n){if(!n)throw new G(b.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vpe(t,e,n,r){if(e===!0&&r===!0)throw new G(b.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function jG(t){if(!te.isDocumentKey(t))throw new G(b.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function KG(t){if(te.isDocumentKey(t))throw new G(b.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _pe(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function NC(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=Spe(t);return e?`a custom ${e} object`:"an object"}}else return typeof t=="function"?"a function":re()}function Spe(t){return t.constructor?t.constructor.name:null}function ji(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=NC(t);throw new G(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var sD=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.scheduleEvent(this.observer.next,e)}error(e){this.observer.error?this.scheduleEvent(this.observer.error,e):Nr("Uncaught Error in snapshot listener:",e.toString())}mute(){this.muted=!0}scheduleEvent(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var bo="FirestoreClient",bpe=100,Dpe=11,Rpe=20,Tpe=22,oD=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ut.UNAUTHENTICATED,this.clientId=Km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>p(this,null,function*(){P(bo,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(P(bo,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:bpe}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new G(b.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>p(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=FD(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function N0(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),P(bo,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>p(this,null,function*(){r.isEqual(i)||(yield oY(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function $G(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield kpe(t);P(bo,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>JG(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>JG(e.remoteStore,i)),t._onlineComponents=e})}function Npe(t){return t.name==="FirebaseError"?t.code===b.FAILED_PRECONDITION||t.code===b.UNIMPLEMENTED:typeof DOMException<"u"&&t instanceof DOMException?t.code===Tpe||t.code===Rpe||t.code===Dpe:!0}function kpe(t){return p(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){P(bo,"Using user provided OfflineComponentProvider");try{yield N0(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!Npe(n))throw n;rl("Error using user provided cache. Falling back to memory cache: "+n),yield N0(t,new pC)}}else P(bo,"Using default OfflineComponentProvider"),yield N0(t,new pC);return t._offlineComponents})}function vY(t){return p(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(P(bo,"Using user provided OnlineComponentProvider"),yield $G(t,t._uninitializedComponentsProvider._online)):(P(bo,"Using default OnlineComponentProvider"),yield $G(t,new iD))),t._onlineComponents})}function Fpe(t){return vY(t).then(e=>e.syncEngine)}function XG(t){return p(this,null,function*(){let e=yield vY(t),n=e.eventManager;return n.onListen=cpe.bind(null,e.syncEngine),n.onUnlisten=hpe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lpe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dpe.bind(null,e.syncEngine),n})}function Mpe(t,e,n,r){let i=new sD(r),s=new $b(e,i,n);return t.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){let o=yield XG(t);return npe(o,s)})),()=>{i.mute(),t.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){let o=yield XG(t);return rpe(o,s)}))}}function xpe(t,e){let n=new Zr;return t.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){let r=yield Fpe(t);return fpe(r,e,n)})),n.promise}function Lpe(t,e){return t.timeoutSeconds===e.timeoutSeconds}function _Y(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Ope="ComponentProvider",ZG=new Map;function Upe(t){let e=ZG.get(t);e&&(P(Ope,"Removing Datastore"),ZG.delete(t),e.terminate())}function Ppe(t,e,n,r){return new Y0(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,_Y(r.experimentalLongPollingOptions),r.useFetchStreams)}var SY="firestore.googleapis.com",eH=!0,tH=5,nH=30,Vpe=!0,EC=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SY,this.ssl=eH}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:eH;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sY;else{if(e.cacheSizeBytes!==iY&&e.cacheSizeBytes<GG)throw new G(b.INVALID_ARGUMENT,`cacheSizeBytes must be at least ${GG}`);this.cacheSizeBytes=e.cacheSizeBytes}vpe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=Vpe:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_Y((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),qpe(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&Lpe(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}};function qpe(t){if(t.timeoutSeconds!==void 0){if(isNaN(t.timeoutSeconds))throw new G(b.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (must not be NaN)`);if(t.timeoutSeconds<tH)throw new G(b.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (minimum allowed value is ${tH})`);if(t.timeoutSeconds>nH)throw new G(b.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (maximum allowed value is ${nH})`)}}var fl=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new EC({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new G(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new G(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new EC(e),e.credentials!==void 0&&(this._authCredentials=Zue(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return Upe(this),Promise.resolve()}};function bY(t,e,n,r={}){var i;t=ji(t,fl);let s=t._getSettings(),o=`${e}:${n}`;if(s.host!==SY&&s.host!==o&&rl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,A;if(typeof r.mockUserToken=="string")a=r.mockUserToken,A=Ut.MOCK_USER;else{a=gf(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new G(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ut(c)}t._authCredentials=new F0(new jm(a,A))}}var gl=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},bn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},vo=class t extends gl{constructor(e,n,r){super(e,n,_D(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new te(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function DY(t,e,...n){if(t=Dt(t),wY("collection","path",e),t instanceof fl){let r=ut.fromString(e,...n);return KG(r),new vo(t,null,r)}else{if(!(t instanceof bn)&&!(t instanceof vo))throw new G(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ut.fromString(e,...n));return KG(r),new vo(t.firestore,null,r)}}function OD(t,e,...n){if(t=Dt(t),arguments.length===1&&(e=Km.newId()),wY("doc","path",e),t instanceof fl){let r=ut.fromString(e,...n);return jG(r),new bn(t,null,new te(r))}else{if(!(t instanceof bn)&&!(t instanceof vo))throw new G(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ut.fromString(e,...n));return jG(r),new bn(t.firestore,t instanceof vo?t.converter:null,new te(r))}}var Gpe="AsyncQueue",aD=class{constructor(){this.tail=Promise.resolve(),this.retryableOps=[],this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.skipNonRestrictedTasks=!1,this.timerIdsToSkip=[],this.backoff=new cC(this,"async_queue_retry"),this.visibilityHandler=()=>{this.backoff.skipBackoff()}}get isShuttingDown(){return this._isShuttingDown}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.verifyNotFailed(),this.enqueueInternal(e)}enterRestrictedMode(e){this._isShuttingDown||(this._isShuttingDown=!0,this.skipNonRestrictedTasks=e||!1)}enqueue(e){if(this.verifyNotFailed(),this._isShuttingDown)return new Promise(()=>{});let n=new Zr;return this.enqueueInternal(()=>this._isShuttingDown&&this.skipNonRestrictedTasks?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.retryableOps.push(e),this.retryNextOp()))}retryNextOp(){return p(this,null,function*(){if(this.retryableOps.length!==0){try{yield this.retryableOps[0](),this.retryableOps.shift(),this.backoff.reset()}catch(e){if(Bd(e))P(Gpe,"Operation failed with retryable error: "+e);else throw e}this.retryableOps.length>0&&this.backoff.backoffAndRun(()=>this.retryNextOp())}})}enqueueInternal(e){let n=this.tail.then(()=>(this.operationInProgress=!0,e().catch(r=>{this.failure=r,this.operationInProgress=!1;let i=Ype(r);throw Nr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.operationInProgress=!1,r))));return this.tail=n,n}enqueueAfterDelay(e,n,r){this.verifyNotFailed(),this.timerIdsToSkip.indexOf(e)>-1&&(n=0);let i=zb.createAndSchedule(this,e,n,r,s=>this.removeDelayedOperation(s));return this.delayedOperations.push(i),i}verifyNotFailed(){this.failure&&re()}verifyOperationInProgress(){}drain(){return p(this,null,function*(){let e;do e=this.tail,yield e;while(e!==this.tail)})}containsDelayedOperation(e){for(let n of this.delayedOperations)if(n.timerId===e)return!0;return!1}runAllDelayedOperationsUntil(e){return this.drain().then(()=>{this.delayedOperations.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.delayedOperations)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.drain()})}skipDelaysForTimerId(e){this.timerIdsToSkip.push(e)}removeDelayedOperation(e){let n=this.delayedOperations.indexOf(e);this.delayedOperations.splice(n,1)}};function Hpe(){return new aD}function Ype(t){let e=t.message||"";return t.stack&&(t.stack.includes(t.message)?e=t.stack:e=t.message+`
`+t.stack),e}var _s=class extends fl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=Hpe(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||NY(this),this._firestoreClient.terminate()}};function RY(t,e){let n=typeof t=="object"?t:qo(),r=typeof t=="string"?t:e||W0,i=ru(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=ff("firestore");s&&bY(i,...s)}return i}function TY(t){return t._firestoreClient||NY(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function NY(t){var e,n,r;let i=t._freezeSettings(),s=Ppe(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new oD(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Wpe(t,e=!0){$ue(ks),di(new kn("firestore",(n,{instanceIdentifier:r,options:i})=>{let s=n.getProvider("app").getImmediate(),o=new _s(new M0(n.getProvider("auth-internal")),new U0(n.getProvider("app-check-internal")),_he(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),ct(yG,BG,t),ct(yG,BG,"esm2017")}var Ed=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Dn.fromBase64String(e))}catch(n){throw new G(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var pl=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var md=class{constructor(e){this._methodName=e}};var Cd=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}};var Jpe=/^__.*__$/,AD=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ki(e,this.data,this.fieldMask,n,this.fieldTransforms):new qa(e,this.data,n,this.fieldTransforms)}},mC=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ki(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function kY(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re()}}var cD=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.contextWith({path:r,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.contextWith({path:r,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return IC(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(kY(this.dataSource)&&Jpe.test(e))throw this.createError('Document fields cannot begin and end with "__"')}},lD=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||DC(e)}createContext(e,n,r,i=!1){return new cD({dataSource:e,methodName:n,targetDoc:r,path:cr.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function kC(t){let e=t._freezeSettings(),n=DC(t._databaseId);return new lD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function FY(t,e,n,r,i,s={}){let o=t.createContext(s.merge||s.mergeFields?2:0,e,n,i);UD("Data must be an object, but it was:",o,r);let a=MY(r,o),A,c;if(s.merge)A=new Tr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let u of s.mergeFields){let h=uD(e,u,n);if(!o.contains(h))throw new G(b.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);LY(l,h)||l.push(h)}A=new Tr(l),c=o.fieldTransforms.filter(u=>A.covers(u.field))}else A=null,c=o.fieldTransforms;return new AD(new Ar(a),A,c)}var CC=class t extends md{_toFieldTransform(e){if(e.dataSource===2)e.fieldMask.push(e.path);else throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return null}isEqual(e){return e instanceof t}};function zpe(t,e,n,r){let i=t.createContext(1,e,n);UD("Data must be an object, but it was:",i,r);let s=[],o=Ar.empty();Ya(r,(A,c)=>{let l=PD(e,A,n);c=Dt(c);let u=i.childContextForFieldPath(l);if(c instanceof CC)s.push(l);else{let h=vd(c,u);h!=null&&(s.push(l),o.set(l,h))}});let a=new Tr(s);return new mC(o,a,i.fieldTransforms)}function jpe(t,e,n,r,i,s){let o=t.createContext(1,e,n),a=[uD(e,r,n)],A=[i];if(s.length%2!==0)throw new G(b.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(uD(e,s[h])),A.push(s[h+1]);let c=[],l=Ar.empty();for(let h=a.length-1;h>=0;--h)if(!LY(c,a[h])){let d=a[h],f=A[h];f=Dt(f);let E=o.childContextForFieldPath(d);if(f instanceof CC)c.push(d);else{let C=vd(f,E);C!=null&&(c.push(d),l.set(d,C))}}let u=new Tr(c);return new mC(l,u,o.fieldTransforms)}function Kpe(t,e,n,r=!1){let i=t.createContext(r?4:3,e);return vd(n,i)}function vd(t,e){if(t=Dt(t),xY(t))return UD("Unsupported field value:",e,t),MY(t,e);if(t instanceof md)return Xpe(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return $pe(t,e)}else return Zpe(t,e)}function MY(t,e){let n={};return yH(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ya(t,(r,i)=>{let s=vd(i,e.childContextForField(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function $pe(t,e){let n=[],r=0;for(let i of t){let s=vd(i,e.childContextForArray(r));s==null&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}function Xpe(t,e){if(!kY(e.dataSource))throw e.createError(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.createError(`${t._methodName}() is not currently supported inside arrays`);let n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}function Zpe(t,e){if(t=Dt(t),t===null)return{nullValue:"NULL_VALUE"};if(typeof t=="number")return Qde(e.serializer,t);if(typeof t=="boolean")return{booleanValue:t};if(typeof t=="string")return{stringValue:t};if(t instanceof Date){let n=Kt.fromDate(t);return{timestampValue:oC(e.serializer,n)}}else if(t instanceof Kt){let n=new Kt(t.seconds,Math.floor(t.nanoseconds/1e3)*1e3);return{timestampValue:oC(e.serializer,n)}}else{if(t instanceof Cd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ed)return{bytesValue:$H(e.serializer,t._byteString)};if(t instanceof bn){let n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e.createError(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:bD(t.firestore._databaseId||e.databaseId,t._key.path)}}else throw e.createError(`Unsupported field value: ${NC(t)}`)}}function xY(t){return typeof t=="object"&&t!==null&&!(t instanceof Array)&&!(t instanceof Date)&&!(t instanceof Kt)&&!(t instanceof Cd)&&!(t instanceof Ed)&&!(t instanceof bn)&&!(t instanceof md)}function UD(t,e,n){if(!xY(n)||!_pe(n)){let r=NC(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function uD(t,e,n){if(e=Dt(e),e instanceof pl)return e._internalPath;if(typeof e=="string")return PD(t,e);throw IC("Field path arguments must be of type string or ",t,!1,void 0,n)}var eEe=new RegExp("[~\\*/\\[\\]]");function PD(t,e,n){if(e.search(eEe)>=0)throw IC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pl(...e.split("."))._internalPath}catch{throw IC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function IC(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let A="";return(s||o)&&(A+=" (found",s&&(A+=` in field ${r}`),o&&(A+=` in document ${i}`),A+=")"),new G(b.INVALID_ARGUMENT,a+t+A)}function LY(t,e){return t.some(n=>n.isEqual(e))}var yC=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document)if(this._converter){let e=new hD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}else return this._userDataWriter.convertValue(this._document.data.value);else return}get(e){if(this._document){let n=this._document.data.field(VD("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},hD=class extends yC{data(){return super.data()}};function VD(t,e){return typeof e=="string"?PD(t,e):e instanceof pl?e._internalPath:e._delegate._internalPath}function tEe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Id=class{},dD=class extends Id{};function nEe(t,e,...n){let r=[];e instanceof Id&&r.push(e),r=r.concat(n),AEe(r);for(let i of r)t=i._apply(t);return t}var BC=class t extends dD{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return OY(e._query,n),new gl(e.firestore,e.converter,SD(e._query,n))}_parse(e){let n=kC(e.firestore);return iEe(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function rEe(t,e,n){let r=e,i=VD("where",t);return BC._create(i,r,n)}var fD=class t extends Id{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ni.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(oEe(e._query,n),new gl(e.firestore,e.converter,SD(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function iEe(t,e,n,r,i,s,o){let a;if(i.isKeyField()){if(s==="array-contains"||s==="array-contains-any")throw new G(b.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if(s==="in"||s==="not-in"){iH(o,s);let c=[];for(let l of o)c.push(rH(r,t,l));a={arrayValue:{values:c}}}else a=rH(r,t,o)}else(s==="in"||s==="not-in"||s==="array-contains-any")&&iH(o,s),a=Kpe(n,e,o,s==="in"||s==="not-in");return St.create(i,s,a)}function rH(t,e,n){if(n=Dt(n),typeof n=="string"){if(n==="")throw new G(b.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MH(e)&&n.indexOf("/")!==-1)throw new G(b.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(ut.fromString(n));if(!te.isDocumentKey(r))throw new G(b.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return DG(t,new te(r))}else{if(n instanceof bn)return DG(t,n._key);throw new G(b.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${NC(n)}.`)}}function iH(t,e){if(!Array.isArray(t)||t.length===0)throw new G(b.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sEe(t){switch(t){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}function OY(t,e){let n=aEe(t.filters,sEe(e.op));if(n!==null)throw n===e.op?new G(b.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(b.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function oEe(t,e){let n=t,r=e.getFlattenedFilters();for(let i of r)OY(n,i),n=SD(n,i)}function aEe(t,e){for(let n of t)for(let r of n.getFlattenedFilters())if(e.indexOf(r.op)>=0)return r.op;return null}function AEe(t){let e=t.filter(r=>r instanceof fD).length,n=t.filter(r=>r instanceof BC).length;if(e>1||e>0&&n>0)throw new G(b.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}var gD=class{convertValue(e,n="none"){switch(Oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ya(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Cd(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=ID(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ad(e));default:return null}}convertTimestamp(e){let n=ws(e);return new Kt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=ut.fromString(e);Xe(rY(r));let i=new eC(r.get(1),r.get(3)),s=new te(r.popFirst(5));return i.isEqual(n)||Nr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function UY(t,e,n){let r;return t?n&&(n.merge||n.mergeFields)?r=t.toFirestore(e,n):r=t.toFirestore(e):r=e,r}function sH(t){return cEe(t,["next","error","complete"])}function cEe(t,e){if(typeof t!="object"||t===null)return!1;let n=t;for(let r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}var Ha=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},QC=class extends yC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document)if(this._converter){let n=new El(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}else return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps);else return}get(e,n={}){if(this._document){let r=this._document.data.field(VD("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},El=class extends QC{data(e={}){return super.data(e)}},pD=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ha(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new El(this._firestore,this._userDataWriter,r.key,r,new Ha(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return(!this._cachedChanges||this._cachedChangesIncludeMetadataChanges!==n)&&(this._cachedChanges=lEe(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function lEe(t,e){if(t._snapshot.oldDocs.isEmpty()){let n=0;return t._snapshot.docChanges.map(r=>{let i=new El(t._firestore,t._userDataWriter,r.doc.key,r.doc,new Ha(t._snapshot.mutatedKeys.has(r.doc.key),t._snapshot.fromCache),t.query.converter);return r.doc,{type:"added",doc:i,oldIndex:-1,newIndex:n++}})}else{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(r=>e||r.type!==3).map(r=>{let i=new El(t._firestore,t._userDataWriter,r.doc.key,r.doc,new Ha(t._snapshot.mutatedKeys.has(r.doc.key),t._snapshot.fromCache),t.query.converter),s=-1,o=-1;return r.type!==0&&(s=n.indexOf(r.doc.key),n=n.delete(r.doc.key)),r.type!==1&&(n=n.add(r.doc),o=n.indexOf(r.doc.key)),{type:uEe(r.type),doc:i,oldIndex:s,newIndex:o}})}}function uEe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re()}}var wC=class extends gD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ed(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,n)}};function PY(t,e,n){t=ji(t,bn);let r=ji(t.firestore,_s),i=UY(t.converter,e,n),s=kC(r),a=FY(s,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ji.none());return MC(r,[a])}function VY(t,e,n,...r){t=ji(t,bn);let i=ji(t.firestore,_s),s=kC(i);e=Dt(e);let o;typeof e=="string"||e instanceof pl?o=jpe(s,"updateDoc",t._key,e,n,r):o=zpe(s,"updateDoc",t._key,e);let a=o.toMutation(t._key,Ji.exists(!0));return MC(i,[a])}function qY(t){let e=ji(t.firestore,_s),n=[new hd(t._key,Ji.none())];return MC(e,n)}function GY(t,e){let n=ji(t.firestore,_s),r=OD(t),i=UY(t.converter,e),s=kC(t.firestore),a=FY(s,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ji.exists(!1));return MC(n,[a]).then(()=>r)}function FC(t,...e){var n,r,i;t=Dt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]=="object"&&!sH(e[o])&&(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(sH(e[o])){let h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let A,c,l;if(t instanceof bn)c=ji(t.firestore,_s),l=_D(t._key.path),A={next:h=>{e[o]&&e[o](hEe(c,t,h))},error:e[o+1],complete:e[o+2]};else{let h=ji(t,gl);c=ji(h.firestore,_s),l=h._query;let d=new wC(c);A={next:f=>{e[o]&&e[o](new pD(c,d,h,f))},error:e[o+1],complete:e[o+2]},tEe(t._query)}let u=TY(c);return Mpe(u,l,a,A)}function MC(t,e){let n=TY(t);return xpe(n,e)}function hEe(t,e,n){let r=n.docs.get(e._key),i=new wC(t);return new QC(t,i,e._key,r,new Ha(n.hasPendingWrites,n.fromCache),e.converter)}Wpe("node");var xC=function(){return xC=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xC.apply(this,arguments)};var gEe={includeMetadataChanges:!1};function qD(t,e){return e===void 0&&(e=gEe),new Gl(function(n){var r=FC(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function HY(t){return qD(t,{includeMetadataChanges:!0})}function YY(t,e){return e===void 0&&(e={}),HY(t).pipe(lA(function(n){return GD(n,e)}))}function GD(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:xC(xC({},r),(n={},n[e.idField]=t.id,n))}function WY(t){return qD(t,{includeMetadataChanges:!0}).pipe(lA(function(e){return e.docs}))}function JY(t,e){return e===void 0&&(e={}),WY(t).pipe(lA(function(n){return n.map(function(r){return GD(r,e)})}))}var _d=class{constructor(e){return e}},zY="firestore",HD=class{constructor(){return Yo(zY)}};var YD=new Yn("angularfire2.firestore-instances");function pEe(t,e){let n=iu(zY,t,e);return n&&new _d(n)}function EEe(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new _d(r)}}var mEe={provide:HD,deps:[[new Wn,YD]]},CEe={provide:_d,useFactory:pEe,deps:[[new Wn,YD],es]},IEe=(()=>{class t{constructor(){ct("angularfire",Fs.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ai({type:t});static \u0275inj=ai({providers:[CEe,mEe]})}return t})();function sDe(t,...e){return{ngModule:IEe,providers:[{provide:YD,useFactory:EEe(t),multi:!0,deps:[Rs,xo,Wo,Jo,[new Wn,sc],[new Wn,Ho],...e]}]}}var oDe=en(JY,!0);var aDe=en(YY,!0);var ADe=en(GY,!0);var cDe=en(DY,!0);var lDe=en(qY,!0);var uDe=en(OD,!0);var hDe=en(RY,!0);var dDe=en(FC,!0);var fDe=en(PY,!0);var gDe=en(VY,!0);var iW=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(Gt(kI),Gt(NI))},e.\u0275dir=xr({type:e});let t=e;return t})(),yEe=(()=>{let e=class e extends iW{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=TI(e)))(s||e)}})(),e.\u0275dir=xr({type:e,features:[Ts]});let t=e;return t})(),sW=new Yn("");var BEe={provide:sW,useExisting:Hl(()=>oW),multi:!0};function QEe(){let t=OI()?OI().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var wEe=new Yn(""),oW=(()=>{let e=class e extends iW{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!QEe())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(Gt(kI),Gt(NI),Gt(wEe,8))},e.\u0275dir=xr({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&MI("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Jl([BEe]),Ts]});let t=e;return t})();function Ro(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function aW(t){return t!=null&&typeof t.length=="number"}var jD=new Yn(""),AW=new Yn(""),vEe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,jY=class{static min(e){return _Ee(e)}static max(e){return SEe(e)}static required(e){return cW(e)}static requiredTrue(e){return bEe(e)}static email(e){return DEe(e)}static minLength(e){return REe(e)}static maxLength(e){return TEe(e)}static pattern(e){return NEe(e)}static nullValidator(e){return UC(e)}static compose(e){return gW(e)}static composeAsync(e){return pW(e)}};function _Ee(t){return e=>{if(Ro(e.value)||Ro(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function SEe(t){return e=>{if(Ro(e.value)||Ro(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function cW(t){return Ro(t.value)?{required:!0}:null}function bEe(t){return t.value===!0?null:{required:!0}}function DEe(t){return Ro(t.value)||vEe.test(t.value)?null:{email:!0}}function REe(t){return e=>Ro(e.value)||!aW(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function TEe(t){return e=>aW(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function NEe(t){if(!t)return UC;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Ro(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function UC(t){return null}function lW(t){return t!=null}function uW(t){return eN(t)?DI(t):t}function hW(t){let e={};return t.forEach(n=>{e=n!=null?k(k({},e),n):e}),Object.keys(e).length===0?null:e}function dW(t,e){return e.map(n=>n(t))}function kEe(t){return!t.validate}function fW(t){return t.map(e=>kEe(e)?e:n=>e.validate(n))}function gW(t){if(!t)return null;let e=t.filter(lW);return e.length==0?null:function(n){return hW(dW(n,e))}}function KD(t){return t!=null?gW(fW(t)):null}function pW(t){if(!t)return null;let e=t.filter(lW);return e.length==0?null:function(n){let r=dW(n,e).map(uW);return jT(r).pipe(lA(hW))}}function $D(t){return t!=null?pW(fW(t)):null}function KY(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function FEe(t){return t._rawValidators}function MEe(t){return t._rawAsyncValidators}function WD(t){return t?Array.isArray(t)?t:[t]:[]}function PC(t,e){return Array.isArray(t)?t.includes(e):t===e}function $Y(t,e){let n=WD(e);return WD(t).forEach(i=>{PC(n,i)||n.push(i)}),n}function XY(t,e){return WD(e).filter(n=>!PC(t,n))}var VC=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=KD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$D(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},yl=class extends VC{get formDirective(){return null}get path(){return null}},Rd=class extends VC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},qC=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},xEe={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},FDe=j(k({},xEe),{"[class.ng-submitted]":"isSubmitted"}),MDe=(()=>{let e=class e extends qC{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Gt(Rd,2))},e.\u0275dir=xr({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&FI("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Ts]});let t=e;return t})(),xDe=(()=>{let e=class e extends qC{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Gt(yl,10))},e.\u0275dir=xr({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&FI("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Ts]});let t=e;return t})();var Sd="VALID",LC="INVALID",Il="PENDING",bd="DISABLED";function XD(t){return(GC(t)?t.validators:t)||null}function LEe(t){return Array.isArray(t)?KD(t):t||null}function ZD(t,e){return(GC(e)?e.asyncValidators:t)||null}function OEe(t){return Array.isArray(t)?$D(t):t||null}function GC(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function EW(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new Af(1e3,"");if(!r[n])throw new Af(1001,"")}function mW(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new Af(1002,"")})}var Bl=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Sd}get invalid(){return this.status===LC}get pending(){return this.status==Il}get disabled(){return this.status===bd}get enabled(){return this.status!==bd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators($Y(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators($Y(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(XY(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(XY(e,this._rawAsyncValidators))}hasValidator(e){return PC(this._rawValidators,e)}hasAsyncValidator(e){return PC(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Il,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=bd,this.errors=null,this._forEachChild(r=>{r.disable(j(k({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(j(k({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Sd,this._forEachChild(r=>{r.enable(j(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(j(k({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Sd||this.status===Il)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bd:Sd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Il,this._hasOwnPendingAsyncValidator=!0;let n=uW(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Wl,this.statusChanges=new Wl}_calculateStatus(){return this._allControlsDisabled()?bd:this.errors?LC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Il)?Il:this._anyControlsHaveStatus(LC)?LC:Sd}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){GC(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=LEe(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=OEe(this._rawAsyncValidators)}},Ql=class extends Bl{constructor(e,n,r){super(XD(n),ZD(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){mW(this,!0,e),Object.keys(e).forEach(r=>{EW(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var JD=class extends Ql{};var HC=new Yn("CallSetDisabledState",{providedIn:"root",factory:()=>YC}),YC="always";function UEe(t,e){return[...e.path,t]}function CW(t,e,n=YC){IW(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),VEe(t,e),GEe(t,e),qEe(t,e),PEe(t,e)}function ZY(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function PEe(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function IW(t,e){let n=FEe(t);e.validator!==null?t.setValidators(KY(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=MEe(t);e.asyncValidator!==null?t.setAsyncValidators(KY(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();ZY(e._rawValidators,i),ZY(e._rawAsyncValidators,i)}function VEe(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&yW(t,e)})}function qEe(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&yW(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function yW(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function GEe(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function HEe(t,e){t==null,IW(t,e)}function YEe(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function WEe(t){return Object.getPrototypeOf(t.constructor)===yEe}function JEe(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function zEe(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===oW?n=s:WEe(s)?r=s:i=s}),i||r||n||null}var jEe={provide:yl,useExisting:Hl(()=>KEe)},Dd=Promise.resolve(),KEe=(()=>{let e=class e extends yl{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Wl,this.form=new Ql({},KD(r),$D(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Dd.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),CW(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Dd.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Dd.then(()=>{let i=this._findContainer(r.path),s=new Ql({});HEe(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Dd.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Dd.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,JEe(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(Gt(jD,10),Gt(AW,10),Gt(HC,8))},e.\u0275dir=xr({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&MI("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[Yl.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Jl([jEe]),Ts]});let t=e;return t})();function eW(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function tW(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var OC=class extends Bl{constructor(e=null,n,r){super(XD(n),ZD(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),GC(n)&&(n.nonNullable||n.initialValueIsDefault)&&(tW(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){eW(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){eW(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){tW(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var $Ee={provide:Rd,useExisting:Hl(()=>XEe)},nW=Promise.resolve(),XEe=(()=>{let e=class e extends Rd{constructor(r,i,s,o,a,A){super(),this._changeDetectorRef=a,this.callSetDisabledState=A,this.control=new OC,this._registered=!1,this.name="",this.update=new Wl,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=zEe(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),YEe(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){CW(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){nW.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&LI(i);nW.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?UEe(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(Gt(yl,9),Gt(jD,10),Gt(AW,10),Gt(sW,10),Gt(tN,8),Gt(HC,8))},e.\u0275dir=xr({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Yl.None,"disabled","isDisabled"],model:[Yl.None,"ngModel","model"],options:[Yl.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Jl([$Ee]),Ts,RI]});let t=e;return t})(),ODe=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=xr({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var ZEe=new Yn("");var eme=(()=>{let e=class e{constructor(){this._validator=UC}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):UC,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=xr({type:e,features:[RI]});let t=e;return t})();var tme={provide:jD,useExisting:Hl(()=>nme),multi:!0};var nme=(()=>{let e=class e extends eme{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=LI,this.createValidator=r=>cW}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=TI(e)))(s||e)}})(),e.\u0275dir=xr({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&XT("required",s._enabled?"":null)},inputs:{required:"required"},features:[Jl([tme]),Ts]});let t=e;return t})();var BW=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ai({type:e}),e.\u0275inj=ai({});let t=e;return t})(),zD=class extends Bl{constructor(e,n,r){super(XD(n),ZD(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){mW(this,!1,e),e.forEach((r,i)=>{EW(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function rW(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var UDe=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let s=this._reduceControls(r),o={};return rW(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Ql(s,o)}record(r,i=null){let s=this._reduceControls(r);return new JD(s,i)}control(r,i,s){let o={};return this.useNonNullable?(rW(i)?o=i:(o.validators=i,o.asyncValidators=s),new OC(r,j(k({},o),{nonNullable:!0}))):new OC(r,i,s)}array(r,i,s){let o=r.map(a=>this._createControl(a));return new zD(o,i,s)}_reduceControls(r){let i={};return Object.keys(r).forEach(s=>{i[s]=this._createControl(r[s])}),i}_createControl(r){if(r instanceof OC)return r;if(r instanceof Bl)return r;if(Array.isArray(r)){let i=r[0],s=r.length>1?r[1]:null,o=r.length>2?r[2]:null;return this.control(i,s,o)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=cf({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var PDe=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:HC,useValue:r.callSetDisabledState??YC}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ai({type:e}),e.\u0275inj=ai({imports:[BW]});let t=e;return t})(),VDe=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:ZEe,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:HC,useValue:r.callSetDisabledState??YC}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ai({type:e}),e.\u0275inj=ai({imports:[BW]});let t=e;return t})();var L4=ql(r4(),1);var cI="5",O4="v",U4="s",P4="r",V4="f",q4=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,G4="ls",H4="p",VR="ac",Y4="websocket",W4="long_polling";var qR=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Tt(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:uA(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var GR=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return li(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var J4=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new qR(e)}}catch{}return new GR},nA=J4("localStorage"),HR=J4("sessionStorage");var Tl=new ui("@firebase/database"),cCe=function(){let t=1;return function(){return t++}}(),z4=function(t){let e=gN(t),n=new hf;n.update(e);let r=n.digest();return df.encodeByteArray(r)},ef=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ef.apply(null,r):typeof r=="object"?e+=Tt(r):e+=r,e+=" "}return e},rA=null,i4=!0,lCe=function(t,e){O(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Tl.logLevel=pe.VERBOSE,rA=Tl.log.bind(Tl),e&&HR.set("logging_enabled",!0)):typeof t=="function"?rA=t:(rA=null,HR.remove("logging_enabled"))},dn=function(...t){if(i4===!0&&(i4=!1,rA===null&&HR.get("logging_enabled")===!0&&lCe(!0)),rA){let e=ef.apply(null,t);rA(e)}},tf=function(t){return function(...e){dn(t,...e)}},YR=function(...t){let e="FIREBASE INTERNAL ERROR: "+ef(...t);Tl.error(e)},bs=function(...t){let e=`FIREBASE FATAL ERROR: ${ef(...t)}`;throw Tl.error(e),new Error(e)},ur=function(...t){let e="FIREBASE WARNING: "+ef(...t);Tl.warn(e)},uCe=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ur("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},j4=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},hCe=function(t){if(ci()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},kl="[MIN_NAME]",iA="[MAX_NAME]",Pl=function(t,e){if(t===e)return 0;if(t===kl||e===iA)return-1;if(e===kl||t===iA)return 1;{let n=s4(t),r=s4(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},dCe=function(t,e){return t===e?0:t<e?-1:1},Vd=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Tt(e))},TT=function(t){if(typeof t!="object"||t===null)return Tt(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Tt(e[r]),n+=":",n+=TT(t[e[r]]);return n+="}",n},K4=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Mr(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var $4=function(t){O(!j4(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,s,o,a,A;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));let c=[];for(A=n;A;A-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(A=e;A;A-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();let l=c.join(""),u="";for(A=0;A<64;A+=8){let h=parseInt(l.substr(A,8),2).toString(16);h.length===1&&(h="0"+h),u=u+h}return u.toLowerCase()},fCe=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},gCe=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};var pCe=new RegExp("^-?(0*)\\d{1,10}$"),ECe=-2147483648,mCe=2147483647,s4=function(t){if(pCe.test(t)){let e=Number(t);if(e>=ECe&&e<=mCe)return e}return null},nf=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw ur("Exception was thrown by user callback.",n),e},Math.floor(0))}},CCe=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Wd=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var lI=class{constructor(e,n,r,i,s=!1,o="",a=!1,A=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=A,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=nA.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&nA.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function ICe(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function X4(t,e,n){O(typeof e=="string","typeof type must == string"),O(typeof n=="object","typeof params must == object");let r;if(e===Y4)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===W4)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);ICe(t)&&(n.ns=t.namespace);let i=[];return Mr(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var WR=class{constructor(){this.counters_={}}incrementCounter(e,n=1){li(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return iN(this.counters_)}};var FR={},MR={};function NT(t){let e=t.toString();return FR[e]||(FR[e]=new WR),FR[e]}function yCe(t,e){let n=t.toString();return MR[n]||(MR[n]=e()),MR[n]}var kT="";function BCe(t){kT=t}var QCe=16384,wCe=45e3,Kd=null;typeof MozWebSocket<"u"?Kd=MozWebSocket:typeof WebSocket<"u"&&(Kd=WebSocket);function vCe(t){Kd=t}var qd=(()=>{class t{constructor(n,r,i,s,o,a,A){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=tf(this.connId),this.stats_=NT(r),this.connURL=t.connectionURL_(r,a,A,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let a={};return a[O4]=cI,!ci()&&typeof location<"u"&&location.hostname&&q4.test(location.hostname)&&(a[P4]=V4),r&&(a[U4]=r),i&&(a[G4]=i),s&&(a[VR]=s),o&&(a[H4]=o),X4(n,Y4,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,nA.set("previous_websocket_failure",!0);try{let i;if(ci()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${cI}/${kT}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Kd(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Kd!==null&&!t.forceDisallow_}static previouslyFailed(){return nA.isInMemoryStorage||nA.get("previous_websocket_failure")===!0}markConnectionHealthy(){nA.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=uA(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(O(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Tt(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=K4(r,QCe);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(wCe))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),o4="@firebase/database",a4="1.0.4";var JR=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ur(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var zR=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(dn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ur(e)}},Jd=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),jR=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&nf(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var A4="start",_Ce="close",SCe="pLPCommand",bCe="pRTLPCB",Z4="id",ez="pw",tz="ser",DCe="cb",RCe="seg",TCe="ts",NCe="d",kCe="dframe",nz=1870,rz=30,FCe=nz-rz,MCe=25e3,xCe=3e4,KR=class t{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=tf(e),this.stats_=NT(n),this.urlFn=A=>(this.appCheckToken&&(A[VR]=this.appCheckToken),X4(n,W4,A))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new jR(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(xCe)),hCe(()=>{if(this.isClosed_)return;this.scriptTagHolder=new $R((...s)=>{let[o,a,A,c,l]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===A4)this.id=a,this.password=A;else if(o===_Ce)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[A4]="t",r[tz]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[DCe]=this.scriptTagHolder.uniqueCallbackIdentifier),r[O4]=cI,this.transportSessionId&&(r[U4]=this.transportSessionId),this.lastSessionId&&(r[G4]=this.lastSessionId),this.applicationId&&(r[H4]=this.applicationId),this.appCheckToken&&(r[VR]=this.appCheckToken),typeof location<"u"&&location.hostname&&q4.test(location.hostname)&&(r[P4]=V4);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return ci()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!fCe()&&!gCe()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=Tt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=qI(n),i=K4(r,FCe);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(ci())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[kCe]="t",r[Z4]=e,r[ez]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=Tt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},$R=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,ci())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=cCe(),window[SCe+this.uniqueCallbackIdentifier]=e,window[bCe+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";</script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){dn("frame writing exception"),a.stack&&dn(a.stack),dn(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||dn("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[Z4]=this.myID,e[ez]=this.myPW,e[tz]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+rz+r.length<=nz;){let o=this.pendingSegs.shift();r=r+"&"+RCe+i+"="+o.seg+"&"+TCe+i+"="+o.ts+"&"+NCe+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(MCe)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){ci()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{dn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var LCe=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[KR,qd]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=qd&&qd.isAvailable(),i=r&&!qd.previouslyFailed();if(n.webSocketOnly&&(r||ur("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[qd];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),OCe=6e4,UCe=5e3,PCe=10*1024,VCe=100*1024,xR="t",c4="d",qCe="s",l4="r",GCe="e",u4="o",h4="a",d4="n",f4="p",HCe="h",XR=class{constructor(e,n,r,i,s,o,a,A,c,l){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=A,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=tf("c:"+this.id+":"),this.transportManager_=new LCe(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Wd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>VCe?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>PCe?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(xR in e){let n=e[xR];n===h4?this.upgradeIfSecondaryHealthy_():n===l4?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===u4&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Vd("t",e),r=Vd("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:f4,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:h4,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:d4,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Vd("t",e),r=Vd("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Vd(xR,e);if(c4 in e){let r=e[c4];if(n===HCe){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===d4){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===qCe?this.onConnectionShutdown_(r):n===l4?this.onReset_(r):n===GCe?YR("Server Error: "+r):n===u4?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):YR("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),cI!==r&&ur("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Wd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(OCe))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Wd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(UCe))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:f4,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(nA.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var uI=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var hI=class{constructor(e){this.allowedEvents_=e,this.listeners_={},O(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){O(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var dI=class t extends hI{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Kl()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return O(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var g4=32,p4=768,Je=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function Ve(){return new Je("")}function ve(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Fo(t){return t.pieces_.length-t.pieceNum_}function rt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Je(t.pieces_,e)}function iz(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function YCe(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function sz(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function oz(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Je(e,0)}function Pt(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Je)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Je(n,0)}function Be(t){return t.pieceNum_>=t.pieces_.length}function kr(t,e){let n=ve(t),r=ve(e);if(n===null)return e;if(n===r)return kr(rt(t),rt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function az(t,e){if(Fo(t)!==Fo(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function ii(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Fo(t)>Fo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var ZR=class{constructor(e,n){this.errorPrefix_=n,this.parts_=sz(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Zl(this.parts_[r]);Az(this)}};function WCe(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Zl(e),Az(t)}function JCe(t){let e=t.parts_.pop();t.byteLength_-=Zl(e),t.parts_.length>0&&(t.byteLength_-=1)}function Az(t){if(t.byteLength_>p4)throw new Error(t.errorPrefix_+"has a key path longer than "+p4+" bytes ("+t.byteLength_+").");if(t.parts_.length>g4)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+g4+") or object contains a cycle "+tA(t))}function tA(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var eT=class t extends hI{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return O(e==="visible","Unknown event type: "+e),[this.visible_]}};var Gd=1e3,zCe=60*5*1e3,E4=30*1e3,jCe=1.3,KCe=3e4,$Ce="server_kill",m4=3,FT=(()=>{class t extends uI{constructor(n,r,i,s,o,a,A,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=A,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=tf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Gd,this.maxReconnectDelay_=zCe,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!ci())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");eT.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&dI.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(Tt(o)),O(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new Lo,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let A=a.d;a.s==="ok"?r.resolve(A):r.reject(A)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),O(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),O(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let A={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,A),this.connected_&&this.sendListen_(A)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(a,o,A=>{let c=A.d,l=A.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",A),l!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(l,c))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&li(n,"w")){let i=Uo(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();ur(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||hN(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=E4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=uN(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),O(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++;let A=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(A):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Tt(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):YR("Unrecognized action received from server: "+Tt(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){O(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Gd,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Gd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>KCe&&(this.reconnectDelay_=Gd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*jCe)}this.onConnectStatus_(!1)}establishConnection_(){return p(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,A=null,c=function(){A?A.close():(a=!0,i())},l=function(h){O(A,"sendRequest call when we're not connected not allowed."),A.sendRequest(h)};this.realtime_={close:c,sendRequest:l};let u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,d]=yield Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);a?dn("getToken() completed but was canceled"):(dn("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=d&&d.token,A=new XR(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,f=>{ur(f+" ("+this.repoInfo_.toString()+")"),this.interrupt($Ce)},o))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&ur(h),c())}}})}interrupt(n){dn("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){dn("Resuming connection for reason: "+n),delete this.interruptReasons_[n],YI(this.interruptReasons_)&&(this.reconnectDelay_=Gd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>TT(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new Je(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){dn("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=m4&&(this.reconnectDelay_=E4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){dn("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=m4&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";ci()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+kT.replace(/\./g,"-")]=1,Kl()?n["framework.cordova"]=1:pf()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=dI.getInstance().currentlyOnline();return YI(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),_e=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Fl=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new _e(kl,e),i=new _e(kl,n);return this.compare(r,i)!==0}minPost(){return _e.MIN}};var AI,fI=class extends Fl{static get __EMPTY_NODE(){return AI}static set __EMPTY_NODE(e){AI=e}compare(e,n){return Pl(e.name,n.name)}isDefinedOn(e){throw Oo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return _e.MIN}maxPost(){return new _e(iA,AI)}makePost(e,n){return O(typeof e=="string","KeyIndex indexValue must always be a string."),new _e(e,AI)}toString(){return".key"}},Nl=new fI;var Dl=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},ri=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??Fr.EMPTY_NODE,this.right=o??Fr.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Fr.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Fr.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),tT=class{copy(e,n,r,i,s){return this}insert(e,n,r){return new ri(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Fr=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ri.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ri.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Dl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Dl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Dl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Dl(this.root_,null,this.comparator_,!0,e)}};Fr.EMPTY_NODE=new tT;function XCe(t,e){return Pl(t.name,e.name)}function MT(t,e){return Pl(t,e)}var nT;function ZCe(t){nT=t}var cz=function(t){return typeof t=="number"?"number:"+$4(t):"string:"+t},lz=function(t){if(t.isLeafNode()){let e=t.val();O(typeof e=="string"||typeof e=="number"||typeof e=="object"&&li(e,".sv"),"Priority must be a string or number.")}else O(t===nT||t.isEmpty(),"priority of unexpected type.");O(t===nT||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var C4,Ml=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,O(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),lz(this.priorityNode_)}static set __childrenNodeConstructor(n){C4=n}static get __childrenNodeConstructor(){return C4}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Be(n)?this:ve(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=ve(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(O(i!==".priority"||Fo(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(rt(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+cz(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=$4(this.value_):n+=this.value_,this.lazyHash_=z4(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(O(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return O(s>=0,"Unknown leaf type: "+r),O(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),uz,hz;function eIe(t){uz=t}function tIe(t){hz=t}var rT=class extends Fl{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Pl(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return _e.MIN}maxPost(){return new _e(iA,new Ml("[PRIORITY-POST]",hz))}makePost(e,n){let r=uz(e);return new _e(n,new Ml("[PRIORITY-POST]",r))}toString(){return".priority"}},gn=new rT;var nIe=Math.log(2),iT=class{constructor(e){let n=s=>parseInt(Math.log(s)/nIe,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},gI=function(t,e,n,r){t.sort(e);let i=function(A,c){let l=c-A,u,h;if(l===0)return null;if(l===1)return u=t[A],h=n?n(u):u,new ri(h,u.node,ri.BLACK,null,null);{let d=parseInt(l/2,10)+A,f=i(A,d),E=i(d+1,c);return u=t[d],h=n?n(u):u,new ri(h,u.node,ri.BLACK,f,E)}},s=function(A){let c=null,l=null,u=t.length,h=function(f,E){let C=u-f,y=u;u-=f;let I=i(C+1,y),S=t[C],v=n?n(S):S;d(new ri(v,S.node,E,null,I))},d=function(f){c?(c.left=f,c=f):(l=f,c=f)};for(let f=0;f<A.count;++f){let E=A.nextBitIsOne(),C=Math.pow(2,A.count-(f+1));E?h(C,ri.BLACK):(h(C,ri.BLACK),h(C,ri.RED))}return l},o=new iT(t.length),a=s(o);return new Fr(r||e,a)};var LR,bl={},xl=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return O(bl&&gn,"ChildrenNode.ts has not been loaded"),LR=LR||new t({".priority":bl},{".priority":gn}),LR}get(e){let n=Uo(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Fr?n:null}hasIndex(e){return li(this.indexSet_,e.toString())}addIndex(e,n){O(e!==Nl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(_e.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=gI(r,e.getCompare()):a=bl;let A=e.toString(),c=Object.assign({},this.indexSet_);c[A]=e;let l=Object.assign({},this.indexes_);return l[A]=a,new t(l,c)}addToIndexes(e,n){let r=$l(this.indexes_,(i,s)=>{let o=Uo(this.indexSet_,s);if(O(o,"Missing index implementation for "+s),i===bl)if(o.isDefinedOn(e.node)){let a=[],A=n.getIterator(_e.Wrap),c=A.getNext();for(;c;)c.name!==e.name&&a.push(c),c=A.getNext();return a.push(e),gI(a,o.getCompare())}else return bl;else{let a=n.get(e.name),A=i;return a&&(A=A.remove(new _e(e.name,a))),A.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=$l(this.indexes_,i=>{if(i===bl)return i;{let s=n.get(e.name);return s?i.remove(new _e(e.name,s)):i}});return new t(r,this.indexSet_)}};var Hd,ht=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&lz(this.priorityNode_),this.children_.isEmpty()&&O(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Hd||(Hd=new t(new Fr(MT),null,xl.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Hd}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Hd:r}}getChild(n){let r=ve(n);return r===null?this:this.getImmediateChild(r).getChild(rt(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(O(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new _e(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?Hd:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){let i=ve(n);if(i===null)return r;{O(ve(n)!==".priority"||Fo(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(rt(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(gn,(a,A)=>{r[a]=A.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){let a=[];for(let A in r)a[A]=r[A];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+cz(this.getPriority().val())+":"),this.forEachChild(gn,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":z4(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new _e(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new _e(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new _e(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,_e.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,_e.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===rf?-1:0}withIndex(n){if(n===Nl||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Nl||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(gn),s=r.getIterator(gn),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Nl?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),sT=class extends ht{constructor(){super(new Fr(MT),ht.EMPTY_NODE,xl.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ht.EMPTY_NODE}isEmpty(){return!1}},rf=new sT;Object.defineProperties(_e,{MIN:{value:new _e(kl,ht.EMPTY_NODE)},MAX:{value:new _e(iA,rf)}});fI.__EMPTY_NODE=ht.EMPTY_NODE;Ml.__childrenNodeConstructor=ht;ZCe(rf);tIe(rf);var rIe=!0;function fn(t,e=null){if(t===null)return ht.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),O(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Ml(n,fn(e))}if(!(t instanceof Array)&&rIe){let n=[],r=!1;if(Mr(t,(o,a)=>{if(o.substring(0,1)!=="."){let A=fn(a);A.isEmpty()||(r=r||!A.getPriority().isEmpty(),n.push(new _e(o,A)))}}),n.length===0)return ht.EMPTY_NODE;let s=gI(n,XCe,o=>o.name,MT);if(r){let o=gI(n,gn.getCompare());return new ht(s,fn(e),new xl({".priority":o},{".priority":gn}))}else return new ht(s,fn(e),xl.Default)}else{let n=ht.EMPTY_NODE;return Mr(t,(r,i)=>{if(li(t,r)&&r.substring(0,1)!=="."){let s=fn(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(fn(e))}}eIe(fn);var oT=class extends Fl{constructor(e){super(),this.indexPath_=e,O(!Be(e)&&ve(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Pl(e.name,n.name):s}makePost(e,n){let r=fn(e),i=ht.EMPTY_NODE.updateChild(this.indexPath_,r);return new _e(n,i)}maxPost(){let e=ht.EMPTY_NODE.updateChild(this.indexPath_,rf);return new _e(iA,e)}toString(){return sz(this.indexPath_,0).join("/")}};var aT=class extends Fl{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Pl(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return _e.MIN}maxPost(){return _e.MAX}makePost(e,n){let r=fn(e);return new _e(n,r)}toString(){return".value"}},iIe=new aT;function sIe(t){return{type:"value",snapshotNode:t}}function oIe(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function aIe(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function I4(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function AIe(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var AT=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=gn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return O(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return O(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:kl}hasEnd(){return this.endSet_}getIndexEndValue(){return O(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return O(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:iA}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return O(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===gn}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function y4(t){let e={};if(t.isDefault())return e;let n;if(t.index_===gn?n="$priority":t.index_===iIe?n="$value":t.index_===Nl?n="$key":(O(t.index_ instanceof oT,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Tt(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=Tt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Tt(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Tt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Tt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function B4(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==gn&&(e.i=t.index_.toString()),e}var cT=class t extends uI{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=tf("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(O(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,r),a={};this.listens_[o]=a;let A=y4(e._queryParams);this.restRequest_(s+".json",A,(c,l)=>{let u=l;if(c===404&&(u=null,c=null),c===null&&this.onDataUpdate_(s,u,!1,r),Uo(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=y4(e._queryParams),r=e._path.toString(),i=new Lo;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Xl(n);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let A=null;if(a.status>=200&&a.status<300){try{A=uA(a.responseText)}catch{ur("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,A)}else a.status!==401&&a.status!==404&&ur("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var lT=class{constructor(){this.rootNode_=ht.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function pI(){return{value:null,children:new Map}}function dz(t,e,n){if(Be(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=ve(e);t.children.has(r)||t.children.set(r,pI());let i=t.children.get(r);e=rt(e),dz(i,e,n)}}function uT(t,e,n){t.value!==null?n(e,t.value):cIe(t,(r,i)=>{let s=new Je(e.toString()+"/"+r);uT(i,s,n)})}function cIe(t,e){t.children.forEach((n,r)=>{e(r,n)})}var hT=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Mr(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var Q4=10*1e3,lIe=30*1e3,uIe=5*60*1e3,dT=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new hT(e);let r=Q4+(lIe-Q4)*Math.random();Wd(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;Mr(e,(i,s)=>{s>0&&li(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Wd(this.reportStats_.bind(this),Math.floor(Math.random()*2*uIe))}};var Ss=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Ss||{});function fz(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function gz(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function pz(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var fT=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ss.ACK_USER_WRITE,this.source=fz()}operationForChild(e){if(Be(this.path)){if(this.affectedTree.value!=null)return O(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new Je(e));return new t(Ve(),n,this.revert)}}else return O(ve(this.path)===e,"operationForChild called for unrelated child."),new t(rt(this.path),this.affectedTree,this.revert)}};var Ll=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ss.OVERWRITE}operationForChild(e){return Be(this.path)?new t(this.source,Ve(),this.snap.getImmediateChild(e)):new t(this.source,rt(this.path),this.snap)}};var EI=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ss.MERGE}operationForChild(e){if(Be(this.path)){let n=this.children.subtree(new Je(e));return n.isEmpty()?null:n.value?new Ll(this.source,Ve(),n.value):new t(this.source,Ve(),n)}else return O(ve(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,rt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var $d=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Be(e))return this.isFullyInitialized()&&!this.filtered_;let n=ve(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};function hIe(t,e,n,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(AIe(o.childName,o.snapshotNode))}),Yd(t,i,"child_removed",e,r,n),Yd(t,i,"child_added",e,r,n),Yd(t,i,"child_moved",s,r,n),Yd(t,i,"child_changed",e,r,n),Yd(t,i,"value",e,r,n),i}function Yd(t,e,n,r,i,s){let o=r.filter(a=>a.type===n);o.sort((a,A)=>fIe(t,a,A)),o.forEach(a=>{let A=dIe(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(A,t.query_))})})}function dIe(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function fIe(t,e,n){if(e.childName==null||n.childName==null)throw Oo("Should only compare child_ events.");let r=new _e(e.childName,e.snapshotNode),i=new _e(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function Ez(t,e){return{eventCache:t,serverCache:e}}function zd(t,e,n,r){return Ez(new $d(e,n,r),t.serverCache)}function mz(t,e,n,r){return Ez(t.eventCache,new $d(e,n,r))}function gT(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function sA(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var OR,gIe=()=>(OR||(OR=new Fr(dCe)),OR),Gn=class t{constructor(e,n=gIe()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return Mr(e,(r,i)=>{n=n.set(new Je(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ve(),value:this.value};if(Be(e))return null;{let r=ve(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(rt(e),n);return s!=null?{path:Pt(new Je(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Be(e))return this;{let n=ve(e),r=this.children.get(n);return r!==null?r.subtree(rt(e)):new t(null)}}set(e,n){if(Be(e))return new t(n,this.children);{let r=ve(e),s=(this.children.get(r)||new t(null)).set(rt(e),n),o=this.children.insert(r,s);return new t(this.value,o)}}remove(e){if(Be(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=ve(e),r=this.children.get(n);if(r){let i=r.remove(rt(e)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if(Be(e))return this.value;{let n=ve(e),r=this.children.get(n);return r?r.get(rt(e)):null}}setTree(e,n){if(Be(e))return n;{let r=ve(e),s=(this.children.get(r)||new t(null)).setTree(rt(e),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new t(this.value,o)}}fold(e){return this.fold_(Ve(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Pt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ve(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(Be(e))return null;{let s=ve(e),o=this.children.get(s);return o?o.findOnPath_(rt(e),Pt(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ve(),n)}foreachOnPath_(e,n,r){if(Be(e))return this;{this.value&&r(n,this.value);let i=ve(e),s=this.children.get(i);return s?s.foreachOnPath_(rt(e),Pt(n,i),r):new t(null)}}foreach(e){this.foreach_(Ve(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Pt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var si=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new Gn(null))}};function jd(t,e,n){if(Be(e))return new si(new Gn(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=kr(i,e);return s=s.updateChild(o,n),new si(t.writeTree_.set(i,s))}else{let i=new Gn(n),s=t.writeTree_.setTree(e,i);return new si(s)}}}function w4(t,e,n){let r=t;return Mr(n,(i,s)=>{r=jd(r,Pt(e,i),s)}),r}function v4(t,e){if(Be(e))return si.empty();{let n=t.writeTree_.setTree(e,new Gn(null));return new si(n)}}function pT(t,e){return oA(t,e)!=null}function oA(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(kr(n.path,e)):null}function _4(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(gn,(r,i)=>{e.push(new _e(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new _e(r,i.value))}),e}function ko(t,e){if(Be(e))return t;{let n=oA(t,e);return n!=null?new si(new Gn(n)):new si(t.writeTree_.subtree(e))}}function ET(t){return t.writeTree_.isEmpty()}function Ol(t,e){return Cz(Ve(),t.writeTree_,e)}function Cz(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(O(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Cz(Pt(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Pt(t,".priority"),r)),n}}function Iz(t,e){return vz(e,t)}function pIe(t,e,n,r,i){O(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=jd(t.visibleWrites,e,n)),t.lastWriteId=r}function EIe(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function mIe(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);O(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let a=t.allWrites[o];a.visible&&(o>=n&&CIe(a,r.path)?i=!1:ii(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return IIe(t),!0;if(r.snap)t.visibleWrites=v4(t.visibleWrites,r.path);else{let a=r.children;Mr(a,A=>{t.visibleWrites=v4(t.visibleWrites,Pt(r.path,A))})}return!0}else return!1}function CIe(t,e){if(t.snap)return ii(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&ii(Pt(t.path,n),e))return!0;return!1}function IIe(t){t.visibleWrites=yz(t.allWrites,yIe,Ve()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function yIe(t){return t.visible}function yz(t,e,n){let r=si.empty();for(let i=0;i<t.length;++i){let s=t[i];if(e(s)){let o=s.path,a;if(s.snap)ii(n,o)?(a=kr(n,o),r=jd(r,a,s.snap)):ii(o,n)&&(a=kr(o,n),r=jd(r,Ve(),s.snap.getChild(a)));else if(s.children){if(ii(n,o))a=kr(n,o),r=w4(r,a,s.children);else if(ii(o,n))if(a=kr(o,n),Be(a))r=w4(r,Ve(),s.children);else{let A=Uo(s.children,ve(a));if(A){let c=A.getChild(rt(a));r=jd(r,Ve(),c)}}}else throw Oo("WriteRecord should have .snap or .children")}}return r}function Bz(t,e,n,r,i){if(!r&&!i){let s=oA(t.visibleWrites,e);if(s!=null)return s;{let o=ko(t.visibleWrites,e);if(ET(o))return n;if(n==null&&!pT(o,Ve()))return null;{let a=n||ht.EMPTY_NODE;return Ol(o,a)}}}else{let s=ko(t.visibleWrites,e);if(!i&&ET(s))return n;if(!i&&n==null&&!pT(s,Ve()))return null;{let o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(ii(c.path,e)||ii(e,c.path))},a=yz(t.allWrites,o,e),A=n||ht.EMPTY_NODE;return Ol(a,A)}}}function BIe(t,e,n){let r=ht.EMPTY_NODE,i=oA(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(gn,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=ko(t.visibleWrites,e);return n.forEachChild(gn,(o,a)=>{let A=Ol(ko(s,new Je(o)),a);r=r.updateImmediateChild(o,A)}),_4(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=ko(t.visibleWrites,e);return _4(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function QIe(t,e,n,r,i){O(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=Pt(e,n);if(pT(t.visibleWrites,s))return null;{let o=ko(t.visibleWrites,s);return ET(o)?i.getChild(n):Ol(o,i.getChild(n))}}function wIe(t,e,n,r){let i=Pt(e,n),s=oA(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=ko(t.visibleWrites,i);return Ol(o,r.getNode().getImmediateChild(n))}else return null}function vIe(t,e){return oA(t.visibleWrites,e)}function _Ie(t,e,n,r,i,s,o){let a,A=ko(t.visibleWrites,e),c=oA(A,Ve());if(c!=null)a=c;else if(n!=null)a=Ol(A,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let l=[],u=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),d=h.getNext();for(;d&&l.length<i;)u(d,r)!==0&&l.push(d),d=h.getNext();return l}else return[]}function SIe(){return{visibleWrites:si.empty(),allWrites:[],lastWriteId:-1}}function mT(t,e,n,r){return Bz(t.writeTree,t.treePath,e,n,r)}function Qz(t,e){return BIe(t.writeTree,t.treePath,e)}function S4(t,e,n,r){return QIe(t.writeTree,t.treePath,e,n,r)}function mI(t,e){return vIe(t.writeTree,Pt(t.treePath,e))}function bIe(t,e,n,r,i,s){return _Ie(t.writeTree,t.treePath,e,n,r,i,s)}function xT(t,e,n){return wIe(t.writeTree,t.treePath,e,n)}function wz(t,e){return vz(Pt(t.treePath,e),t.writeTree)}function vz(t,e){return{treePath:t,writeTree:e}}var CT=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;O(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),O(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,I4(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,aIe(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,oIe(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,I4(r,e.snapshotNode,i.oldSnap));else throw Oo("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var IT=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},_z=new IT,Xd=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new $d(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return xT(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:sA(this.viewCache_),s=bIe(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}};function DIe(t,e){O(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),O(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function RIe(t,e,n,r,i){let s=new CT,o,a;if(n.type===Ss.OVERWRITE){let c=n;c.source.fromUser?o=yT(t,e,c.path,c.snap,r,i,s):(O(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Be(c.path),o=CI(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===Ss.MERGE){let c=n;c.source.fromUser?o=NIe(t,e,c.path,c.children,r,i,s):(O(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=BT(t,e,c.path,c.children,r,i,a,s))}else if(n.type===Ss.ACK_USER_WRITE){let c=n;c.revert?o=MIe(t,e,c.path,r,i,s):o=kIe(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Ss.LISTEN_COMPLETE)o=FIe(t,e,n.path,r,s);else throw Oo("Unknown operation type: "+n.type);let A=s.getChanges();return TIe(e,o,A),{viewCache:o,changes:A}}function TIe(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=gT(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(sIe(gT(e)))}}function Sz(t,e,n,r,i,s){let o=e.eventCache;if(mI(r,n)!=null)return e;{let a,A;if(Be(n))if(O(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let c=sA(e),l=c instanceof ht?c:ht.EMPTY_NODE,u=Qz(r,l);a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{let c=mT(r,sA(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{let c=ve(n);if(c===".priority"){O(Fo(n)===1,"Can't have a priority with additional path components");let l=o.getNode();A=e.serverCache.getNode();let u=S4(r,n,l,A);u!=null?a=t.filter.updatePriority(l,u):a=o.getNode()}else{let l=rt(n),u;if(o.isCompleteForChild(c)){A=e.serverCache.getNode();let h=S4(r,n,o.getNode(),A);h!=null?u=o.getNode().getImmediateChild(c).updateChild(l,h):u=o.getNode().getImmediateChild(c)}else u=xT(r,c,e.serverCache);u!=null?a=t.filter.updateChild(o.getNode(),c,u,l,i,s):a=o.getNode()}}return zd(e,a,o.isFullyInitialized()||Be(n),t.filter.filtersNodes())}}function CI(t,e,n,r,i,s,o,a){let A=e.serverCache,c,l=o?t.filter:t.filter.getIndexedFilter();if(Be(n))c=l.updateFullNode(A.getNode(),r,null);else if(l.filtersNodes()&&!A.isFiltered()){let d=A.getNode().updateChild(n,r);c=l.updateFullNode(A.getNode(),d,null)}else{let d=ve(n);if(!A.isCompleteForPath(n)&&Fo(n)>1)return e;let f=rt(n),C=A.getNode().getImmediateChild(d).updateChild(f,r);d===".priority"?c=l.updatePriority(A.getNode(),C):c=l.updateChild(A.getNode(),d,C,f,_z,null)}let u=mz(e,c,A.isFullyInitialized()||Be(n),l.filtersNodes()),h=new Xd(i,u,s);return Sz(t,u,n,i,h,a)}function yT(t,e,n,r,i,s,o){let a=e.eventCache,A,c,l=new Xd(i,e,s);if(Be(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),A=zd(e,c,!0,t.filter.filtersNodes());else{let u=ve(n);if(u===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),A=zd(e,c,a.isFullyInitialized(),a.isFiltered());else{let h=rt(n),d=a.getNode().getImmediateChild(u),f;if(Be(h))f=r;else{let E=l.getCompleteChild(u);E!=null?iz(h)===".priority"&&E.getChild(oz(h)).isEmpty()?f=E:f=E.updateChild(h,r):f=ht.EMPTY_NODE}if(d.equals(f))A=e;else{let E=t.filter.updateChild(a.getNode(),u,f,h,l,o);A=zd(e,E,a.isFullyInitialized(),t.filter.filtersNodes())}}}return A}function b4(t,e){return t.eventCache.isCompleteForChild(e)}function NIe(t,e,n,r,i,s,o){let a=e;return r.foreach((A,c)=>{let l=Pt(n,A);b4(e,ve(l))&&(a=yT(t,a,l,c,i,s,o))}),r.foreach((A,c)=>{let l=Pt(n,A);b4(e,ve(l))||(a=yT(t,a,l,c,i,s,o))}),a}function D4(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function BT(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let A=e,c;Be(n)?c=r:c=new Gn(null).setTree(n,r);let l=e.serverCache.getNode();return c.children.inorderTraversal((u,h)=>{if(l.hasChild(u)){let d=e.serverCache.getNode().getImmediateChild(u),f=D4(t,d,h);A=CI(t,A,new Je(u),f,i,s,o,a)}}),c.children.inorderTraversal((u,h)=>{let d=!e.serverCache.isCompleteForChild(u)&&h.value===null;if(!l.hasChild(u)&&!d){let f=e.serverCache.getNode().getImmediateChild(u),E=D4(t,f,h);A=CI(t,A,new Je(u),E,i,s,o,a)}}),A}function kIe(t,e,n,r,i,s,o){if(mI(i,n)!=null)return e;let a=e.serverCache.isFiltered(),A=e.serverCache;if(r.value!=null){if(Be(n)&&A.isFullyInitialized()||A.isCompleteForPath(n))return CI(t,e,n,A.getNode().getChild(n),i,s,a,o);if(Be(n)){let c=new Gn(null);return A.getNode().forEachChild(Nl,(l,u)=>{c=c.set(new Je(l),u)}),BT(t,e,n,c,i,s,a,o)}else return e}else{let c=new Gn(null);return r.foreach((l,u)=>{let h=Pt(n,l);A.isCompleteForPath(h)&&(c=c.set(l,A.getNode().getChild(h)))}),BT(t,e,n,c,i,s,a,o)}}function FIe(t,e,n,r,i){let s=e.serverCache,o=mz(e,s.getNode(),s.isFullyInitialized()||Be(n),s.isFiltered());return Sz(t,o,n,r,_z,i)}function MIe(t,e,n,r,i,s){let o;if(mI(r,n)!=null)return e;{let a=new Xd(r,e,i),A=e.eventCache.getNode(),c;if(Be(n)||ve(n)===".priority"){let l;if(e.serverCache.isFullyInitialized())l=mT(r,sA(e));else{let u=e.serverCache.getNode();O(u instanceof ht,"serverChildren would be complete if leaf node"),l=Qz(r,u)}l=l,c=t.filter.updateFullNode(A,l,s)}else{let l=ve(n),u=xT(r,l,e.serverCache);u==null&&e.serverCache.isCompleteForChild(l)&&(u=A.getImmediateChild(l)),u!=null?c=t.filter.updateChild(A,l,u,rt(n),a,s):e.eventCache.getNode().hasChild(l)?c=t.filter.updateChild(A,l,ht.EMPTY_NODE,rt(n),a,s):c=A,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=mT(r,sA(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||mI(r,Ve())!=null,zd(e,c,o,t.filter.filtersNodes())}}function xIe(t,e){let n=sA(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Be(e)&&!n.getImmediateChild(ve(e)).isEmpty())?n.getChild(e):null}function R4(t,e,n,r){e.type===Ss.MERGE&&e.source.queryId!==null&&(O(sA(t.viewCache_),"We should always have a full cache before handling merges"),O(gT(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,s=RIe(t.processor_,i,e,n,r);return DIe(t.processor_,s.viewCache),O(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,LIe(t,s.changes,s.viewCache.eventCache.getNode(),null)}function LIe(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return hIe(t.eventGenerator_,e,n,i)}var T4;function OIe(t){O(!T4,"__referenceConstructor has already been defined"),T4=t}function LT(t,e,n,r){let i=e.source.queryId;if(i!==null){let s=t.views.get(i);return O(s!=null,"SyncTree gave us an op for an invalid query."),R4(s,e,n,r)}else{let s=[];for(let o of t.views.values())s=s.concat(R4(o,e,n,r));return s}}function OT(t,e){let n=null;for(let r of t.views.values())n=n||xIe(r,e);return n}var N4;function UIe(t){O(!N4,"__referenceConstructor has already been defined"),N4=t}var II=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Gn(null),this.pendingWriteTree_=SIe(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function PIe(t,e,n,r,i){return pIe(t.pendingWriteTree_,e,n,r,i),i?BI(t,new Ll(fz(),e,n)):[]}function Rl(t,e,n=!1){let r=EIe(t.pendingWriteTree_,e);if(mIe(t.pendingWriteTree_,e)){let s=new Gn(null);return r.snap!=null?s=s.set(Ve(),!0):Mr(r.children,o=>{s=s.set(new Je(o),!0)}),BI(t,new fT(r.path,s,n))}else return[]}function yI(t,e,n){return BI(t,new Ll(gz(),e,n))}function VIe(t,e,n){let r=Gn.fromObject(n);return BI(t,new EI(gz(),e,r))}function qIe(t,e,n,r){let i=Tz(t,r);if(i!=null){let s=Nz(i),o=s.path,a=s.queryId,A=kr(o,e),c=new Ll(pz(a),A,n);return kz(t,o,c)}else return[]}function GIe(t,e,n,r){let i=Tz(t,r);if(i){let s=Nz(i),o=s.path,a=s.queryId,A=kr(o,e),c=Gn.fromObject(n),l=new EI(pz(a),A,c);return kz(t,o,l)}else return[]}function bz(t,e,n){let i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{let A=kr(o,e),c=OT(a,A);if(c)return c});return Bz(i,e,s,n,!0)}function BI(t,e){return Dz(e,t.syncPointTree_,null,Iz(t.pendingWriteTree_,Ve()))}function Dz(t,e,n,r){if(Be(t.path))return Rz(t,e,n,r);{let i=e.get(Ve());n==null&&i!=null&&(n=OT(i,Ve()));let s=[],o=ve(t.path),a=t.operationForChild(o),A=e.children.get(o);if(A&&a){let c=n?n.getImmediateChild(o):null,l=wz(r,o);s=s.concat(Dz(a,A,c,l))}return i&&(s=s.concat(LT(i,t,r,n))),s}}function Rz(t,e,n,r){let i=e.get(Ve());n==null&&i!=null&&(n=OT(i,Ve()));let s=[];return e.children.inorderTraversal((o,a)=>{let A=n?n.getImmediateChild(o):null,c=wz(r,o),l=t.operationForChild(o);l&&(s=s.concat(Rz(l,a,A,c)))}),i&&(s=s.concat(LT(i,t,r,n))),s}function Tz(t,e){return t.tagToQueryMap.get(e)}function Nz(t){let e=t.indexOf("$");return O(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Je(t.substr(0,e))}}function kz(t,e,n){let r=t.syncPointTree_.get(e);O(r,"Missing sync point for query tag that we're tracking");let i=Iz(t.pendingWriteTree_,e);return LT(r,n,i,null)}var QT=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},wT=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Pt(this.path_,e);return new t(this.syncTree_,n)}node(){return bz(this.syncTree_,this.path_)}},HIe=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},k4=function(t,e,n){if(!t||typeof t!="object")return t;if(O(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return YIe(t[".sv"],e,n);if(typeof t[".sv"]=="object")return WIe(t[".sv"],e);O(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},YIe=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:O(!1,"Unexpected server value: "+t)}},WIe=function(t,e,n){t.hasOwnProperty("increment")||O(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&O(!1,"Unexpected increment value: "+r);let i=e.node();if(O(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},JIe=function(t,e,n,r){return UT(e,new wT(n,t),r)},zIe=function(t,e,n){return UT(t,new QT(e),n)};function UT(t,e,n){let r=t.getPriority().val(),i=k4(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,a=k4(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Ml(a,fn(i)):t}else{let o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Ml(i))),o.forEachChild(gn,(a,A)=>{let c=UT(A,e.getImmediateChild(a),n);c!==A&&(s=s.updateImmediateChild(a,c))}),s}}var Zd=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function PT(t,e){let n=e instanceof Je?e:new Je(e),r=t,i=ve(n);for(;i!==null;){let s=Uo(r.node.children,i)||{children:{},childCount:0};r=new Zd(i,r,s),n=rt(n),i=ve(n)}return r}function Vl(t){return t.node.value}function Fz(t,e){t.node.value=e,vT(t)}function Mz(t){return t.node.childCount>0}function jIe(t){return Vl(t)===void 0&&!Mz(t)}function QI(t,e){Mr(t.node.children,(n,r)=>{e(new Zd(n,t,r))})}function xz(t,e,n,r){n&&!r&&e(t),QI(t,i=>{xz(i,e,!0,r)}),n&&r&&e(t)}function KIe(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function sf(t){return new Je(t.parent===null?t.name:sf(t.parent)+"/"+t.name)}function vT(t){t.parent!==null&&$Ie(t.parent,t.name,t)}function $Ie(t,e,n){let r=jIe(n),i=li(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,vT(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,vT(t))}var XIe=/[\[\].#$\/\u0000-\u001F\u007F]/,ZIe=/[\[\].#$\u0000-\u001F\u007F]/,UR=10*1024*1024,Lz=function(t){return typeof t=="string"&&t.length!==0&&!XIe.test(t)},eye=function(t){return typeof t=="string"&&t.length!==0&&!ZIe.test(t)},tye=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),eye(t)};var Oz=function(t,e,n){let r=n instanceof Je?new ZR(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+tA(r));if(typeof e=="function")throw new Error(t+"contains a function "+tA(r)+" with contents = "+e.toString());if(j4(e))throw new Error(t+"contains "+e.toString()+" "+tA(r));if(typeof e=="string"&&e.length>UR/3&&Zl(e)>UR)throw new Error(t+"contains a string greater than "+UR+" utf8 bytes "+tA(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Mr(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Lz(o)))throw new Error(t+" contains an invalid key ("+o+") "+tA(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);WCe(r,o),Oz(t,a,r),JCe(r)}),i&&s)throw new Error(t+' contains ".value" child '+tA(r)+" in addition to actual children.")}};var nye=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Lz(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!tye(n))throw new Error(fN(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var _T=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function rye(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();n!==null&&!az(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function aA(t,e,n){rye(t,n),iye(t,r=>ii(r,e)||ii(e,r))}function iye(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let s=i.path;e(s)?(sye(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function sye(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();rA&&dn("event: "+n.toString()),nf(r)}}}var oye="repo_interrupt",aye=25,ST=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new _T,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=pI(),this.transactionQueueTree_=new Zd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function Aye(t,e,n){if(t.stats_=NT(t.repoInfo_),t.forceRestClient_||CCe())t.server_=new cT(t.repoInfo_,(r,i,s,o)=>{F4(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>M4(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Tt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new FT(t.repoInfo_,e,(r,i,s,o)=>{F4(t,r,i,s,o)},r=>{M4(t,r)},r=>{lye(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=yCe(t.repoInfo_,()=>new dT(t.stats_,t.server_)),t.infoData_=new lT,t.infoSyncTree_=new II({startListening:(r,i,s,o)=>{let a=[],A=t.infoData_.getNode(r._path);return A.isEmpty()||(a=yI(t.infoSyncTree_,r._path,A),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),VT(t,"connected",!1),t.serverSyncTree_=new II({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,A)=>{let c=o(a,A);aA(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function cye(t){let n=t.infoData_.getNode(new Je(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Uz(t){return HIe({timestamp:cye(t)})}function F4(t,e,n,r,i){t.dataUpdateCount++;let s=new Je(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){let A=$l(n,c=>fn(c));o=GIe(t.serverSyncTree_,s,A,i)}else{let A=fn(n);o=qIe(t.serverSyncTree_,s,A,i)}else if(r){let A=$l(n,c=>fn(c));o=VIe(t.serverSyncTree_,s,A)}else{let A=fn(n);o=yI(t.serverSyncTree_,s,A)}let a=s;o.length>0&&(a=GT(t,s)),aA(t.eventQueue_,a,o)}function M4(t,e){VT(t,"connected",e),e===!1&&hye(t)}function lye(t,e){Mr(e,(n,r)=>{VT(t,n,r)})}function VT(t,e,n){let r=new Je("/.info/"+e),i=fn(n);t.infoData_.updateSnapshot(r,i);let s=yI(t.infoSyncTree_,r,i);aA(t.eventQueue_,r,s)}function uye(t){return t.nextWriteId_++}function hye(t){Pz(t,"onDisconnectEvents");let e=Uz(t),n=pI();uT(t.onDisconnect_,Ve(),(i,s)=>{let o=JIe(i,s,t.serverSyncTree_,e);dz(n,i,o)});let r=[];uT(n,Ve(),(i,s)=>{r=r.concat(yI(t.serverSyncTree_,i,s));let o=pye(t,i);GT(t,o)}),t.onDisconnect_=pI(),aA(t.eventQueue_,Ve(),r)}function dye(t){t.persistentConnection_&&t.persistentConnection_.interrupt(oye)}function Pz(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),dn(n,...e)}function Vz(t,e,n){return bz(t.serverSyncTree_,e,n)||ht.EMPTY_NODE}function qT(t,e=t.transactionQueueTree_){if(e||wI(t,e),Vl(e)){let n=Gz(t,e);O(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&fye(t,sf(e),n)}else Mz(e)&&QI(e,n=>{qT(t,n)})}function fye(t,e,n){let r=n.map(c=>c.currentWriteId),i=Vz(t,e,r),s=i,o=i.hash();for(let c=0;c<n.length;c++){let l=n[c];O(l.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;let u=kr(e,l.path);s=s.updateChild(u,l.currentOutputSnapshotRaw)}let a=s.val(!0),A=e;t.server_.put(A.toString(),a,c=>{Pz(t,"transaction put response",{path:A.toString(),status:c});let l=[];if(c==="ok"){let u=[];for(let h=0;h<n.length;h++)n[h].status=2,l=l.concat(Rl(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&u.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();wI(t,PT(t.transactionQueueTree_,e)),qT(t,t.transactionQueueTree_),aA(t.eventQueue_,e,l);for(let h=0;h<u.length;h++)nf(u[h])}else{if(c==="datastale")for(let u=0;u<n.length;u++)n[u].status===3?n[u].status=4:n[u].status=0;else{ur("transaction at "+A.toString()+" failed: "+c);for(let u=0;u<n.length;u++)n[u].status=4,n[u].abortReason=c}GT(t,e)}},o)}function GT(t,e){let n=qz(t,e),r=sf(n),i=Gz(t,n);return gye(t,i,r),r}function gye(t,e,n){if(e.length===0)return;let r=[],i=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let A=e[a],c=kr(n,A.path),l=!1,u;if(O(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),A.status===4)l=!0,u=A.abortReason,i=i.concat(Rl(t.serverSyncTree_,A.currentWriteId,!0));else if(A.status===0)if(A.retryCount>=aye)l=!0,u="maxretry",i=i.concat(Rl(t.serverSyncTree_,A.currentWriteId,!0));else{let h=Vz(t,A.path,o);A.currentInputSnapshot=h;let d=e[a].update(h.val());if(d!==void 0){Oz("transaction failed: Data returned ",d,A.path);let f=fn(d);typeof d=="object"&&d!=null&&li(d,".priority")||(f=f.updatePriority(h.getPriority()));let C=A.currentWriteId,y=Uz(t),I=zIe(f,h,y);A.currentOutputSnapshotRaw=f,A.currentOutputSnapshotResolved=I,A.currentWriteId=uye(t),o.splice(o.indexOf(C),1),i=i.concat(PIe(t.serverSyncTree_,A.path,I,A.currentWriteId,A.applyLocally)),i=i.concat(Rl(t.serverSyncTree_,C,!0))}else l=!0,u="nodata",i=i.concat(Rl(t.serverSyncTree_,A.currentWriteId,!0))}aA(t.eventQueue_,n,i),i=[],l&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(u==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(u),!1,null))))}wI(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)nf(r[a]);qT(t,t.transactionQueueTree_)}function qz(t,e){let n,r=t.transactionQueueTree_;for(n=ve(e);n!==null&&Vl(r)===void 0;)r=PT(r,n),e=rt(e),n=ve(e);return r}function Gz(t,e){let n=[];return Hz(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Hz(t,e,n){let r=Vl(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);QI(e,i=>{Hz(t,i,n)})}function wI(t,e){let n=Vl(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Fz(e,n.length>0?n:void 0)}QI(e,r=>{wI(t,r)})}function pye(t,e){let n=sf(qz(t,e)),r=PT(t.transactionQueueTree_,e);return KIe(r,i=>{PR(t,i)}),PR(t,r),xz(r,i=>{PR(t,i)}),n}function PR(t,e){let n=Vl(e);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(O(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(O(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Rl(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Fz(e,void 0):n.length=s+1,aA(t.eventQueue_,sf(e),i);for(let o=0;o<r.length;o++)nf(r[o])}}function Eye(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function mye(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ur(`Invalid query segment '${n}' in query '${t}'`)}return e}var x4=function(t,e){let n=Cye(t),r=n.namespace;n.domain==="firebase.com"&&bs(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&bs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||uCe();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new lI(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Je(n.pathString)}},Cye=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",A=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let l=t.indexOf("/");l===-1&&(l=t.length);let u=t.indexOf("?");u===-1&&(u=t.length),e=t.substring(0,Math.min(l,u)),l<u&&(i=Eye(t.substring(l,u)));let h=mye(t.substring(Math.min(t.length,u)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",A=parseInt(e.substring(c+1),10)):c=e.length;let d=e.slice(0,c);if(d.toLowerCase()==="localhost")n="localhost";else if(d.split(".").length<=2)n=d;else{let f=e.indexOf(".");r=e.substring(0,f).toLowerCase(),n=e.substring(f+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:A,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var bT=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Be(this._path)?null:iz(this._path)}get ref(){return new Ul(this._repo,this._path)}get _queryIdentifier(){let e=B4(this._queryParams),n=TT(e);return n==="{}"?"default":n}get _queryObject(){return B4(this._queryParams)}isEqual(e){if(e=Dt(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=az(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+YCe(this._path)}};var Ul=class t extends bT{constructor(e,n){super(e,n,new AT,!1)}get parent(){let e=oz(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}};OIe(Ul);UIe(Ul);var Iye="FIREBASE_DATABASE_EMULATOR_HOST",DT={},yye=!1;function Bye(t,e,n,r){t.repoInfo_=new lI(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Qye(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||bs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=x4(s,i),a=o.repoInfo,A,c;typeof process<"u"&&process.env&&(c=process.env[Iye]),c?(A=!0,s=`http://${c}?ns=${a.namespace}`,o=x4(s,i),a=o.repoInfo):A=!o.repoInfo.secure;let l=i&&A?new Jd(Jd.OWNER):new zR(t.name,t.options,e);nye("Invalid Firebase Database URL",o),Be(o.path)||bs("Database URL must point to the root of a Firebase Database (not including a child path).");let u=vye(a,t,l,new JR(t.name,n));return new RT(u,t)}function wye(t,e){let n=DT[e];(!n||n[t.key]!==t)&&bs(`Database ${e}(${t.repoInfo_}) has already been deleted.`),dye(t),delete n[t.key]}function vye(t,e,n,r){let i=DT[e.name];i||(i={},DT[e.name]=i);let s=i[t.toURLString()];return s&&bs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new ST(t,yye,n,r),i[t.toURLString()]=s,s}var RT=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Aye(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ul(this._repo,Ve())),this._rootInternal}_delete(){return this._rootInternal!==null&&(wye(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&bs("Cannot call "+e+" on a deleted database.")}};function Yz(t=qo(),e){let n=ru(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=ff("database");r&&Wz(n,...r)}return n}function Wz(t,e,n,r={}){t=Dt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&bs("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&bs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Jd(Jd.OWNER);else if(r.mockUserToken){let o=typeof r.mockUserToken=="string"?r.mockUserToken:gf(r.mockUserToken,t.app.options.projectId);s=new Jd(o)}Bye(i,e,n,s)}function _ye(t){BCe(ks),di(new kn("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Qye(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),ct(o4,a4,t),ct(o4,a4,"esm2017")}FT.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};FT.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};vCe(L4.default.Client);_ye("node");var of=class{constructor(e){return e}},Jz="database",HT=class{constructor(){return Yo(Jz)}};var YT=new Yn("angularfire2.database-instances");function Sye(t,e){let n=iu(Jz,t,e);return n&&new of(n)}function bye(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new of(r)}}var Dye={provide:HT,deps:[[new Wn,YT]]},Rye={provide:of,useFactory:Sye,deps:[[new Wn,YT],es]},Tye=(()=>{class t{constructor(){ct("angularfire",Fs.full,"rtdb")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ai({type:t});static \u0275inj=ai({providers:[Rye,Dye]})}return t})();function ETe(t,...e){return{ngModule:Tye,providers:[{provide:YT,useFactory:bye(t),multi:!0,deps:[Rs,xo,Wo,Jo,[new Wn,sc],[new Wn,Ho],...e]}]}}var mTe=en(Yz,!0);export{EBe as a,mBe as b,nEe as c,rEe as d,_d as e,sDe as f,oDe as g,aDe as h,ADe as i,cDe as j,lDe as k,uDe as l,hDe as m,dDe as n,fDe as o,gDe as p,oW as q,jY as r,MDe as s,xDe as t,KEe as u,XEe as v,ODe as w,nme as x,UDe as y,PDe as z,VDe as A,Xi as B,ETe as C,mTe as D};
